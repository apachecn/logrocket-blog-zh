<html>
<head>
<title>Introduction to RPC using Go and Node - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>ä½¿ç”¨Goå’ŒNode - LogRocketåšå®¢ä»‹ç»RPC</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/introduction-to-rpc-using-go-and-node/#0001-01-01">https://blog.logrocket.com/introduction-to-rpc-using-go-and-node/#0001-01-01</a></blockquote><div><article class="article-post">
<h2>ä»‹ç»</h2>
<p><a href="https://en.wikipedia.org/wiki/Remote_procedure_call" target="_blank" rel="noopener noreferrer"> RPC(è¿œç¨‹è¿‡ç¨‹è°ƒç”¨)</a>ç®€è€Œè¨€ä¹‹ï¼Œæ˜¯ä¸€ç§ç”¨äºå®¢æˆ·ç«¯-æœåŠ¡å™¨åº”ç”¨çš„åè®®ï¼Œå®ƒå…è®¸è½¯ä»¶å¼€å‘è€…å‘è¿œç¨‹æœåŠ¡å™¨è¯·æ±‚è¿‡ç¨‹æˆ–å‡½æ•°è°ƒç”¨ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•åœ¨Goä¸­æ„å»ºä¸€ä¸ªRPCæœåŠ¡å™¨ï¼Œä»¥åŠåœ¨Node.jsä¸­æ„å»ºä¸€ä¸ªRPCå®¢æˆ·ç«¯ã€‚</p>
<h2>å…ˆå†³æ¡ä»¶</h2>
<p>ä½ éœ€è¦:</p>
<ul>
<li>å®‰è£…åœ¨æœ¬åœ°æœºå™¨ä¸Šçš„<a href="https://golang.org" target="_blank" rel="noopener noreferrer"> Go </a></li>
<li>å®‰è£…åœ¨æœ¬åœ°æœºå™¨ä¸Šçš„<a href="https://nodejs.org/en/download" target="_blank" rel="noopener noreferrer">èŠ‚ç‚¹</a></li>
<li>å®‰è£…åœ¨æœ¬åœ°æœºå™¨ä¸Šçš„åè®®ç¼“å†²åŒº</li>
</ul>
<h2>ç›®æ ‡</h2>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªèŠå¤©RPCæœåŠ¡å™¨æ¥å‘é€æ¶ˆæ¯å¹¶è¿”å›ç”¨æˆ·çš„æè¿°æ€§ç»†èŠ‚ã€‚send messageè¿‡ç¨‹å°†æ¥å—æ¶ˆæ¯æ­£æ–‡ï¼Œè€Œå¦ä¸€ä¸ªè¿‡ç¨‹å°†æ¥å—ç”¨æˆ·çš„å§“åå’Œå¹´é¾„ã€‚</p>
<h2>åˆ›å»ºæœåŠ¡å™¨</h2>
<p>åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæ‚¨å°†æ„å»ºæ‚¨çš„RPCæœåŠ¡å™¨ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ç›®å½•:</p>
<pre>mkdir rpc-server</pre>
<p>å°†ç›®å½•æ›´æ”¹ä¸ºæ–°åˆ›å»ºçš„æ–‡ä»¶å¤¹:</p>
<pre>cd rpc-server</pre>
<h2>é…ç½®åè®®ç¼“å†²åŒº</h2>
<p>åè®®ç¼“å†²åŒºæ˜¯Googleåˆ›å»ºçš„ä¸€ç§æ•°æ®æ ¼å¼ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤ŸåŸºäºä¸ºä»»ä½•ç¼–ç¨‹è¯­è¨€æŒ‡å®šçš„æ•°æ®å’ŒæœåŠ¡ç”Ÿæˆæºä»£ç ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªåä¸º<code>chat.proto</code>çš„<code>proto</code>æ–‡ä»¶:</p>
<pre>touch chat.proto</pre>
<p>ç”¨æ‚¨æƒ³è¦çš„ç¼–è¾‘å™¨æ‰“å¼€<code>chat.proto</code>,ç²˜è´´ä»¥ä¸‹ä»£ç :</p>
<pre>syntax = "proto3";

package chat;

message Message {
  string body = 1;
}

message Details {
  string name = 1;
  int32 age = 2;
}

message Response {
  string body = 1;
}

service ChatService {
  rpc SayHello(Message) returns (Response) {}
  rpc GetDetails(Details) returns (Response) {}
}
</pre>
<p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹æ¯ä¸ªæ¨¡å—çš„åŠŸèƒ½:</p>
<pre>syntax = "proto3";</pre>
<p>è¿™æŒ‡å®šäº†æˆ‘ä»¬æ‰“ç®—å†™ä»€ä¹ˆç‰ˆæœ¬çš„protobufã€‚</p>
<pre>message Message {
  string body = 1;
}
</pre>
<p>è¿™å£°æ˜äº†ä¸€ä¸ª<code>Message</code>æ•°æ®å¯¹è±¡ï¼Œå®ƒåªèƒ½åŒ…å«ä¸€ä¸ªå¸¦æœ‰æ ‡ç­¾<code>body</code>çš„å­—ç¬¦ä¸²å…ƒç´ ã€‚</p>
<pre>message Details {
  string name = 1;
  int32 age = 2;
}</pre>
<p>è¿™å£°æ˜äº†ä¸€ä¸ª<code>Details</code>æ•°æ®å¯¹è±¡ï¼Œå®ƒåªèƒ½åŒ…å«ä¸€ä¸ªå¸¦æœ‰æ ‡ç­¾<code>name</code>çš„å­—ç¬¦ä¸²å…ƒç´ å’Œä¸€ä¸ªå¸¦æœ‰æ ‡ç­¾<code>age</code>çš„æ•´æ•°å…ƒç´ ã€‚</p>
<pre>message Response {
  string body = 1;
}</pre>
<p>è¿™å£°æ˜äº†ä¸€ä¸ª<code>Response</code>æ•°æ®å¯¹è±¡ï¼Œå®ƒåªèƒ½åŒ…å«ä¸€ä¸ªå¸¦æœ‰æ ‡ç­¾<code>body</code>çš„å­—ç¬¦ä¸²å…ƒç´ ã€‚</p>
<pre>service ChatService {
  rpc SayHello(Message) returns (Message) {}
  rpc GetDetails(Details) returns (Details) {}
}</pre>
<p>è¿™å£°æ˜äº†ä¸€ä¸ªåä¸º<code>ChatService</code>çš„æ–°æœåŠ¡ï¼Œå®ƒå°†åŒ…å«ä¸¤ä¸ªæ–¹æ³•ï¼Œæ¥å—<code>Message</code>æ•°æ®å¯¹è±¡å¹¶è¿”å›<code>Response</code>çš„<code>SayHello</code>æ–¹æ³•å’Œæ¥å—<code>Details</code>å¹¶è¿”å›<code>Response</code>çš„<code>GetDetails</code>æ–¹æ³•ã€‚ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ã€‚</p>
<p><em>æ³¨:ä½ å¯ä»¥åœ¨è¿™é‡Œäº†è§£æ›´å¤šå…³äºprotobuf <a href="https://developers.google.com/protocol-buffers/" target="_blank" rel="noopener noreferrer">çš„ä¿¡æ¯ã€‚</a></em></p>
<h2>ç”ŸæˆGoä»£ç </h2>
<p>æˆ‘ä»¬å°†åŸºäºä¸Šä¸€æ­¥ä¸­ç¼–å†™çš„<code>proto</code>æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªåè®®ç¼“å†²åŒºGoä»£ç ã€‚ä»ç„¶åœ¨<code>rpc-server</code>ç›®å½•ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<pre> mkdir chat</pre>
<p>è¿™å°†åœ¨<code>rpc-server</code>ç›®å½•ä¸­ç”Ÿæˆä¸€ä¸ªåä¸º<code>chat</code>çš„æ–°æ–‡ä»¶å¤¹ã€‚è¿™æ˜¯æ‚¨æ”¾ç½®æˆ‘ä»¬ç”Ÿæˆçš„Goä»£ç ä»¥åŠæ‚¨çš„<code>chat.proto</code>æ–‡ä»¶çš„å®ç°çš„åœ°æ–¹ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä»<code>chat.proto</code>æ–‡ä»¶ä¸­ç”Ÿæˆgoä»£ç :</p>
<pre>protoc --go_out=plugins=grpc:chat chat.proto</pre>
<p><em>æ³¨:ä½ å¯ä»¥åœ¨è¿™é‡Œäº†è§£æ›´å¤šå…³äºGoç”Ÿæˆä»£ç <a href="https://developers.google.com/protocol-buffers/docs/reference/go-generated#invocation" target="_blank" rel="noopener noreferrer">çš„ä¿¡æ¯ã€‚</a></em></p>
<p>è¿™å°†åœ¨ä¹‹å‰åˆ›å»ºçš„<code>chat</code>ç›®å½•ä¸­ç”Ÿæˆä¸€ä¸ªåä¸º<code>chat.pb.go</code>çš„æ–°æ–‡ä»¶ã€‚</p>
<p><em>æ³¨æ„:ä¸è¦ä¿®æ”¹<code>chat.pb.go</code>çš„å†…å®¹ã€‚</em></p>
<h2>å®ç°æ–¹æ³•</h2>
<p>åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å°†å®ç°åœ¨<code>chat.proto</code>ä¸­å®šä¹‰çš„<code>ChatService</code>ä¸­çš„æ–¹æ³•ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªåä¸º<code>chat.go</code>çš„æ–°æ–‡ä»¶:</p>
<pre>touch chat.go</pre>
<p>ç”¨æ‚¨æƒ³è¦çš„ç¼–è¾‘å™¨æ‰“å¼€<code>chat.go</code>,ç²˜è´´ä»¥ä¸‹ä»£ç :</p>
<pre>package chat

import (
    "fmt"
    "golang.org/x/net/context"
    "log"
)

type Server struct{}

func (s *Server) SayHello(ctx context.Context, message *Message) (*Response, error) {
    log.Println("SayHello Called")
    return &amp;Response{Body: fmt.Sprintf("New Message: %s", message.Body)}, nil
}

func (s *Server) GetDetails(ctx context.Context, message *Details) (*Response, error) {
    log.Println("GetDetails Called")
    return &amp;Response{Body: fmt.Sprintf("Your name is %s and you're %d years old", message.Name, message.Age)}, nil
}</pre>
<p>è®©æˆ‘æ¥åˆ†è§£ä¸€ä¸‹è¦ç‚¹:</p>
<pre>type Server struct{}</pre>
<p>è¿™å……å½“äº†è¿™ä¸ª<code>ChatService</code>å®ç°çš„æœåŠ¡å™¨æ¥å£ï¼Œæˆ‘ä»¬ç¨åå°†ä½¿ç”¨å®ƒæ¥æ’å…¥RPCæœåŠ¡å™¨ã€‚</p>
<p>ç¬¬ä¸€ä¸ªå‡½æ•°å®ç°äº†<code>SayHello</code>å‡½æ•°ï¼Œå½“è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¼šå°†<br/> <code>SayHello Called</code>è®°å½•åˆ°æ§åˆ¶å°ï¼ŒåŒæ—¶å°†<code>Response</code>å¯¹è±¡ä»¥åŠä¼ é€’ç»™å®ƒçš„æ¶ˆæ¯ä½“è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>
<p>ç¬¬äºŒä¸ªå‡½æ•°å®ç°äº†<code>GetDetails</code>å‡½æ•°ï¼Œå½“è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¼šå°†<br/> <code>GetDetails Called</code>è®°å½•åˆ°æ§åˆ¶å°ï¼ŒåŒæ—¶è¿”å›<code>Response</code>å¯¹è±¡ä»¥åŠä¸€æ¡åŒ…å«ä¼ å›å®¢æˆ·ç«¯çš„æ•°æ®çš„è‡ªå®šä¹‰æ¶ˆæ¯ã€‚</p>
<p>ä¸¤ä¸ªæ–¹æ³•éƒ½è¿”å›<code>error</code>å’Œä¸€ä¸ªæŒ‡é’ˆå¼•ç”¨<code>Response</code>ï¼Œå®ƒä½œä¸ºä¸€ä¸ªç»“æ„å­˜åœ¨äºåŸºäºæˆ‘ä»¬åœ¨<code>chat.proto</code>ä¸­å®šä¹‰çš„å†…å®¹ç”Ÿæˆçš„<code>chat.pb.go</code>æ–‡ä»¶ä¸­ã€‚</p>
<p><em>æ³¨æ„:å®ç°çš„æ–¹æ³•å¿…é¡»è¿”å›åœ¨<code>proto</code>å£°æ˜å’Œé”™è¯¯ä¸­å®šä¹‰çš„æŒ‡é’ˆå¼•ç”¨ã€‚</em></p>
<h2>é…ç½®æœåŠ¡å™¨</h2>
<p>åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæ‚¨å°†é€šè¿‡RPCæœåŠ¡äº<code>ChatService</code>ã€‚å°†ç›®å½•ä»<code>/chat</code>è½¬åˆ°ä½ çš„<code>rpc-server</code>ç›®å½•çš„æ ¹ç›®å½•ã€‚</p>
<pre>cd ..</pre>
<p>ç”Ÿæˆ<code>mod</code>æ–‡ä»¶:</p>
<pre>go mod init grpc-server/chat</pre>
<p>åˆ›å»ºä¸€ä¸ªåä¸º<code>server.go</code>çš„æ–°æ–‡ä»¶:</p>
<pre>touch server.go</pre>
<p>ç”¨æ‚¨æƒ³è¦çš„ç¼–è¾‘å™¨æ‰“å¼€<code>server.go</code>,ç²˜è´´ä»¥ä¸‹ä»£ç :</p>
<pre>package main

import (
    "fmt"
    "grpc-server/chat"
    "log"
    "net"

    "google.golang.org/grpc"
)

func main() {
    listener, err := net.Listen("tcp", fmt.Sprintf(":%d", 9000))

    if err != nil {
        log.Fatal(err)
    }

    chatServer := chat.Server{}

    grpcServer := grpc.NewServer()

    chat.RegisterChatServiceServer(grpcServer, &amp;chatServer)

    if err := grpcServer.Serve(listener); err != nil {
        log.Fatal(err)
    }
}
</pre>
<p>åœ¨é™¤Goæ ‡å‡†åº“ä¹‹å¤–çš„å¯¼å…¥å—ä¸­ï¼Œæˆ‘ä»¬æ­£åœ¨å¯¼å…¥èŠå¤©åŒ…ï¼Œå®ƒå…è®¸æ‚¨è°ƒç”¨åœ¨<code>chat.go</code>ä¸­å£°æ˜çš„æœåŠ¡å™¨ç»“æ„æ¥å£ï¼Œå¹¶è°ƒç”¨åœ¨<code>chat.pb.go</code>ä¸­ä¸ºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆçš„<code>RegisterChatServiceServer</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ–°çš„æœåŠ¡å™¨å®ä¾‹<code>grpc</code>å’ŒèŠå¤©æœåŠ¡å™¨çš„å†…å­˜ä½ç½®ã€‚</p>
<p>æœ€åä¸€ä¸ªå—é€šè¿‡<code>TCP</code>æœåŠ¡äºæˆ‘ä»¬åœ¨ç«¯å£<code>9000</code>ä¸Šçš„RPCæœåŠ¡å™¨ï¼Œå¦‚ä¹‹å‰åœ¨<code>listener</code>ä¸­å£°æ˜çš„ã€‚ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶ã€‚<code>rpc-server</code>çš„å†…å®¹ç»“æ„åº”è¯¥ç±»ä¼¼äºä¸‹é¢çš„å†…å®¹:</p>
<pre>ğŸ—‚rpc-server/
  ğŸ—‚chat/
    ğŸ—’ chat.go
    ğŸ—’ chat.pb.go
  ğŸ—’ chat.proto
  ğŸ—’ go.mod
  ğŸ—’ server.go</pre>
<p>é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨RPCæœåŠ¡å™¨:</p>
<pre>go run server.go</pre>
<h2>åˆ›å»ºå®¢æˆ·ç«¯</h2>
<p>æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯å®ä¾‹ï¼Œé€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤åœ¨<code>rpc-server</code>ä¹‹å¤–åˆ›å»ºä¸€ä¸ªåä¸º<code>rpc-client</code>çš„ä¸åŒæ–‡ä»¶å¤¹:</p>
<pre>mkdir rpc-client</pre>
<p>å°†ç›®å½•æ›´æ”¹ä¸º<code>rpc-client</code>:</p>
<pre>cd rpc-client</pre>
<p>å¯åŠ¨<code>npm</code>:</p>
<pre>npm init</pre>
<p>é€šè¿‡æŒ‰return/enteré”®æ¥å—é»˜è®¤é€‰é¡¹ã€‚æ¥ä¸‹æ¥ï¼Œå®‰è£…RPCåŒ…:</p>
<pre>npm i node-grpc-client</pre>
<p>åˆ›å»ºä¸€ä¸ª<code>chat.proto</code>æ–‡ä»¶:</p>
<pre>touch chat.proto</pre>
<p>å°†ä½äº<code>rpc-server</code>ä¸­çš„<code>chat.proto</code>çš„å†…å®¹å¤åˆ¶åˆ°æ‚¨æ–°åˆ›å»ºçš„<code>chat.proto</code>ä¸­ã€‚åˆ›å»ºä¸€ä¸ªåä¸º<code>client.js</code>çš„æ–°æ–‡ä»¶:</p>
<pre>touch client.js</pre>
<p>ç”¨æ‚¨æƒ³è¦çš„ç¼–è¾‘å™¨æ‰“å¼€<code>client.js</code>,ç²˜è´´ä»¥ä¸‹ä»£ç :</p>
<pre>const GRPCClient = require('node-grpc-client')

const path = require("path")

const PROTO_PATH = path.resolve(__dirname, 'chat.proto')

const client = new GRPCClient(PROTO_PATH, 'chat', 'ChatService', 'localhost:9000')

const message = {
    body: "Hello from Trojan",
}

const details = {
    name: "Trojan",
    age: 40
}

client.runService('SayHello', message, (err, res) =&gt; {
    console.log(res.body);
});

client.runService('GetDetails', details, (err, res) =&gt; {
    console.log(res.body);
});
</pre>
<p>æ‚¨å¯ä»¥æŸ¥çœ‹<a href="https://www.npmjs.com/package/node-grpc-client" target="_blank" rel="noopener noreferrer"> node-grpc-client </a>åŒ…æ–‡æ¡£æ¥å…¨é¢äº†è§£è¿™æ˜¯åšä»€ä¹ˆçš„ã€‚ä¿å­˜å¹¶é€€å‡ºã€‚</p>
<p><code>rpc-server</code>çš„å†…å®¹ç»“æ„åº”è¯¥ç±»ä¼¼äºä¸‹é¢çš„å†…å®¹:</p>
<pre>ğŸ—‚rpc-client/
  ğŸ—‚node_modules/
  ğŸ—’ chat.proto
  ğŸ—’ client.js
  ğŸ—’ package.json
  ğŸ—’ package-lock.json
</pre>
<p>é€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè¿è¡Œæ‚¨çš„å®¢æˆ·ç«¯ä»£ç æ¥è°ƒç”¨RPCæœåŠ¡å™¨:</p>
<pre>node client.js</pre>
<p>è¿™å°†ä»æœåŠ¡å™¨è¿”å›ä»¥ä¸‹è¾“å‡º:<img data-attachment-id="20930" data-permalink="https://blog.logrocket.com/introduction-to-rpc-using-go-and-node/client/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/06/client.png" data-orig-size="730,529" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="client" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/06/client-300x217.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/06/client.png" decoding="async" class="aligncenter size-full wp-image-20930 jetpack-lazy-image" src="../Images/d5ab49fcbd09bb96ba60161623bebb8b.png" alt="client" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/06/client.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/06/client-300x217.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/06/client.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/client.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="20930" data-permalink="https://blog.logrocket.com/introduction-to-rpc-using-go-and-node/client/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/06/client.png" data-orig-size="730,529" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="client" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/06/client-300x217.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/06/client.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-20930" src="../Images/d5ab49fcbd09bb96ba60161623bebb8b.png" alt="client" srcset="https://blog.logrocket.com/wp-content/uploads/2020/06/client.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/06/client-300x217.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/client.png"/></noscript>
<p>å®ƒå·¥ä½œäº†ï¼Œç»§ç»­åœ¨å®ƒçš„ç»ˆç«¯æ ‡ç­¾/çª—å£ä¸Šæ£€æŸ¥æœåŠ¡å™¨çš„æ—¥å¿—è¾“å‡º:<br/> <img data-attachment-id="20931" data-permalink="https://blog.logrocket.com/introduction-to-rpc-using-go-and-node/server/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/06/server.png" data-orig-size="730,589" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="server" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/06/server-300x242.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/06/server.png" decoding="async" class="aligncenter size-full wp-image-20931 jetpack-lazy-image" src="../Images/00404ee07bbbbd82f6a1612bdb8cbe33.png" alt="server" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/06/server.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/06/server-300x242.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/06/server.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/server.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="20931" data-permalink="https://blog.logrocket.com/introduction-to-rpc-using-go-and-node/server/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/06/server.png" data-orig-size="730,589" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="server" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/06/server-300x242.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/06/server.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-20931" src="../Images/00404ee07bbbbd82f6a1612bdb8cbe33.png" alt="server" srcset="https://blog.logrocket.com/wp-content/uploads/2020/06/server.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/06/server-300x242.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/server.png"/></noscript><br/>
As you can see in the image above, <code>SayHello Called</code> and <code>GetDetails Called</code> was logged as expected as the functions were accessed by the client.
<h2>ç»“è®º</h2>
<p>åœ¨æœ¬æ•™ç¨‹ç»“æŸæ—¶ï¼Œæ‚¨åº”è¯¥äº†è§£äº†å¦‚ä½•åœ¨Goä¸­æ„å»ºRPCæœåŠ¡å™¨ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡Nodeç¼–å†™çš„å®¢æˆ·ç«¯è°ƒç”¨æœåŠ¡å™¨ä¸Šçš„è¿‡ç¨‹ã€‚ä½ å¯ä»¥åœ¨GitHubä¸Šæ‰¾åˆ°<a href="https://github.com/ichtrojan/grpc-server" target="_blank" rel="noopener noreferrer"> RPCæœåŠ¡å™¨</a>å’Œ<a href="https://github.com/ichtrojan/node-rpc-client" target="_blank" rel="noopener noreferrer"> RPCå®¢æˆ·ç«¯</a>çš„å­˜å‚¨åº“ã€‚</p><div class="code-block code-block-23">
<div class="blog-plug inline-plug node-plug"><h2>200åª<img src="../Images/61167b9d027ca73ed5aaf59a9ec31267.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/green-check.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/green-check.png"/> <noscript> <img data-lazy-fallback="1" src="../Images/61167b9d027ca73ed5aaf59a9ec31267.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/green-check.png"/> </noscript>æ˜¾ç¤ºå™¨å‡ºç°æ•…éšœï¼Œç”Ÿäº§ä¸­ç½‘ç»œè¯·æ±‚ç¼“æ…¢</h2><p>éƒ¨ç½²åŸºäºèŠ‚ç‚¹çš„webåº”ç”¨ç¨‹åºæˆ–ç½‘ç«™æ˜¯å®¹æ˜“çš„éƒ¨åˆ†ã€‚ç¡®ä¿æ‚¨çš„èŠ‚ç‚¹å®ä¾‹ç»§ç»­ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºæä¾›èµ„æºæ˜¯äº‹æƒ…å˜å¾—æ›´åŠ å›°éš¾çš„åœ°æ–¹ã€‚å¦‚æœæ‚¨å¯¹ç¡®ä¿å¯¹åç«¯æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡çš„è¯·æ±‚æˆåŠŸæ„Ÿå…´è¶£ï¼Œ</p><a href="https://lp.logrocket.com/blg/node-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/node-signup" target="_blank" rel="noopener noreferrer"><img src="../Images/cae72fd2a54c5f02a6398c4867894844.png" alt="LogRocket Network Request Monitoring" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/network-request-filter-2-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/network-request-filter-2-1.png"/><noscript><img data-lazy-fallback="1" src="../Images/cae72fd2a54c5f02a6398c4867894844.png" alt="LogRocket Network Request Monitoring" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/network-request-filter-2-1.png"/></noscript></a><a href="https://lp.logrocket.com/blg/node-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket å°±åƒæ˜¯ç½‘ç»œå’Œç§»åŠ¨åº”ç”¨ç¨‹åºçš„DVRï¼Œè®°å½•ä¸‹ç”¨æˆ·ä¸ä½ çš„åº”ç”¨ç¨‹åºäº¤äº’æ—¶å‘ç”Ÿçš„ä¸€åˆ‡ã€‚æ‚¨å¯ä»¥æ±‡æ€»å¹¶æŠ¥å‘Šæœ‰é—®é¢˜çš„ç½‘ç»œè¯·æ±‚ï¼Œä»¥å¿«é€Ÿäº†è§£æ ¹æœ¬åŸå› ï¼Œè€Œä¸æ˜¯çŒœæµ‹é—®é¢˜å‘ç”Ÿçš„åŸå› ã€‚</p><p>LogRocketæ£€æµ‹æ‚¨çš„åº”ç”¨ç¨‹åºä»¥è®°å½•åŸºçº¿æ€§èƒ½è®¡æ—¶ï¼Œå¦‚é¡µé¢åŠ è½½æ—¶é—´ã€åˆ°è¾¾ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æ—¶é—´ã€æ…¢é€Ÿç½‘ç»œè¯·æ±‚ï¼Œè¿˜è®°å½•Reduxã€NgRxå’ŒVuexæ“ä½œ/çŠ¶æ€ã€‚</p><a class="signup" href="https://lp.logrocket.com/blg/node-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a><p>. </p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
 </article>

</div>    
</body>
</html>