# åœ¨ React apps - LogRocket åšå®¢ä¸Šæ„å»ºäº§å“ä¹‹æ—…çš„å®Œæ•´æŒ‡å—

> åŸæ–‡ï¼š<https://blog.logrocket.com/complete-guide-to-build-product-tours-on-your-react-apps/>

### ä»‹ç»

å¬è¯´è¿‡äº§å“ UI ä¸­çš„æ—…æ¸¸å—ï¼Ÿ

![An example of a preview of an Invision product tour](img/810729db17793636b4ce1df141ea432a.png)

> äº§å“ä¹‹æ—…æ˜¯è‡ªæˆ‘è§£é‡Šçš„æç¤ºç”¨æˆ·ç•Œé¢ï¼Œå¸®åŠ©ç½‘ç«™ç”¨æˆ·åˆ†è§£å¤æ‚çš„ UXï¼Œä½¿å…¶æ˜“äºä½¿ç”¨ã€‚

äº§å“æ¸¸è§ˆåœ¨ B2B äº§å“ç”¨æˆ·ç•Œé¢ä¸­èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚å®ƒæœ‰åŠ©äºèŠ‚çœå®¢æˆ·æ”¯æŒæ—¶é—´ï¼Œé¿å…é‡å¤è¯¢é—®æœ‰å…³ UX çš„â€œä½¿ç”¨æ–¹æ³•â€é—®é¢˜ã€‚

## äº§å“ä¹‹æ—…è§£å†³äº†å“ªäº›é—®é¢˜ï¼Ÿ

äº§å“ä¹‹æ—…å¸®åŠ©ç”¨æˆ·äº†è§£æ–°çš„å¤æ‚çš„ UXï¼Œå¹¶å¸®åŠ©ç”¨æˆ·ç†Ÿæ‚‰ UI åŠŸèƒ½ã€‚å®ƒä»¬å¯¹äºåœ¨äº§å“ UI ä¸Šå±•ç¤ºæ–°çš„æ›´æ–°ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œå¹¶ä¸”å¯ä»¥ä¸ºå®¢æˆ·æˆåŠŸå›¢é˜ŸèŠ‚çœæ—¶é—´ã€‚

Slackã€Trelloã€Asana å’Œ Invision æ˜¯ä¸€äº›å¤§å‹äº§å“ï¼Œå®ƒä»¬ä½¿ç”¨äº§å“æ—…æ¸¸æ¥æ»¡è¶³ä¸åŒçš„ UX éœ€æ±‚ã€‚

äº§å“å‚è§‚çš„é—´æ¥æ›¿ä»£æ–¹æ¡ˆï¼ŒåŒ…æ‹¬å…³äºäº§å“åŠŸèƒ½çš„å¸¸è§é—®é¢˜è§£ç­”ã€äº§å“è§†é¢‘æ¼”ç¤ºå’Œå‚è§‚ï¼Œä»¥åŠæŒ‰éœ€æç¤º UIã€‚

ç„¶è€Œï¼Œè§†é¢‘å‚è§‚æˆ–å¸¸è§é—®é¢˜è§£ç­”çš„å½±å“ç¨‹åº¦ä¸å¦‚åœ¨çº¿äº§å“å‚è§‚ã€‚

å¤§å¤šæ•°ç”¨æˆ·ä¸ä¼šåœ¨ç”¨æˆ·ç•Œé¢ä¹‹å¤–å¯»æ‰¾æ•™ç¨‹ã€‚

å¦ä¸€æ–¹é¢ï¼ŒæŒ‰éœ€æç¤º UI ç±»ä¼¼äºäº§å“æ¸¸è§ˆï¼Œå¯ä»¥äº§ç”Ÿç±»ä¼¼çš„å½±å“ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä¸º React åº”ç”¨ç¨‹åºæ„å»ºä¸€ä¸ªç®€å•çš„äº§å“ä¹‹æ—…ã€‚åœ¨æ„å»ºä¹‹å‰ï¼Œæ‚¨é¦–å…ˆéœ€è¦äº†è§£ç°æœ‰çš„ React åº“ã€‚

### ç°æœ‰çš„ React äº§å“å¯¼è§ˆåº“

å°½ç®¡å¾ˆå¤šå…¬å¸éƒ½ä½¿ç”¨äº§å“æ¸¸è§ˆï¼Œä½†æ˜¯åŸºäº React çš„æ¸¸è§ˆ ui å¹¶ä¸å¤šã€‚ä¸€äº›å›¾ä¹¦é¦†æ˜¯ React Tour å’Œ React Joyrideã€‚

## React æ—…æ¸¸å›¾ä¹¦é¦†

[React Tour](https://github.com/elrumordelaluz/reactour) åœ¨ Github ä¸Šçº¦æœ‰ 1.4k é¢—æ˜Ÿï¼Œæ´»è·ƒç¨‹åº¦ä¸­ç­‰ã€‚

å¦‚æœä½ éœ€è¦ä¸€ä¸ªç®€å•çš„æ²¡æœ‰å¤ªå¤šå®šåˆ¶çš„äº§å“ä¹‹æ—…ï¼Œå®ƒæœ‰éå¸¸å¥½çš„ç”¨æˆ·ç•Œé¢ã€‚å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼ŒReact Tour UI å°±è¶³å¤Ÿå¥½äº†ã€‚

ä½ å¯ä»¥ç‚¹å‡»æŸ¥çœ‹ React Tour [çš„æ¼”ç¤ºã€‚](https://reactour.js.org/)

### å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„

ä½¿ç”¨ React Tourï¼Œæ‚¨å¯ä»¥å°†æ¯ä¸ªæ­¥éª¤çš„ç±»åé€‰æ‹©å™¨å’Œå†…å®¹ä¼ é€’ç»™ç»„ä»¶ã€‚

å®ƒå°†åŸºäºæŒ‰é’®ç‚¹å‡»æˆ–è€…åœ¨å®‰è£…ç»„ä»¶ä¹‹åå‘ˆç°æ¸¸è§ˆ UIã€‚å¯¹äºé™æ€é¡µé¢å’Œ UI æ¥è¯´å¾ˆç®€å•:

```
const steps = [
  {
    selector: '.tour-first-step',
    content: 'This is the first Step',
  },
  {
    selector: '.tour-second-step',
    content: 'This is the second Step',
  }
  // ...
]
```

ç„¶è€Œï¼Œå¦‚æœä½ éœ€è¦ä¸ºä¸€ä¸ªè‡ªå®šä¹‰è¡Œä¸ºè¿›è¡Œè‡ªå®šä¹‰ï¼Œé‚£ä¹ˆå®ƒå°±ä¸ä¼šå¾ˆå¥½åœ°å·¥ä½œã€‚è¯¥ç»„ä»¶éå¸¸æ­»æ¿ï¼Œå¹¶ä¸”æ ·å¼æš´éœ²å¾—ä¸å¤Ÿå¥½ï¼Œæ— æ³•é‡ç”¨ã€‚

ä¸€ä¸ªç¼ºç‚¹æ˜¯ï¼Œå¦‚æœä½ ä¸åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨`styled-components`ï¼Œé‚£ä¹ˆä½ åœ¨ä½¿ç”¨è¿™ä¸ªç»„ä»¶æ—¶å°±ä¸ä¼šæœ‰ä»»ä½•è¿æ°”ã€‚æ²¡æœ‰å…¶ä»–æ–¹æ³•â€”â€”åº“å¯¹æ ·å¼åŒ–çš„ç»„ä»¶æœ‰ä¸€ä¸ªç¡¬ä¾èµ–ã€‚

æ­¤å¤–ï¼Œå¦‚æœç±»åé€‰æ‹©å™¨ä¸åœ¨å½“å‰å±å¹•ä¸­ï¼Œé‚£ä¹ˆ React Tour åªåœ¨å±å¹•ä¸­å¤®æ˜¾ç¤ºä¸åŒ¹é…çš„å†…å®¹ã€‚æ²¡æœ‰åŠæ³•éšç’ã€‚

è¦†ç›–è¿™ç§è¡Œä¸ºçš„å”¯ä¸€æ–¹æ³•æ˜¯é€šè¿‡æˆ‘ä»¬è‡ªå·±çš„é€»è¾‘è§¦å‘æ¥ä¸‹æ¥çš„æ­¥éª¤ï¼Œä½†æ˜¯è¿™è¿èƒŒäº†ç»„ä»¶çš„ç›®çš„ã€‚

è¿™å‡ ä¹å’Œä¸ºäº§å“ä¹‹æ—…ç¼–å†™è‡ªå·±çš„ç»„ä»¶ä¸€æ ·å¤æ‚ã€‚

* * *

### æ›´å¤šæ¥è‡ª LogRocket çš„ç²¾å½©æ–‡ç« :

* * *

å½“ä½ ä¸æƒ³å®šåˆ¶å¤ªå¤šï¼Œæˆ–è€…ä½ æƒ³è¦æœ‰æ¼‚äº®çš„ç”¨æˆ·ç•Œé¢å’Œ UX çš„åŸºæœ¬æ—…æ¸¸åŠŸèƒ½æ—¶ï¼ŒReact Tour çœŸçš„ä¼šå¤§æ”¾å¼‚å½©ã€‚

å®ƒä¹Ÿé€‚ç”¨äºé™æ€å†…å®¹æˆ–åŠ¨æ€å†…å®¹ï¼Œå…¶ä¸­é€‰æ‹©å™¨æ ‡ç­¾æ€»æ˜¯å­˜åœ¨äº UI ä¸Šã€‚

## React Joyride åº“

ä¸‹ä¸€ä¸ªè‘—åçš„ React äº§å“æ¸¸è§ˆåº“æ˜¯ [React Joyride](https://react-joyride.com/) ã€‚å®ƒåœ¨ [Github](https://github.com/gilbarbara/react-joyride) ä¸Šæœ‰ 3k é¢—æ˜Ÿï¼Œä¹Ÿåœ¨ç§¯æå¼€å‘ä¸­ã€‚

UI æ²¡æœ‰ React Tours é‚£ä¹ˆä¼˜é›…ï¼Œä½†æ˜¯ API ä¹Ÿæ²¡æœ‰é‚£ä¹ˆæ­»æ¿ã€‚å®ƒå…è®¸æŸç§ç¨‹åº¦çš„å®šåˆ¶ã€‚

å½“ç„¶ï¼Œå®ƒä¹Ÿæœ‰è‡ªå·±çš„å±€é™æ€§ã€‚

å¦‚æœæ‚¨éœ€è¦åœ¨åŸºæœ¬ React tour åŠŸèƒ½çš„åŸºç¡€ä¸Šå®šåˆ¶è§£å†³æ–¹æ¡ˆï¼Œè¿™äº›æ–‡æ¡£è¿˜ä¸å¤Ÿå¥½ã€‚props API ä¹Ÿä¸æ˜¯å¾ˆç›´è§‚æˆ–ç®€å•ã€‚

å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œå®ƒä¸ºäº§å“ä¹‹æ—…ä¸­çš„å¤§å¤šæ•°ç”¨ä¾‹æä¾›äº†è§£å†³æ–¹æ¡ˆã€‚å®ƒä»¬å‘æœ€ç»ˆç”¨æˆ·å…¬å¼€æ‰€æœ‰çš„äº‹ä»¶å’ŒåŠ¨ä½œï¼Œå› æ­¤æ‚¨å¯ä»¥æ•è·è¿™äº›åŠ¨ä½œå¹¶è¿›è¡Œä»»ä½•æ‚¨æƒ³è¦çš„å®šåˆ¶ã€‚

### åœ¨ React åº”ç”¨ç¨‹åºä¸­æ„å»ºç®€å•çš„äº§å“ä¹‹æ—…

é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªæ²¡æœ‰ä»»ä½•è‡ªå®šä¹‰åŠŸèƒ½çš„ç®€å• React æ¸¸è§ˆã€‚

æˆ‘ä»¬å°†ä½¿ç”¨[åˆ›æ„è’‚å§†](https://www.creative-tim.com/)çš„`react-dashboard`ä½œä¸ºæˆ‘ä»¬çš„åŸºæœ¬åº”ç”¨ã€‚

è¿™å°†åœ¨å®ƒçš„é¡¶éƒ¨åŠ è½½äº§å“æ¸¸è§ˆã€‚

è¿™æ˜¯ä»ªè¡¨æ¿ç”¨æˆ·ç•Œé¢çš„å¤–è§‚:

![An example of the UI dashboard.](img/37cb14bea9f3e4bd652c5dbe7c64b10d.png)

æˆ‘ä»¬å°†åœ¨è¿™ä¸ªç”¨æˆ·ç•Œé¢ä¸Šè¿›è¡Œäº§å“å‚è§‚ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°æœ€ç»ˆçš„äº§å“å¯¼è§ˆ UI [ã€‚](https://product-tours.netlify.com/)

è®©æˆ‘ä»¬åˆ›å»ºç®€å•çš„äº§å“æ¸¸è§ˆç»„ä»¶:

```
// tour.js

import React from "react";
import JoyRide from "react-joyride";

// Tour steps
const TOUR_STEPS = [
  {
    target: ".tour-search",
    content: "This is where you can search the dashboard."
  },
  {
    target: ".tour-orders",
    content:
      "Bar chart for total order. You can see beautiful graphs here, thanks to creative tim for such UI."
  },
  {
    target: ".tour-external-links",
    content: "This is where you can find the external links."
  },
  {
    target: ".tour-footer",
    content: "This is where you can see the footer links."
  }
];

// Tour component
const Tour = () => {
  return (
    <>
      <JoyRide steps={TOUR_STEPS} continuous={true} />
    </>
  );
};

export default Tour;
```

å°†è¿™ä¸ª tour ç»„ä»¶åŠ è½½åˆ°é¡µé¢ä¸Šçš„ä»»æ„ä½ç½®ï¼Œä»¥åŠ è½½é—ªçƒçš„`beacon` UIã€‚å¦‚æœä½ ç‚¹å‡»é‚£ä¸ªä¿¡å·ç¯ï¼Œå®ƒå°†æ‰“å¼€æ¸¸è§ˆã€‚â€œä¸‹ä¸€æ­¥â€æŒ‰é’®å¯è®©æ‚¨å¯¼èˆªè‡³æ—…ç¨‹ç»“æŸã€‚

### å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„

Joyride ç»„ä»¶éœ€è¦å¾ˆå¤šé“å…·ã€‚æœ€é‡è¦çš„æ˜¯`steps`é“å…·ã€‚å®ƒæ¥å—å¸¦æœ‰ç›®æ ‡é€‰æ‹©å™¨å…ƒç´ å’Œå†…å®¹çš„å¯¹è±¡æ•°ç»„ã€‚

`Continuous`é“å…·ç”¨äºæ˜¾ç¤ºæ¯ä¸€æ­¥çš„ä¸‹ä¸€æ­¥æŒ‰é’®ã€‚

ä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°è¿™ä¸ªç®€å•æ—…æ¸¸ç»„ä»¶[çš„](https://deploy-preview-1--product-tours.netlify.com/)[æ¼”ç¤º](https://deploy-preview-1--product-tours.netlify.com/)ã€‚

ç°åœ¨è®©æˆ‘ä»¬æ·»åŠ æ›´å¤šçš„åŠŸèƒ½ï¼Œä½¿æˆ‘ä»¬çš„äº§å“ä¹‹æ—…æ›´åŠ å®šåˆ¶åŒ–ã€‚ç®€å•çš„åŠŸèƒ½æœ‰:

*   æ¯æ­¥è·³è¿‡é€‰é¡¹
*   æ›´æ”¹åŒºåŸŸè®¾ç½®æ–‡æœ¬æ ‡ç­¾
*   éšè—/æ˜¾ç¤ºæŒ‰é’®(ä¸‹ä¸€æ­¥ã€è·³è¿‡ã€åé€€æŒ‰é’®)
*   è‡ªå®šä¹‰æ ·å¼ï¼Œå¦‚æŒ‰é’®é¢œè‰²å’Œæ–‡æœ¬å¯¹é½æ–¹å¼

ç„¶åï¼Œæˆ‘ä»¬å°†æ·»åŠ è‡ªå®šä¹‰åŠŸèƒ½ï¼Œå¦‚:

*   è‡ªåŠ¨å¼€å§‹æ—…ç¨‹
*   é€šè¿‡æ‰‹åŠ¨è§¦å‘å™¨(å³ï¼Œé€šè¿‡é“¾æ¥æˆ–æŒ‰é’®ç‚¹å‡»)å¼€å§‹æ—…ç¨‹
*   éšè—é—ªçƒçš„ä¿¡å·ç¯
*   è‡ªåŠ¨å¼€å§‹æ¸¸è§ˆä¸€æ¬¡ï¼Œä¸‹æ¬¡æ‰‹åŠ¨è§¦å‘æ—¶ä»…æ˜¾ç¤ºæ¸¸è§ˆ

å¤§éƒ¨åˆ†åŸºæœ¬åŠŸèƒ½éƒ½å¯ä»¥é€šè¿‡ Joyride [docs](https://docs.react-joyride.com/props) æä¾›çš„`props`æ¥å®ç°ã€‚

### æ¯æ­¥è·³è¿‡é€‰é¡¹

ç»™ true åŠ ä¸Š`showSkipButton`å°±å¯ä»¥äº†ã€‚è·³è¿‡é“¾æ¥å°†è·³è¿‡æœ¬æ•™ç¨‹çš„å‰©ä½™æ­¥éª¤ã€‚

```
const Tour = () => {
  return (
    <>
      <JoyRide steps={TOUR_STEPS} continuous={true} showSkipButton={true} />
    </>
  );
};
```

### å¦‚ä½•æ›´æ”¹æŒ‰é’®å’Œé“¾æ¥çš„æ–‡æœ¬æ ‡ç­¾

è®©æˆ‘ä»¬å°†æœ€åä¸€ä¸ªæŒ‰é’®æ–‡æœ¬æ”¹ä¸º`end tour`ï¼Œå¹¶è·³è¿‡æŒ‰é’®æ–‡æœ¬ä¸º`close tour`ã€‚

```
const Tour = () => {
  return (
    <>
      <JoyRide
        steps={TOUR_STEPS}
        continuous={true}
        showSkipButton={true}
        locale={{
          last: "End tour",
          skip: "Close tour"
        }}
      />
    </>
  );
};
```

### å¦‚ä½•éšè—åé€€ã€å‰è¿›å’Œè·³è¿‡æŒ‰é’®

*   å¯¹äºè·³è¿‡æŒ‰é’®ï¼Œä½¿ç”¨`*showSkipButton*`é“å…·
*   å¯¹äºåé€€æŒ‰é’®ï¼Œä½¿ç”¨`hideBackButton`
*   å¯¹äºä¸‹ä¸€ä¸ªæŒ‰é’®ï¼Œä½¿ç”¨`continuous`é“å…·

ä¸å…¶ä»–é“å…·ä¸åŒï¼Œ`continuous`é“å…·çš„ä½œç”¨ä¸åŒã€‚å®ƒä»¬è¦ä¹ˆæ˜¾ç¤ºâ€œä¸‹ä¸€æ­¥â€æŒ‰é’®ï¼Œè¦ä¹ˆæ˜¾ç¤ºâ€œå…³é—­â€æŒ‰é’®ï¼Œè¿™å–å†³äºä¼ é€’ç»™ props çš„å¸ƒå°”å€¼ã€‚

å¯ä»¥çœ‹åˆ° props API å‘½åæ˜¯å¤šä¹ˆçš„ä¸ä¸€è‡´ã€‚é™¤éä½ å¤šæ¬¡é˜…è¯» Joyride çš„å®Œæ•´æ–‡æ¡£ï¼Œå¦åˆ™å¾ˆéš¾å‘ç°å¤§é‡éšè—çš„åŠŸèƒ½ğŸ˜…

## è‡ªå®šä¹‰æ ·å¼ï¼Œå¦‚æŒ‰é’®é¢œè‰²å’Œæ–‡æœ¬å¯¹é½æ–¹å¼

æ ·å¼ä½œä¸ºå¯¹è±¡å…¬å¼€ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨å°†ä¸€ä¸ªæ ·å¼å¯¹è±¡ä¼ é€’ç»™ç»„ä»¶ï¼Œç»„ä»¶ä¼šå°†å…¶ä¸é»˜è®¤æ ·å¼åˆå¹¶ã€‚

```
const Tour = () => {
  return (
    <>
      <JoyRide
        steps={TOUR_STEPS}
        continuous={true}
        showSkipButton={true}
        styles={{
          tooltipContainer: {
            textAlign: "left"
          },
          buttonNext: {
            backgroundColor: "green"
          },
          buttonBack: {
            marginRight: 10
          }
        }}
        locale={{
          last: "End tour",
          skip: "Close tour"
        }}
      />
    </>
  );
};
```

è¿™ç§æ ·å¼çš„ä¸€ä¸ªæ³¨æ„äº‹é¡¹æ˜¯ï¼Œå®ƒåªæ”¯æŒå°‘æ•°å¯¹è±¡æ ·å¼ï¼Œè¿™äº›æ ·å¼å·²ç»åœ¨ç»„ä»¶ä¸Šå®šä¹‰äº†ã€‚

å®ƒä¸å…è®¸æ‚¨åœ¨å…ƒç´ çº§åˆ«ä¸Šå®šåˆ¶ä»»ä½•ä¸œè¥¿ã€‚æ­¤å¤–ï¼Œå‘ˆç°å…ƒç´ ä¸­ä½¿ç”¨çš„ç±»åä¸å¤ªå®¹æ˜“å®šåˆ¶ã€‚

ä½†æ˜¯ï¼Œåº“å…¬å¼€äº† props æ¥ä½¿ç”¨æ‚¨è‡ªå·±çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯é»˜è®¤å…ƒç´ ã€‚

ä¸€äº›ç»„ä»¶åŒ…æ‹¬:

*   ä¿¡æ ‡ç»„ä»¶(`beaconComponent`é“å…·)
*   tooltip component ( `tooltipComponent` prop)

### å—æ§äº§å“ä¹‹æ—…

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨å·²ç»å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ Joyride åº“æ¥åˆ›å»ºåŸºæœ¬çš„äº§å“æ¸¸è§ˆï¼Œå¹¶ä½¿ç”¨é“å…·å¯¹å…¶è¿›è¡Œå®šåˆ¶ã€‚

æ‚¨è¿˜çœ‹åˆ°äº†å¯¹ç»„ä»¶è¿›è¡Œæ ·å¼åŒ–çš„ä¸€äº›é™åˆ¶ã€‚

ç›´åˆ°ç°åœ¨ï¼Œæ¸¸è§ˆä¸€ç›´è¢«æ§åˆ¶åœ¨å›¾ä¹¦é¦†é‡Œã€‚ä½ åªéœ€é€šè¿‡æ­¥éª¤å’Œè°ƒæ•´ä¸€äº›é“å…·ã€‚

å¯ä»¥é€šè¿‡ç‚¹å‡»æŒ‰é’®ç›´æ¥æ§åˆ¶æ—…ç¨‹å’Œè§¦å‘`goto`ç‰¹å®šæ­¥éª¤ï¼Œä½†è¿™éœ€è¦ä¸€äº›ç¼–ç ã€‚

æˆ‘ä»¬å°†é€šè¿‡å®ç°ä¸€äº›ç‰¹æ€§æ¥çœ‹çœ‹å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ã€‚

Joyride ç»„ä»¶é€šè¿‡å›è°ƒå…¬å¼€ä¸€äº›åŠ¨ä½œå’Œäº‹ä»¶ã€‚æ‚¨éœ€è¦æ•è·å›è°ƒï¼Œå¹¶ä¸”åŸºäºè¯¥å‡½æ•°ï¼Œæ‚¨å¯ä»¥å®šåˆ¶æ‚¨çš„åŠŸèƒ½ã€‚

é€šè¿‡ä¼ é€’ä¸€ä¸ªé“å…·`stepIndex`å°±å¯ä»¥å¾ˆç®€å•çš„è®©ç»„ä»¶è¢«æ§åˆ¶ã€‚

`stepIndex`æ˜¯ç´¢å¼•å·ï¼Œä» 0 å¼€å§‹ã€‚ä¸€æ—¦ä¼ é€’äº†è¿™äº›å€¼ï¼Œä¸‹ä¸€æ­¥å’Œä¸Šä¸€æ­¥æŒ‰é’®çš„ç‚¹å‡»å°±éœ€è¦ç”±æ‚¨æ¥å¤„ç†ã€‚

æˆ‘ä»¬å¼€å§‹å§ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†å®šä¹‰æ­¥éª¤:

```
const TOUR_STEPS = [
  {
    target: ".tour-search",
    content: "This is where you can search the dashboard.",
    disableBeacon: true // This makes the tour to start automatically without click
  },
  {
    target: ".tour-orders",
    content:
      "Bar chart for total order. You can see beautiful graphs here, thanks to creative tim for such UI."
  },
  {
    target: ".tour-external-links",
    content: "This is where you can find the external links."
  },
  {
    target: ".tour-footer",
    content: "This is where you can see the footer links."
  },
  {
    target: ".tour-link",
    content: "This is where you can start the tour again in future."
  }
];
```

ä»¥ä¸‹æ˜¯ä½¿ç»„ä»¶å—æ§çš„åˆå§‹çŠ¶æ€:

```
// Initial state for the tour component
const INITIAL_STATE = {
  key: new Date(), // This field makes the tour to re-render when we restart the tour
  run: false,
  continuous: true, // Show next button
  loading: false,
  stepIndex: 0, // Make the component controlled
  steps: TOUR_STEPS
};
```

è¦è‡ªåŠ¨å¼€å§‹æ—…ç¨‹ï¼Œæ‚¨éœ€è¦åœ¨ç¬¬ä¸€æ­¥é€šè¿‡`disableBeacon: true`ã€‚è¿™åªä¼šä½¿ä¿¡æ ‡å¤±æ•ˆã€‚ä½†æ˜¯æ‚¨éœ€è¦é€šè¿‡æ”¹å˜çŠ¶æ€`run: true`æ¥è§¦å‘ start:

```
// Reducer will manage updating the local state
const reducer = (state = INITIAL_STATE, action) => {
  // TODO: Implement reducer  
};

// Tour component
const Tour = () => {
  // Tour state is the state which control the JoyRide component
  const [tourState, dispatch] = useReducer(reducer, INITIAL_STATE);

  useEffect(() => {
    // TODO: Auto start the tour
  }, []);

  const callback = data => {
    const { action, index, type, status } = data;

    // TODO: Capture close, skip, next / prev action
  };

  const startTour = () => {
    // TODO: Start the tour manually
  };

  return (
    <>
      <JoyRide
        {...tourState}
        // Callback will pass all the actions
        callback={callback}
        showSkipButton={true}
      />
    </>
  );
};
```

å®ç°è¯¥åŠŸèƒ½çš„é‡è¦æ“ä½œæ˜¯å…³é—­æŒ‰é’®ç‚¹å‡»ã€è·³è¿‡æŒ‰é’®ç‚¹å‡»ã€ä¸‹ä¸€æ­¥å’Œåé€€æŒ‰é’®ç‚¹å‡»ã€‚

è®©æˆ‘ä»¬å®ç°å‡é€Ÿå™¨åŠŸèƒ½:

```
// Reducer will manage updating the local state
const reducer = (state = INITIAL_STATE, action) => {
  switch (action.type) {
    // start the tour
    case "START":
      return { ...state, run: true };
    // Reset to 0th step
    case "RESET":
      return { ...state, stepIndex: 0 };
    // Stop the tour
    case "STOP":
      return { ...state, run: false };
    // Update the steps for next / back button click
    case "NEXT_OR_PREV":
      return { ...state, ...action.payload };
    // Restart the tour - reset go to 1st step, restart create new tour
    case "RESTART":
      return {
        ...state,
        stepIndex: 0,
        run: true,
        loading: false,
        key: new Date()
      };
    default:
      return state;
  }
};
```

ç°åœ¨ï¼Œæˆ‘ä»¬å°†ç›‘å¬äº‹ä»¶å¹¶åˆ†æ´¾é€‚å½“çš„çŠ¶æ€æ›´æ”¹æ¥ç®¡ç†æ—…ç¨‹:

```
import JoyRide, { ACTIONS, EVENTS, STATUS } from "react-joyride";

// Listen to callback and dispatch state changes
const callback = data => {
    const { action, index, type, status } = data;

    if (
      // If close button clicked then close the tour
      action === ACTIONS.CLOSE ||
      // If skipped or end tour, then close the tour
      (status === STATUS.SKIPPED && tourState.run) ||
      status === STATUS.FINISHED
    ) {
      dispatch({ type: "STOP" });
    } else if (type === EVENTS.STEP_AFTER || type === EVENTS.TARGET_NOT_FOUND) {
      // Check whether next or back button click and update the step
      dispatch({
        type: "NEXT_OR_PREV",
        payload: { stepIndex: index + (action === ACTIONS.PREV ? -1 : 1) }
      });
    }
};
```

ä»¥ä¸‹æ˜¯æ¯ä¸ªåŠ¨ä½œã€äº‹ä»¶å’ŒçŠ¶æ€æ›´æ–°å¦‚ä½•å·¥ä½œçš„å¿«é€Ÿæ¦‚è¿°:

å¦‚æœå•å‡»å…³é—­æŒ‰é’®ã€è·³è¿‡æŒ‰é’®æˆ–ç»“æŸæ—…ç¨‹æŒ‰é’®ï¼Œåˆ™åœæ­¢æ—…ç¨‹ã€‚åŒæ—¶ï¼Œå¦‚æœå•å‡»äº† Next æˆ– Back æŒ‰é’®ï¼Œåˆ™æ£€æŸ¥ç›®æ ‡å…ƒç´ æ˜¯å¦å‡ºç°åœ¨é¡µé¢ä¸­ã€‚

å¦‚æœç›®æ ‡å…ƒç´ å­˜åœ¨ï¼Œåˆ™è½¬åˆ°è¯¥æ­¥éª¤ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œæ‰¾åˆ°ä¸‹ä¸€æ­¥ç›®æ ‡å¹¶è¿­ä»£ã€‚

Joyride æ˜¾ç¤ºäº‹ä»¶ã€çŠ¶æ€å’ŒåŠ¨ä½œæ ‡ç­¾ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥ç›‘å¬å›è°ƒäº‹ä»¶ï¼Œè€Œæ— éœ€å¯¹å…¶è¿›è¡Œç¡¬ç¼–ç ã€‚

è®©æˆ‘ä»¬åœ¨é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨å¼€å§‹æµè§ˆ:

```
useEffect(() => {
    // Auto start the tour if the tour is not viewed before
    dispatch({ type: "START" });
  }, []);
```

æ‚¨ç”šè‡³å¯ä»¥é€šè¿‡ç‚¹å‡»æŒ‰é’®æ¥å¯åŠ¨æ—…ç¨‹:

```
// Call startTour to start the tour
const startTour = () => {
    // Start the tour manually
    dispatch({ type: "RESTART" });
};
```

ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å¯¹å®ƒè¿›è¡Œäº†è®¾ç½®ï¼Œä»¥ä¾¿åœ¨æ‚¨æ¯æ¬¡åˆ·æ–°é¡µé¢æ—¶éƒ½ä¼šæ˜¾ç¤ºè¯¥æ—…ç¨‹ã€‚

å¦‚æœæ‚¨åªæƒ³æ˜¾ç¤ºä¸€æ¬¡æ—…ç¨‹ï¼Œç„¶åä»…é€šè¿‡æ‰‹åŠ¨ç‚¹å‡»æ¥è§¦å‘å®ƒï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`localStorage`æ¥å®ç°ã€‚

ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å·¥ä½œç¤ºä¾‹ä»£ç [ï¼Œåœ¨è¿™é‡Œ](https://github.com/learnwithparam/logrocket-product-tours)æ‰¾åˆ°æ¼”ç¤º[ã€‚](https://product-tours.netlify.com/)

## åœ¨ React ä¸­æ„å»ºå®šåˆ¶äº§å“å‚è§‚çš„æ­¥éª¤

æˆ‘ä»¬å·²ç»ä½¿ç”¨ Joyride åº“å®Œæˆäº†äº§å“ä¹‹æ—…ã€‚

ä½†æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦åˆ›é€ æˆ‘ä»¬è‡ªå·±çš„å‘¢ï¼Ÿ

è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•æ„å»ºä¸€ä¸ªæ—…æ¸¸ç»„ä»¶ã€‚

æ„å»ºæ—…æ¸¸ç»„ä»¶çš„æœ€å¤§æŒ‘æˆ˜åŒ…æ‹¬æ‰¾åˆ°ç›®æ ‡å…ƒç´ å¹¶æ˜¾ç¤ºå¼¹å‡ºç»„ä»¶ï¼Œä»¥åŠç¡®ä¿å¼¹å‡ºç»„ä»¶è®¡ç®—å¯ç”¨çš„çª—å£ç©ºé—´å¹¶æ ¹æ®ç›®æ ‡å…ƒç´ è‡ªåŠ¨æ˜¾ç¤ºã€‚

ä¹Ÿå¾ˆéš¾ç¡®ä¿æ—…æ¸¸ç»„ä»¶æ˜¯å¯é‡ç”¨çš„ï¼Œå¹¶ä¸”æ ·å¼å¾ˆå®¹æ˜“æ‰©å±•ã€‚

è¦åœ¨ React ä¸­æ„å»ºä¸€ä¸ªå®šåˆ¶çš„ tour ç»„ä»¶ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ç”¨è¿™äº› React æŒ‚é’©æ¥éš”ç¦»åŠŸèƒ½å’Œç»„ä»¶ UI:

*   `useTour`â€“åœ¨åŠŸèƒ½çš„åŸºç¡€ä¸Šæ„å»ºè‡ªå·±çš„ UI çš„å®šåˆ¶é’©å­
*   `Tour`â€“ä¸€ä¸ªå“‘ UI ç»„ä»¶ï¼Œå®ƒä½¿ç”¨`useTour`æ¥åŠ è½½æ—…æ¸¸é—¨æˆ· UI

è¿™ä¸ªæ¨¡æ‹Ÿä»£ç å±•ç¤ºäº†`useTour`æ˜¯å¦‚ä½•å·¥ä½œçš„:

```
/*
  targetPosition - top, left position of the target element with respect to window
  gotoIndex - function that accepts stepNumber
  endTour - function to end tour
  restartTour - function to restart tour
  nextStep - function to update the state tonext step
  prevStep - function to update the state to previous step
*/

const { targetPosition, gotoIndex, currentStep, endTour, restartTour, nextStep, prevStep  } = useTour({
  steps,
  // ... props
})
```

## ç»“è®º

æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¤Ÿå¸®åŠ©æ‚¨å­¦ä¹ åœ¨ React åº”ç”¨ç¨‹åºä¸­åˆ›å»ºäº§å“æ¸¸è§ˆç»„ä»¶çš„æŠ€å·§ã€‚è¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ä½ çš„ UX ä¹‹æ—…ç»å†ğŸ¤—

## ä½¿ç”¨ LogRocket æ¶ˆé™¤ä¼ ç»Ÿååº”é”™è¯¯æŠ¥å‘Šçš„å™ªéŸ³

[LogRocket](https://lp.logrocket.com/blg/react-signup-issue-free)

æ˜¯ä¸€æ¬¾ React analytics è§£å†³æ–¹æ¡ˆï¼Œå¯ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªè¯¯æŠ¥é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å°‘æ•°çœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocket å‘Šè¯‰æ‚¨ React åº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„ bug å’Œ UX é—®é¢˜ã€‚

[![](img/f300c244a1a1cf916df8b4cb02bec6c6.png) ](https://lp.logrocket.com/blg/react-signup-general) [ ![LogRocket Dashboard Free Trial Banner](img/d6f5a5dd739296c1dd7aab3d5e77eeb9.png) ](https://lp.logrocket.com/blg/react-signup-general) [LogRocket](https://lp.logrocket.com/blg/react-signup-issue-free)

è‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€ååº”é”™è¯¯è¾¹ç•Œã€è¿˜åŸçŠ¶æ€ã€ç¼“æ…¢çš„ç»„ä»¶åŠ è½½æ—¶é—´ã€JS å¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶åï¼ŒLogRocket ä½¿ç”¨æœºå™¨å­¦ä¹ æ¥é€šçŸ¥æ‚¨å½±å“å¤§å¤šæ•°ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„é—®é¢˜ï¼Œå¹¶æä¾›æ‚¨ä¿®å¤å®ƒæ‰€éœ€çš„ä¸Šä¸‹æ–‡ã€‚

å…³æ³¨é‡è¦çš„ React bugâ€”[ä»Šå¤©å°±è¯•è¯• LogRocketã€‘ã€‚](https://lp.logrocket.com/blg/react-signup-issue-free)