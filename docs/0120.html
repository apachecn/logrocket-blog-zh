<html>
<head>
<title>React Hooks cheat sheet: Best practices with examples - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>React Hookså¤‡å¿˜å•:æœ€ä½³å®è·µç¤ºä¾‹</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/react-hooks-cheat-sheet-solutions-common-problems/#0001-01-01">https://blog.logrocket.com/react-hooks-cheat-sheet-solutions-common-problems/#0001-01-01</a></blockquote><div><article class="article-post">
<p>ç¼–è€…æŒ‰:è¿™ä¸ªReact Hooksæ•™ç¨‹æœ€è¿‘ä¸€æ¬¡æ›´æ–°æ˜¯åœ¨2023å¹´3æœˆ6æ—¥ï¼Œå®ƒåŒ…å«äº†æ›´å¤šReact Hooksçš„æœ€ä½³å®è·µå’Œä¾‹å­ã€‚</p>
<p>React Hooksæœ‰ä¸€ä¸ªéå¸¸ç®€å•çš„APIï¼Œä½†æ˜¯é‰´äºå…¶åºå¤§çš„ç¤¾åŒºå’Œå„ç§å„æ ·çš„ç”¨ä¾‹ï¼Œå›´ç»•React Hooksçš„æœ€ä½³å®è·µå’Œå¦‚ä½•è§£å†³å¸¸è§é—®é¢˜å¿…ç„¶ä¼šå‡ºç°é—®é¢˜ã€‚</p>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ¦‚è¿°ä¸€äº›React Hooksæœ€ä½³å®è·µï¼Œå¹¶é€šè¿‡ç¤ºä¾‹çªå‡ºä¸€äº›ç”¨ä¾‹ï¼Œä»ç®€å•åˆ°é«˜çº§çš„åœºæ™¯ã€‚ä¸ºäº†å¸®åŠ©æ¼”ç¤ºå¦‚ä½•è§£å†³å¸¸è§çš„React Hooksé—®é¢˜ï¼Œæˆ‘æ„å»ºäº†ä¸€ä¸ªé™„å¸¦webåº”ç”¨ç¨‹åºçš„<a href="https://github.com/ohansemmanuel/react-hooks-cheatsheet">ï¼Œç”¨äºä¸æœ¬æ–‡ä¸­çš„ä¸€äº›ç¤ºä¾‹è¿›è¡Œå®æ—¶äº¤äº’ã€‚</a></p>
<h2>React Hookså¤‡å¿˜å•:æœ€ä½³å®è·µå’Œç¤ºä¾‹</h2>
<p>è¿™ä¸ªReact Hookså¤‡å¿˜å•åŒ…å«äº†å¤§é‡çš„ä»£ç ç‰‡æ®µï¼Œå¹¶å‡è®¾ä¸€äº›Hooksæµç•…ã€‚å¦‚æœä½ å¯¹é’©å­å®Œå…¨é™Œç”Ÿï¼Œä½ å¯èƒ½æƒ³ä»æˆ‘ä»¬çš„<a href="https://blog.logrocket.com/react-reference-guide-hooks-api/" target="_blank" rel="noopener"> React Hooks APIå‚è€ƒæŒ‡å—</a>å¼€å§‹ã€‚</p>
<p>React Hookså¤‡å¿˜å•ä¸­åŒ…å«äº†ä¸ä»¥ä¸‹æŒ‚é’©ç›¸å…³çš„æœ€ä½³å®è·µ:</p>

<h2 id="usestate"><code>useState</code></h2>
<p><a href="https://reactjs.org/docs/hooks-reference.html#usestate" target="_blank" rel="noopener"> <code>useState</code> </a>è®©ä½ åœ¨ä¸€ä¸ªå‡½æ•°ç»„ä»¶å†…ä½¿ç”¨å±€éƒ¨çŠ¶æ€ã€‚æ‚¨å°†åˆå§‹çŠ¶æ€ä¼ é€’ç»™è¯¥å‡½æ•°ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªåŒ…å«å½“å‰çŠ¶æ€å€¼(ä¸ä¸€å®šæ˜¯åˆå§‹çŠ¶æ€)çš„å˜é‡å’Œå¦ä¸€ä¸ªæ›´æ–°è¯¥å€¼çš„å‡½æ•°ã€‚</p>
<p>çœ‹çœ‹è¿™ä¸ªReact <code>useState</code>è§†é¢‘æ•™ç¨‹:</p>
<p><iframe loading="lazy" src="https://www.youtube.com/embed/4qVNaohzDWU" frameborder="0" allowfullscreen="allowfullscreen">è§†é¢‘</iframe></p>
<h3>å£°æ˜çŠ¶æ€å˜é‡</h3>
<p>å£°æ˜ä¸€ä¸ªçŠ¶æ€å˜é‡å°±åƒç”¨æŸä¸ªåˆå§‹çŠ¶æ€å€¼è°ƒç”¨<code>useState</code>ä¸€æ ·ç®€å•ï¼Œæ¯”å¦‚:<code>useState(initialStateValue)</code>ã€‚</p>
<pre class="language-javascript hljs">const DeclareStateVar = () =&gt; {
  const [count] = useState(100)
  return &lt;div&gt; State variable is {count}&lt;/div&gt;
}</pre>
<h3>æ›´æ–°çŠ¶æ€å˜é‡</h3>
<p>æ›´æ–°çŠ¶æ€å˜é‡å°±åƒè°ƒç”¨ç”±<code>useState</code>è°ƒç”¨è¿”å›çš„updaterå‡½æ•°ä¸€æ ·ç®€å•:<code>const [stateValue, updaterFn] = useState(initialStateValue);</code>ã€‚</p>
<figure><img decoding="async" src="../Images/bc4c4ef83aea068b830bd5c91b60f16a.png" data-image-id="1*xKBiQT_91AU-PlNLGjv0Yg.gif" data-width="882" data-height="384" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*xKBiQT_91AU-PlNLGjv0Yg.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*xKBiQT_91AU-PlNLGjv0Yg.gif"/><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/bc4c4ef83aea068b830bd5c91b60f16a.png" data-image-id="1*xKBiQT_91AU-PlNLGjv0Yg.gif" data-width="882" data-height="384" data-original-src="https://storage.googleapis.com/blog-images-backup/1*xKBiQT_91AU-PlNLGjv0Yg.gif"/></noscript><figcaption class="imageCaption">Note how the age state variable is beingÂ updated.</figcaption></figure>
<p>ä¸‹é¢æ˜¯è´Ÿè´£ä¸Šè¿°æˆªå±çš„ä»£ç :</p>
<pre class="language-javascript hljs">const UpdateStateVar = () =&gt; {
  const [age, setAge] = useState(19)
  const handleClick = () =&gt; setAge(age + 1)

  return (
    &lt;div&gt;
      Today I am {age} Years of Age
      &lt;div&gt;
        &lt;button onClick={handleClick}&gt;Get older! &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}</pre>
<h3>ä¸ºä»€ä¹ˆReact <code>useState</code>é’©å­æ²¡æœ‰ç«‹å³æ›´æ–°ï¼Ÿ</h3>
<p>å¦‚æœä½ å‘ç°<a href="https://linguinecode.com/post/why-react-setstate-usestate-does-not-update-immediately" target="_blank" rel="noopener"> <code>useState</code> / <code>setState</code>æ²¡æœ‰ç«‹å³æ›´æ–°</a>ï¼Œç­”æ¡ˆå¾ˆç®€å•:å®ƒä»¬åªæ˜¯é˜Ÿåˆ—ã€‚</p>
<p>React <code>useState</code>å’Œ<code>setState</code>ä¸ç›´æ¥å¯¹çŠ¶æ€å¯¹è±¡è¿›è¡Œä¿®æ”¹ï¼›ä»–ä»¬åˆ›å»ºé˜Ÿåˆ—æ¥ä¼˜åŒ–æ€§èƒ½ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ›´æ”¹ä¸ä¼šç«‹å³æ›´æ–°çš„åŸå› ã€‚</p>
<h3>ReactæŒ‚é’©å’Œå¤šä¸ªçŠ¶æ€å˜é‡</h3>
<p>å¯ä»¥åœ¨ä¸€ä¸ªåŠŸèƒ½ç»„ä»¶ä¸­ä½¿ç”¨å’Œæ›´æ–°å¤šä¸ªçŠ¶æ€å˜é‡ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<p><img decoding="async" src="../Images/17d5ecdeb1e6a53220ecf45a1aa7e428.png" data-image-id="1*1MFDgE1LQuAc1_wyBgyVNQ.gif" data-width="1820" data-height="784" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*1MFDgE1LQuAc1_wyBgyVNQ.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*1MFDgE1LQuAc1_wyBgyVNQ.gif"/></p><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/17d5ecdeb1e6a53220ecf45a1aa7e428.png" data-image-id="1*1MFDgE1LQuAc1_wyBgyVNQ.gif" data-width="1820" data-height="784" data-original-src="https://storage.googleapis.com/blog-images-backup/1*1MFDgE1LQuAc1_wyBgyVNQ.gif"/></noscript>
<p>ä¸‹é¢æ˜¯è´Ÿè´£ä¸Šè¿°æˆªå±çš„ä»£ç :</p>
<pre class="language-javascript hljs">const MultipleStateVars = () =&gt; {
  const [age, setAge] = useState(19)
  const [siblingsNum, setSiblingsNum] = 
    useState(10)

  const handleAge = () =&gt; setAge(age + 1)
  const handleSiblingsNum = () =&gt; 
      setSiblingsNum(siblingsNum + 1)
 

  return (
    &lt;div&gt;
      &lt;p&gt;Today I am {age} Years of Age&lt;/p&gt;
      &lt;p&gt;I have {siblingsNum} siblings&lt;/p&gt;

      &lt;div&gt;
        &lt;button onClick={handleAge}&gt;
          Get older! 
        &lt;/button&gt;
        &lt;button onClick={handleSiblingsNum}&gt;
            More siblings! 
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}</pre>
<h3>ä½¿ç”¨å¯¹è±¡çŠ¶æ€å˜é‡</h3>
<p>ä¸å­—ç¬¦ä¸²å’Œæ•°å­—ç›¸åï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡ä½œä¸ºä¼ é€’ç»™<code>useState</code>çš„åˆå§‹å€¼ã€‚</p>
<p>æ³¨æ„ï¼Œæ‚¨å¿…é¡»å°†æ•´ä¸ªå¯¹è±¡ä¼ é€’ç»™<code>useState</code> updaterå‡½æ•°ï¼Œå› ä¸ºå¯¹è±¡æ˜¯è¢«æ›¿æ¢çš„ï¼Œè€Œä¸æ˜¯è¢«åˆå¹¶çš„ã€‚</p>
<pre class="language-javascript hljs">// ğŸ¢ setState (object merge) vs useState (object replace)
// assume initial state is {name: "Ohans"}

setState({ age: 'unknown' })
// new state object will be
// {name: "Ohans", age: "unknown"}

useStateUpdater({ age: 'unknown' })
// new state object will be
// {age: "unknown"} - initial object is replaced</pre>
<figure><img decoding="async" src="../Images/7704c9c8f910a15ea9312ead00256464.png" data-image-id="1*wYJuoTiiarplOkwoG36I2A.gif" data-width="1820" data-height="776" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*wYJuoTiiarplOkwoG36I2A.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*wYJuoTiiarplOkwoG36I2A.gif"/><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/7704c9c8f910a15ea9312ead00256464.png" data-image-id="1*wYJuoTiiarplOkwoG36I2A.gif" data-width="1820" data-height="776" data-original-src="https://storage.googleapis.com/blog-images-backup/1*wYJuoTiiarplOkwoG36I2A.gif"/></noscript><figcaption class="imageCaption">Multiple state objects updated via a state object variable.</figcaption></figure>
<p>ä¸‹é¢æ˜¯ä¸Šé¢æˆªå±çš„ä»£ç :</p>
<pre class="language-javascript hljs">const StateObject = () =&gt; {
  const [state, setState] = useState({ age: 19, siblingsNum: 4 })
  const handleClick = val =&gt;
    setState({
      ...state,
      [val]: state[val] + 1
    })
  const { age, siblingsNum } = state

  return (
    &lt;div&gt;
      &lt;p&gt;Today I am {age} Years of Age&lt;/p&gt;
      &lt;p&gt;I have {siblingsNum} siblings&lt;/p&gt;

      &lt;div&gt;
        &lt;button onClick={handleClick.bind(null, 'age')}&gt;Get older!&lt;/button&gt;
        &lt;button onClick={handleClick.bind(null, 'siblingsNum')}&gt;
          More siblings!
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}</pre>
<h3>ä»å‡½æ•°åˆå§‹åŒ–çŠ¶æ€</h3>
<p>ä¸åªä¼ é€’åˆå§‹çŠ¶æ€å€¼ç›¸åï¼ŒçŠ¶æ€ä¹Ÿå¯ä»¥é€šè¿‡å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">const StateFromFn = () =&gt; {
  const [token] = useState(() =&gt; {
    let token = window.localStorage.getItem("my-token");
    return token || "default#-token#"
  })

  return &lt;div&gt;Token is {token}&lt;/div&gt;
}</pre>
<h3>åŠŸèƒ½æ€§<code>setState</code></h3>
<p>ä»è°ƒç”¨<code>useState</code>è¿”å›çš„updaterå‡½æ•°ä¹Ÿå¯ä»¥é‡‡ç”¨ç±»ä¼¼äºgood ol' <code>setState</code>çš„å‡½æ•°:</p>
<pre class="language-javascript hljs">const [value, updateValue] = useState(0)
// both forms of invoking "updateValue" below are valid ğŸ‘‡
updateValue(1);
updateValue(previousValue =&gt; previousValue + 1);</pre>
<p>å½“çŠ¶æ€æ›´æ–°ä¾èµ–äºæŸä¸ªå…ˆå‰çš„çŠ¶æ€å€¼æ—¶ï¼Œè¿™æ˜¯ç†æƒ³çš„ã€‚</p>
<figure><img decoding="async" class="graf-image jetpack-lazy-image" src="../Images/028ebf94ec903280231bbd749f4d295b.png" data-image-id="1*uAEGQN-IESENc82FnkJUfA.gif" data-width="1820" data-height="776" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*uAEGQN-IESENc82FnkJUfA.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://storage.googleapis.com/blog-images-backup/1*uAEGQN-IESENc82FnkJUfA.gif"/><noscript><img data-lazy-fallback="1" decoding="async" class="graf-image" src="../Images/028ebf94ec903280231bbd749f4d295b.png" data-image-id="1*uAEGQN-IESENc82FnkJUfA.gif" data-width="1820" data-height="776" data-original-src="https://storage.googleapis.com/blog-images-backup/1*uAEGQN-IESENc82FnkJUfA.gif"/></noscript><figcaption class="imageCaption">A counter with functional setStateÂ updates.</figcaption></figure>
<p>ä¸‹é¢æ˜¯ä¸Šé¢æˆªå±çš„ä»£ç :</p>
<pre class="language-javascript hljs">const CounterFnSetState = () =&gt; {
  const [count, setCount] = useState(0);
  return (
    &lt;&gt;
      &lt;p&gt;Count value is: {count}&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(0)}&gt;Reset&lt;/button&gt;
      &lt;button 
        onClick={() =&gt; setCount(prevCount =&gt; prevCount + 1)}&gt;
        Plus (+)
      &lt;/button&gt;
      &lt;button 
        onClick={() =&gt; setCount(prevCount =&gt; prevCount - 1)}&gt;
       Minus (-)
      &lt;/button&gt;
    &lt;/&gt;
  );
}</pre>
<p>å¦‚æœä½ æƒ³è‡ªå·±æ·±å…¥æ¢ç´¢ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª<a href="https://react-hooks-cheatsheet.com/usestate" target="_blank" rel="noopener">å®æ—¶ã€å¯ç¼–è¾‘çš„<code>useState</code>å¤‡å¿˜å•</a>ã€‚</p>
<h2 id="useeffect"><code>useEffect</code></h2>
<p>ä½¿ç”¨<a href="https://reactjs.org/docs/hooks-reference.html#useeffect" target="_blank" rel="noopener"> <code><span class="pln">useEffect</span></code> </a>ï¼Œæ‚¨å¯ä»¥ä»åŠŸèƒ½ç»„ä»¶å†…éƒ¨è°ƒç”¨<a href="https://blog.logrocket.com/guide-to-react-useeffect-hook/" target="_blank" rel="noopener">å‰¯ä½œç”¨ï¼Œè¿™æ˜¯React Hooksæ—¶ä»£éœ€è¦ç†è§£çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚</a></p>
<h3>åŸºæœ¬å‰¯ä½œç”¨</h3>
<figure><img decoding="async" src="../Images/ad3b677cd7ac48fcb7a53b84d260f18e.png" data-image-id="1*RdkmsjpFV1_KRxtk1pRFlw.gif" data-width="1350" data-height="833" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*RdkmsjpFV1_KRxtk1pRFlw.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*RdkmsjpFV1_KRxtk1pRFlw.gif"/><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/ad3b677cd7ac48fcb7a53b84d260f18e.png" data-image-id="1*RdkmsjpFV1_KRxtk1pRFlw.gif" data-width="1350" data-height="833" data-original-src="https://storage.googleapis.com/blog-images-backup/1*RdkmsjpFV1_KRxtk1pRFlw.gif"/></noscript><figcaption class="imageCaption">Watch the title of the documentÂ update.</figcaption></figure>
<p>ä¸‹é¢æ˜¯è´Ÿè´£ä¸Šè¿°æˆªå±çš„ä»£ç :</p>
<pre class="language-javascript hljs">const BasicEffect = () =&gt; {
  const [age, setAge] = useState(0)
  const handleClick = () =&gt; setAge(age + 1)

  useEffect(() =&gt; {
    document.title = 'You are ' + age + ' years old!'
  })

  return &lt;div&gt;
    &lt;p&gt; Look at the title of the current tab in your browser &lt;/p&gt;
    &lt;button onClick={handleClick}&gt;Update Title!! &lt;/button&gt;
  &lt;/div&gt;
}</pre>
<h3>æ¸…ç†æ•ˆæœ</h3>
<p>ä¸€æ®µæ—¶é—´åæ¸…ç†æ•ˆæœæ˜¯å¾ˆå¸¸è§çš„ã€‚è¿™å¯ä»¥é€šè¿‡ä»ä¼ é€’ç»™<code>useEffect</code>çš„æ•ˆæœå‡½æ•°ä¸­è¿”å›ä¸€ä¸ªå‡½æ•°æ¥å®ç°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç”¨<code>addEventListener</code>çš„ä¾‹å­ã€‚</p>
<pre class="language-javascript hljs">const EffectCleanup = () =&gt; {
  useEffect(() =&gt; {
    const clicked = () =&gt; console.log('window clicked')
    window.addEventListener('click', clicked)

    // return a clean-up function
    return () =&gt; {
      window.removeEventListener('click', clicked)
    }
  }, [])

  return &lt;div&gt;
    When you click the window you'll 
    find a message logged to the console
  &lt;/div&gt;
}</pre>
<h3>å¤šé‡æ•ˆæœ</h3>
<p>åœ¨ä¸€ä¸ªåŠŸèƒ½ç»„ä»¶ä¸­å¯ä»¥å‘ç”Ÿå¤šä¸ª<code>useEffect</code>è°ƒç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">const MultipleEffects = () =&gt; {
  // ğŸŸ
  useEffect(() =&gt; {
    const clicked = () =&gt; console.log('window clicked')
    window.addEventListener('click', clicked)

    return () =&gt; {
      window.removeEventListener('click', clicked)
    }
  }, [])

  // ğŸŸ another useEffect hook 
  useEffect(() =&gt; {
    console.log("another useEffect call");
  })

  return &lt;div&gt;
    Check your console logs
  &lt;/div&gt;
}</pre>
<p>è¯·æ³¨æ„ï¼Œ<code>useEffect</code>è°ƒç”¨å¯ä»¥è¢«è·³è¿‡â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“æ—¶è¢«è°ƒç”¨ã€‚è¿™æ˜¯é€šè¿‡å‘æ•ˆæœå‡½æ•°ä¼ é€’ç¬¬äºŒä¸ªæ•°ç»„å‚æ•°æ¥å®ç°çš„ã€‚</p>
<h3>è·³è¿‡æ•ˆæœ(æ•°ç»„ä¾èµ–)</h3>
<pre class="language-javascript hljs">const ArrayDepMount = () =&gt; {
  const [randomNumber, setRandomNumber] = useState(0)
  const [effectLogs, setEffectLogs] = useState([])

  useEffect(
    () =&gt; {
      setEffectLogs(prevEffectLogs =&gt; [...prevEffectLogs, 'effect fn has been invoked'])
    },
    []
  )

  return (
    &lt;div&gt;
      &lt;h1&gt;{randomNumber}&lt;/h1&gt;
      &lt;button
        onClick={() =&gt; {
          setRandomNumber(Math.random())
        }}
      &gt;
        Generate random number!
      &lt;/button&gt;
      &lt;div&gt;
        {effectLogs.map((effect, index) =&gt; (
          &lt;div key={index}&gt;{'ğŸ”'.repeat(index) + effect}&lt;/div&gt;
        ))}
      &lt;/div&gt;
    &lt;/div&gt;
  )
}</pre>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>useEffect</code>è¢«ä¼ é€’äº†ä¸€ä¸ªå€¼ä¸º<code>[randomNumber]</code>çš„æ•°ç»„ã€‚</p>
<p>å› æ­¤ï¼Œæ¯å½“ç”Ÿæˆæ–°çš„éšæœºæ•°æ—¶ï¼Œå°†åœ¨mount <em>å’Œ</em>ä¸Šè°ƒç”¨æ•ˆæœå‡½æ•°ã€‚</p>
<p>ç‚¹å‡»<strong>ç”Ÿæˆéšæœºæ•°</strong>æŒ‰é’®ï¼Œç”Ÿæˆæ–°çš„éšæœºæ•°åæ•ˆæœå‡½æ•°é‡æ–°è¿è¡Œ:</p>
<p><img decoding="async" src="../Images/ea55ad22ba86bdcaad3b6bc219fa1154.png" data-image-id="1*mSqiFgHeY6k84us2RBnLkg.gif" data-width="1820" data-height="776" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*mSqiFgHeY6k84us2RBnLkg.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*mSqiFgHeY6k84us2RBnLkg.gif"/></p><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/ea55ad22ba86bdcaad3b6bc219fa1154.png" data-image-id="1*mSqiFgHeY6k84us2RBnLkg.gif" data-width="1820" data-height="776" data-original-src="https://storage.googleapis.com/blog-images-backup/1*mSqiFgHeY6k84us2RBnLkg.gif"/></noscript>
<h3>è·³è¿‡æ•ˆæœ(ç©ºæ•°ç»„ä¾èµ–)</h3>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>useEffect</code>è¢«ä¼ é€’ä¸€ä¸ªç©ºæ•°ç»„ï¼Œ<code>[]</code>ã€‚å› æ­¤ï¼Œæ•ˆæœå‡½æ•°å°†åªåœ¨æŒ‚è½½æ—¶è¢«è°ƒç”¨ã€‚</p>
<pre class="language-javascript hljs">const ArrayDepMount = () =&gt; {
  const [randomNumber, setRandomNumber] = useState(0)
  const [effectLogs, setEffectLogs] = useState([])

  useEffect(
    () =&gt; {
      setEffectLogs(prevEffectLogs =&gt; [...prevEffectLogs, 'effect fn has been invoked'])
    },
    []
  )

  return (
    &lt;div&gt;
      &lt;h1&gt;{randomNumber}&lt;/h1&gt;
      &lt;button
        onClick={() =&gt; {
          setRandomNumber(Math.random())
        }}
      &gt;
        Generate random number!
      &lt;/button&gt;
      &lt;div&gt;
        {effectLogs.map((effect, index) =&gt; (
          &lt;div key={index}&gt;{'ğŸ”'.repeat(index) + effect}&lt;/div&gt;
        ))}
      &lt;/div&gt;
    &lt;/div&gt;
  )
}</pre>
<p>ä¸‹é¢æ˜¯è¢«ç‚¹å‡»çš„æŒ‰é’®å’Œæœªè°ƒç”¨çš„æ•ˆæœåŠŸèƒ½:</p>
<p><img decoding="async" src="../Images/3ce9aa4d78a2bbee33a7b46e632eef03.png" data-image-id="1*VVxa13t8u8oobG_1GIM1Qw.gif" data-width="1820" data-height="776" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*VVxa13t8u8oobG_1GIM1Qw.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*VVxa13t8u8oobG_1GIM1Qw.gif"/></p><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/3ce9aa4d78a2bbee33a7b46e632eef03.png" data-image-id="1*VVxa13t8u8oobG_1GIM1Qw.gif" data-width="1820" data-height="776" data-original-src="https://storage.googleapis.com/blog-images-backup/1*VVxa13t8u8oobG_1GIM1Qw.gif"/></noscript>
<h3>è·³è¿‡æ•ˆæœ(æ— æ•°ç»„ä¾èµ–æ€§)</h3>
<p>å¦‚æœæ²¡æœ‰æ•°ç»„ä¾èµ–ï¼Œæ•ˆæœå‡½æ•°å°†åœ¨æ¯æ¬¡æ¸²æŸ“åè¿è¡Œã€‚</p>
<pre class="language-javascript hljs">useEffect(() =&gt; {
console.log(â€œThis will be logged after every render!â€)
})</pre>
<p>å¦‚æœä½ æƒ³è¿›ä¸€æ­¥æ¢ç´¢ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª<a href="https://react-hooks-cheatsheet.com/useeffect">å®æ—¶ã€å¯ç¼–è¾‘çš„<code>useEffect</code>å¤‡å¿˜å•</a>ã€‚</p>
<h2 id="usecontext"><code>useContext</code></h2>
<p><a href="https://reactjs.org/docs/hooks-reference.html#usecontext" target="_blank" rel="noopener"> <code>useContext</code> </a>ä¸ºä½ çœå»å¿…é¡»ä¾èµ–ä¸Šä¸‹æ–‡æ¶ˆè´¹è€…çš„å‹åŠ›ã€‚ä¸<code>MyContext.Consumer</code>å’Œå®ƒå…¬å¼€çš„æ¸²æŸ“é“å…·APIç›¸æ¯”ï¼ŒReact Contextæœ‰ä¸€ä¸ªæ›´ç®€å•çš„APIã€‚</p>
<p>ä¸Šä¸‹æ–‡æ˜¯Reactå¤„ç†å¤šä¸ªç»„ä»¶ä¹‹é—´å…±äº«æ•°æ®çš„æ–¹å¼ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å¼ºè°ƒäº†é€šè¿‡<code>useContext</code>æˆ–<code>Context.Consumer</code>ä½¿ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡å€¼çš„åŒºåˆ«:</p>
<pre class="language-javascript hljs">// example Context object
const ThemeContext = React.createContext("dark");

// usage with context Consumer
function Button() {
  return &lt;ThemeContext.Consumer&gt;
        {theme =&gt; &lt;button className={theme}&gt; Amazing button &lt;/button&gt;}
  &lt;/ThemeContext.Consumer&gt;
}


// usage with useContext hook 
import {useContext} from 'react';

function ButtonHooks() {
 const theme = useContext(ThemeContext)
 return &lt;button className={theme}&gt;Amazing button&lt;/button&gt;
}</pre>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå…³äº<code>useContext</code>çš„çœŸå®ä¾‹å­:</p>
<p><img decoding="async" class="aligncenter jetpack-lazy-image" src="../Images/50b4e75f5dc1f3a5c398ef93dcf04abc.png" alt="" data-image-id="1*sJEVsJmB2vHc8vqqP4nAJA.png" data-width="962" data-height="413" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*sJEVsJmB2vHc8vqqP4nAJA.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://storage.googleapis.com/blog-images-backup/1*sJEVsJmB2vHc8vqqP4nAJA.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="aligncenter" src="../Images/50b4e75f5dc1f3a5c398ef93dcf04abc.png" alt="" data-image-id="1*sJEVsJmB2vHc8vqqP4nAJA.png" data-width="962" data-height="413" data-original-src="https://storage.googleapis.com/blog-images-backup/1*sJEVsJmB2vHc8vqqP4nAJA.png"/></noscript>
<p>ä¸‹é¢æ˜¯è´Ÿè´£ä¸Šè¿°ç¤ºä¾‹çš„ä»£ç :</p>
<pre class="language-javascript hljs">const ThemeContext = React.createContext('light');

const Display = () =&gt; {
 const theme = useContext(ThemeContext);
 return &lt;div
        style={{
        background: theme === 'dark' ? 'black' : 'papayawhip',
        color: theme === 'dark' ? 'white' : 'palevioletred',
        width: '100%',
        minHeight: '200px'
        }}
    &gt;
        {'The theme here is ' + theme}
    &lt;/div&gt;
}</pre>
<p>å¦‚æœä½ æƒ³è‡ªå·±åŠ¨æ‰‹ä¿®æ”¹ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå®æ—¶çš„ã€å¯ç¼–è¾‘çš„<a href="https://react-hooks-cheatsheet.com/usecontext" target="_blank" rel="noopener"> Reactä¸Šä¸‹æ–‡å¤‡å¿˜å•</a>ã€‚</p>
<h2 id="uselayouteffect"><code>useLayoutEffect</code></h2>
<p><a href="https://reactjs.org/docs/hooks-reference.html#uselayouteffect" target="_blank" rel="noopener"> <code>useLayoutEffect</code> </a>ä¸<code>useEffect</code>å…·æœ‰å®Œå…¨ç›¸åŒçš„ç­¾åã€‚æˆ‘ä»¬å°†åœ¨ä¸‹é¢è®¨è®º<code>useLayoutEffect</code>å’Œ<code>useEffect</code>çš„åŒºåˆ«ã€‚</p>
<pre class="language-javascript hljs">useLayoutEffect(() =&gt; {
//do something
}, [arrayDependency])</pre>
<h3>ç”¨æ³•ä¸<code>useEffect</code>ç›¸ä¼¼</h3>
<p>ä¸‹é¢æ˜¯ç”¨<code>useLayoutEffect</code>æ„å»ºçš„<code>useEffect</code>çš„ç›¸åŒä¾‹å­:</p>
<p><img decoding="async" src="../Images/258698f84686286f8f9ca550708ff4ce.png" data-image-id="1*a7MsYcXko93rq_9KtjiXpg.gif" data-width="1820" data-height="776" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*a7MsYcXko93rq_9KtjiXpg.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*a7MsYcXko93rq_9KtjiXpg.gif"/></p><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/258698f84686286f8f9ca550708ff4ce.png" data-image-id="1*a7MsYcXko93rq_9KtjiXpg.gif" data-width="1820" data-height="776" data-original-src="https://storage.googleapis.com/blog-images-backup/1*a7MsYcXko93rq_9KtjiXpg.gif"/></noscript>
<p>è¿™æ˜¯ä»£ç :</p>
<pre class="language-javascript hljs">const ArrayDep = () =&gt; {
    const [randomNumber, setRandomNumber] = useState(0)
    const [effectLogs, setEffectLogs] = useState([])
  
    useLayoutEffect(
      () =&gt; {
        setEffectLogs(prevEffectLogs =&gt; [...prevEffectLogs, 'effect fn has been invoked'])
      },
      [randomNumber]
    )
  
    return (
      &lt;div&gt;
        &lt;h1&gt;{randomNumber}&lt;/h1&gt;
        &lt;button
          onClick={() =&gt; {
            setRandomNumber(Math.random())
          }}
        &gt;
          Generate random number!
        &lt;/button&gt;
        &lt;div&gt;
          {effectLogs.map((effect, index) =&gt; (
            &lt;div key={index}&gt;{'ğŸ”'.repeat(index) + effect}&lt;/div&gt;
          ))}
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }</pre>
<h3><code>useLayoutEffect</code>å¯¹<code>useEffect</code></h3>
<p><code>useEffect</code><code>useLayoutEffect</code>çš„<a href="https://blog.logrocket.com/useeffect-vs-uselayouteffect/" target="_blank" rel="noopener">æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¼ é€’ç»™<code>useEffect</code>çš„å‡½æ•°åœ¨å¸ƒå±€å’Œç»˜åˆ¶ä¹‹åè§¦å‘â€”â€”ä¹Ÿå°±æ˜¯åœ¨æ¸²æŸ“æäº¤åˆ°å±å¹•ä¹‹åã€‚å¯¹äºå¤§å¤šæ•°ä¸åº”è¯¥é˜»æ­¢æµè§ˆå™¨æ›´æ–°å±å¹•çš„å‰¯ä½œç”¨æ¥è¯´ï¼Œè¿™æ˜¯å¯ä»¥çš„ã€‚</a></p>
<p>å°½ç®¡æœ‰äº›æƒ…å†µä¸‹ä½ å¯èƒ½ä¸æƒ³è¦<code>useEffect</code>æä¾›çš„è¡Œä¸ºï¼›ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨éœ€è¦å¯¹DOMåšä¸€ä¸ªè§†è§‰ä¸Šçš„æ”¹å˜ä½œä¸ºå‰¯ä½œç”¨ï¼Œ<code>useEffect</code>ä¸ä¼šæ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</p>
<p>ä¸ºäº†é˜²æ­¢ç”¨æˆ·çœ‹åˆ°å˜åŒ–çš„é—ªçƒï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>useLayoutEffect</code>ã€‚ä¼ é€’ç»™<code>useLayoutEffect</code>çš„å‡½æ•°ä¼šåœ¨æµè§ˆå™¨æ›´æ–°å±å¹•ä¹‹å‰è¿è¡Œã€‚</p>
<p>ä½ å¯ä»¥<a href="https://blog.logrocket.com/useeffect-vs-uselayouteffect/">é˜…è¯»æˆ‘çš„åç»­æ–‡ç« </a>ï¼Œæ·±å…¥äº†è§£<code>useEffect</code>å’Œ<code>useLayoutEffect</code>çš„åŒºåˆ«ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå®æ—¶çš„ã€å¯ç¼–è¾‘çš„<a href="https://react-hooks-cheatsheet.com/uselayoutEffect" target="_blank" rel="noopener"> <code>useLayoutEffect</code>å°æŠ„</a>ã€‚</p>
<h2 id="usereducer"><code>useReducer</code></h2>
<p><a href="https://reactjs.org/docs/hooks-reference.html#usereducer" target="_blank" rel="noopener"> <code>useReducer</code> </a>å¯ä»¥ä½œä¸º<code>useState</code>çš„æ›¿ä»£ã€‚å®ƒéå¸¸é€‚åˆå¤æ‚çš„çŠ¶æ€é€»è¾‘ï¼Œå…¶ä¸­ä¾èµ–äºä»¥å‰çš„çŠ¶æ€å€¼æˆ–è®¸å¤šçŠ¶æ€å­å€¼ã€‚</p>
<p>æ ¹æ®æ‚¨çš„ç”¨ä¾‹ï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°<code>useReducer</code>å¾ˆå®¹æ˜“æµ‹è¯•ã€‚</p>
<h3>åŸºæœ¬ç”¨æ³•</h3>
<p>ä¸è°ƒç”¨<code>useState</code>ç›¸åï¼Œç”¨<code>reducer</code>å’Œ<code>initialState</code>è°ƒç”¨<code>useReducer</code>ï¼Œå¦‚ä¸‹å›¾ã€‚<code>useReducer</code>è°ƒç”¨è¿”å›çŠ¶æ€å±æ€§å’Œä¸€ä¸ª<code>dispatch</code>å‡½æ•°ã€‚</p>
<figure><img decoding="async" src="../Images/bed521ce788435926e9719fa09eb2b7e.png" data-image-id="1*BSkGtn-NIHGDIwd67NZoYQ.gif" data-width="1820" data-height="776" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*BSkGtn-NIHGDIwd67NZoYQ.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*BSkGtn-NIHGDIwd67NZoYQ.gif"/><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/bed521ce788435926e9719fa09eb2b7e.png" data-image-id="1*BSkGtn-NIHGDIwd67NZoYQ.gif" data-width="1820" data-height="776" data-original-src="https://storage.googleapis.com/blog-images-backup/1*BSkGtn-NIHGDIwd67NZoYQ.gif"/></noscript><figcaption class="imageCaption">Increase/decrease bar size by managing state with useReducer.</figcaption></figure>
<p>ä¸‹é¢æ˜¯è´Ÿè´£ä¸Šè¿°æˆªå±çš„ä»£ç :</p>
<pre class="language-javascript hljs">const initialState = { width: 15 };

const reducer = (state, action) =&gt; {
  switch (action) {
    case 'plus':
      return { width: state.width + 15 }
    case 'minus':
      return { width: Math.max(state.width - 15, 2) }
    default:
      throw new Error("what's going on?" )
  }
}

const Bar = () =&gt; {
  const [state, dispatch] = useReducer(reducer, initialState)
  return &lt;&gt;
    &lt;div style={{ background: 'teal', height: '30px', width: state.width }}&gt;&lt;/div&gt;
    &lt;div style={{marginTop: '3rem'}}&gt;
        &lt;button onClick={() =&gt; dispatch('plus')}&gt;Increase bar size&lt;/button&gt;
        &lt;button onClick={() =&gt; dispatch('minus')}&gt;Decrease bar size&lt;/button&gt;
    &lt;/div&gt;
    &lt;/&gt;
}

ReactDOM.render(&lt;Bar /&gt;)</pre>
<h3>æƒ°æ€§åˆå§‹åŒ–çŠ¶æ€</h3>
<p><code>useReducer</code>å–ç¬¬ä¸‰ä¸ªå‡½æ•°å‚æ•°ã€‚ä½ å¯ä»¥ä»è¿™ä¸ªå‡½æ•°åˆå§‹åŒ–stateï¼Œä»è¿™ä¸ªå‡½æ•°è¿”å›çš„ä»»ä½•ä¸œè¥¿éƒ½ä½œä¸ºstateå¯¹è±¡è¿”å›ã€‚å°†ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°<code>initialState</code>è°ƒç”¨è¯¥å‡½æ•°ã€‚</p>
<figure><img decoding="async" src="../Images/e0e0a6c2c4aaf8630b83a4759444c92b.png" data-image-id="1*a39ldAuvYbSZ8Ney_sXaYg.gif" data-width="1820" data-height="776" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*a39ldAuvYbSZ8Ney_sXaYg.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*a39ldAuvYbSZ8Ney_sXaYg.gif"/><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/e0e0a6c2c4aaf8630b83a4759444c92b.png" data-image-id="1*a39ldAuvYbSZ8Ney_sXaYg.gif" data-width="1820" data-height="776" data-original-src="https://storage.googleapis.com/blog-images-backup/1*a39ldAuvYbSZ8Ney_sXaYg.gif"/></noscript><figcaption>Same increase/decrease bar size,â€Šwith state initialized lazily.</figcaption></figure>
<p>ä»¥ä¸Šç¤ºä¾‹çš„ä»£ç å¦‚ä¸‹:</p>
<pre class="language-javascript hljs">const initializeState = () =&gt; ({
  width: 100
})

// âœ… note how the value returned from the fn above overrides initialState below: 
const initialState = { width: 15 }
const reducer = (state, action) =&gt; {
  switch (action) {
    case 'plus':
      return { width: state.width + 15 }
    case 'minus':
      return { width: Math.max(state.width - 15, 2) }
    default:
      throw new Error("what's going on?" )
  }
}

const Bar = () =&gt; {
  const [state, dispatch] = useReducer(reducer, initialState, initializeState)
  return &lt;&gt;
    &lt;div style={{ background: 'teal', height: '30px', width: state.width }}&gt;&lt;/div&gt;
    &lt;div style={{marginTop: '3rem'}}&gt;
        &lt;button onClick={() =&gt; dispatch('plus')}&gt;Increase bar size&lt;/button&gt;
        &lt;button onClick={() =&gt; dispatch('minus')}&gt;Decrease bar size&lt;/button&gt;
    &lt;/div&gt;
    &lt;/&gt;
}

ReactDOM.render(Bar)</pre>
<h3>æ¨¡ä»¿<code>this.setState</code>çš„è¡Œä¸º</h3>
<p>ä½¿ç”¨ä¸åƒReduxé‚£æ ·ä¸¥æ ¼çš„å‡é€Ÿå™¨ã€‚ä¾‹å¦‚ï¼Œä¼ é€’ç»™ç¼©å‡å™¨çš„ç¬¬äºŒä¸ªå‚æ•°<code>action</code>ä¸éœ€è¦æœ‰<code>type</code>å±æ€§ã€‚</p>
<p>è¿™å…è®¸è¿›è¡Œæœ‰è¶£çš„æ“ä½œï¼Œä¾‹å¦‚é‡å‘½åç¬¬äºŒä¸ªå‚æ•°å¹¶æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p>
<pre class="language-javascript hljs">const initialState = { width: 15 }; 

const reducer = (state, newState) =&gt; ({
  ...state,
  width: newState.width
})

const Bar = () =&gt; {
  const [state, setState] = useReducer(reducer, initialState)
  return &lt;&gt;
    &lt;div style={{ background: 'teal', height: '30px', width: state.width }}&gt;&lt;/div&gt;
    &lt;div style={{marginTop: '3rem'}}&gt;
        &lt;button onClick={() =&gt; setState({width: 100})}&gt;Increase bar size&lt;/button&gt;
        &lt;button onClick={() =&gt; setState({width: 3})}&gt;Decrease bar size&lt;/button&gt;
    &lt;/div&gt;
    &lt;/&gt;
}

ReactDOM.render(Bar)</pre>
<figure><img decoding="async" src="../Images/c84834f6fe8185d907210688221165a8.png" data-image-id="1*WbbJWr-_PGYXndcFEZVQUw.gif" data-width="1820" data-height="776" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*WbbJWr-_PGYXndcFEZVQUw.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*WbbJWr-_PGYXndcFEZVQUw.gif"/><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/c84834f6fe8185d907210688221165a8.png" data-image-id="1*WbbJWr-_PGYXndcFEZVQUw.gif" data-width="1820" data-height="776" data-original-src="https://storage.googleapis.com/blog-images-backup/1*WbbJWr-_PGYXndcFEZVQUw.gif"/></noscript><figcaption class="imageCaption">The results remain the same with a setState-like API imitated.</figcaption></figure>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå¯ç¼–è¾‘çš„<a href="https://react-hooks-cheatsheet.com/usereducer" target="_blank" rel="noopener"> <code>useReducer</code>å°æŠ„</a>ã€‚</p>
<h2 id="usecallback"><code>useCallback</code></h2>
<p><a href="https://reactjs.org/docs/hooks-reference.html#usecallback" target="_blank" rel="noopener"> <code>useCallback</code> </a>è¿”å›ä¸€ä¸ª<a href="https://en.wikipedia.org/wiki/Memoization">è¢«è®°å¿†çš„</a>å›è°ƒã€‚ç”¨<code><span class="typ">React</span><span class="pun">.</span><span class="typ">Memo</span><span class="pun">()</span></code>åŒ…è£…ç»„ä»¶è¡¨æ˜äº†é‡ç”¨ä»£ç çš„æ„å›¾ã€‚è¿™ä¸ä¼šè‡ªåŠ¨æ‰©å±•åˆ°ä½œä¸ºå‚æ•°ä¼ é€’çš„å‡½æ•°ã€‚</p>
<p>ç”¨<code><span class="pln">useCallback</span></code> åŒ…è£…æ—¶ï¼Œ<a href="https://blog.logrocket.com/react-usememo-vs-usecallback-a-pragmatic-guide/#whatis" target="_blank" rel="noopener">ä¿å­˜å¯¹å‡½æ•°çš„å¼•ç”¨ã€‚å°†æ­¤å¼•ç”¨ä½œä¸ºå±æ€§ä¼ é€’ç»™æ–°ç»„ä»¶ï¼Œä»¥å‡å°‘å‘ˆç°æ—¶é—´ã€‚</a></p>
<h3><code>useCallback</code>ä¸¾ä¾‹</h3>
<p>ä¸‹é¢çš„ä¾‹å­å°†æ„æˆåé¢çš„è§£é‡Šå’Œä»£ç ç‰‡æ®µçš„åŸºç¡€ã€‚</p>
<p><img decoding="async" src="../Images/80ab2cd801b2afa1cbabe5f34315625a.png" data-image-id="1*Iy316AxOQNNXEcMHKeGw7w.gif" data-width="1820" data-height="776" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*Iy316AxOQNNXEcMHKeGw7w.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*Iy316AxOQNNXEcMHKeGw7w.gif"/></p><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/80ab2cd801b2afa1cbabe5f34315625a.png" data-image-id="1*Iy316AxOQNNXEcMHKeGw7w.gif" data-width="1820" data-height="776" data-original-src="https://storage.googleapis.com/blog-images-backup/1*Iy316AxOQNNXEcMHKeGw7w.gif"/></noscript>
<p>è¿™æ˜¯ä»£ç :</p>
<pre class="language-javascript hljs">const App = () =&gt; {
    const [age, setAge] = useState(99)
    const handleClick = () =&gt; setAge(age + 1)
    const someValue = "someValue"
    const doSomething = () =&gt; {
      return someValue
    }
  
    return (
      &lt;div&gt;
        &lt;Age age={age} handleClick={handleClick}/&gt;
        &lt;Instructions doSomething={doSomething} /&gt;
      &lt;/div&gt;
    )
}

const Age = ({ age, handleClick }) =&gt; {
  return (
    &lt;div&gt;
      &lt;div style={{ border: '2px', background: "papayawhip", padding: "1rem" }}&gt;
        Today I am {age} Years of Age
      &lt;/div&gt;
      &lt;pre&gt; - click the button below ğŸ‘‡ &lt;/pre&gt;
      &lt;button onClick={handleClick}&gt;Get older! &lt;/button&gt;
    &lt;/div&gt;
  )
}

const Instructions = React.memo((props) =&gt; {
  return (
    &lt;div style={{ background: 'black', color: 'yellow', padding: "1rem" }}&gt;
      &lt;p&gt;Follow the instructions above as closely as possible&lt;/p&gt;
    &lt;/div&gt;
  )
})

ReactDOM.render (
  &lt;App /&gt;
)</pre>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ¯å½“ç‚¹å‡»<strong>å˜è€</strong>æŒ‰é’®æ—¶ï¼Œçˆ¶ç»„ä»¶<code>&lt;Age /&gt;</code>è¢«æ›´æ–°(å¹¶é‡æ–°å‘ˆç°)ã€‚</p>
<p>å› æ­¤ï¼Œ<code>&lt;Instructions /&gt;</code>å­ç»„ä»¶ä¹Ÿè¢«é‡æ–°å‘ˆç°ï¼Œå› ä¸ºå‘<code>doSomething</code>å±æ€§ä¼ é€’äº†ä¸€ä¸ªå¸¦æœ‰æ–°å¼•ç”¨çš„æ–°å›è°ƒã€‚</p>
<p>æ³¨æ„ï¼Œå³ä½¿<code>Instructions</code>å­ç»„ä»¶ä½¿ç”¨<code>React.memo</code>æ¥ä¼˜åŒ–æ€§èƒ½ï¼Œå®ƒä»ç„¶è¢«é‡æ–°æ¸²æŸ“ã€‚</p>
<p>å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ä»¥é˜²æ­¢<code>&lt;Instructions /&gt;</code>ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ï¼Ÿ</p>
<h3><code>useCallback</code>å…·æœ‰å¼•ç”¨åŠŸèƒ½</h3>
<pre class="language-javascript hljs">const App = () =&gt; {
  const [age, setAge] = useState(99)
  const handleClick = () =&gt; setAge(age + 1)
  const someValue = "someValue"
  const doSomething = useCallback(() =&gt; {
    return someValue
  }, [someValue])

  return (
    &lt;div&gt;
      &lt;Age age={age} handleClick={handleClick} /&gt;
      &lt;Instructions doSomething={doSomething} /&gt;
    &lt;/div&gt;
  )
}

const Age = ({ age, handleClick }) =&gt; {
  return (
    &lt;div&gt;
      &lt;div style={{ border: '2px', background: "papayawhip", padding: "1rem" }}&gt;
        Today I am {age} Years of Age
      &lt;/div&gt;
      &lt;pre&gt; - click the button below ğŸ‘‡ &lt;/pre&gt;
      &lt;button onClick={handleClick}&gt;Get older! &lt;/button&gt;
    &lt;/div&gt;
  )
}

const Instructions = React.memo((props) =&gt; {
  return (
    &lt;div style={{ background: 'black', color: 'yellow', padding: "1rem" }}&gt;
      &lt;p&gt;Follow the instructions above as closely as possible&lt;/p&gt;
    &lt;/div&gt;
  )
})

ReactDOM.render(&lt;App /&gt;)</pre>
<h3><code>useCallback</code>å¸¦å†…åµŒåŠŸèƒ½</h3>
<p><code>useCallback</code>ä¹Ÿå¯ä»¥ä½¿ç”¨å†…åµŒå‡½æ•°ã€‚ä»¥ä¸‹æ˜¯å†…è”<code>useCallback</code>è°ƒç”¨çš„ç›¸åŒè§£å†³æ–¹æ¡ˆ:</p>
<pre class="language-javascript hljs">const App = () =&gt; {
  const [age, setAge] = useState(99)
  const handleClick = () =&gt; setAge(age + 1)
  const someValue = "someValue"

  return (
    &lt;div&gt;
      &lt;Age age={age} handleClick={handleClick} /&gt;
      &lt;Instructions doSomething={useCallback(() =&gt; {
        return someValue
      }, [someValue])} /&gt;
    &lt;/div&gt;
  )
}

const Age = ({ age, handleClick }) =&gt; {
  return (
    &lt;div&gt;
      &lt;div style={{ border: '2px', background: "papayawhip", padding: "1rem" }}&gt;
        Today I am {age} Years of Age
      &lt;/div&gt;
      &lt;pre&gt; - click the button below ğŸ‘‡ &lt;/pre&gt;
      &lt;button onClick={handleClick}&gt;Get older! &lt;/button&gt;
    &lt;/div&gt;
  )
}

const Instructions = memo((props) =&gt; {
  return (
    &lt;div style={{ background: 'black', color: 'yellow', padding: "1rem" }}&gt;
      &lt;p&gt;Follow the instructions above as closely as possible&lt;/p&gt;
    &lt;/div&gt;
  )
})

render(&lt;App /&gt;)</pre>
<p>è¿™é‡Œæ˜¯<a href="https://react-hooks-cheatsheet.com/usecallback">ç›´æ’­ï¼Œå¯ç¼–è¾‘<code>useCallback</code>å°æŠ„</a>ã€‚</p>
<h2 id="usememo"><code>useMemo</code></h2>
<p><a href="https://reactjs.org/docs/hooks-reference.html#usememo" target="_blank" rel="noopener"> <code>useMemo</code> </a>å‡½æ•°è¿”å›ä¸€ä¸ªè®°å¿†å€¼ã€‚<a href="https://blog.logrocket.com/react-usememo-vs-usecallback-a-pragmatic-guide/" target="_blank" rel="noopener"> <code><span class="pln">useMemo</span></code>ä¸<code>useCallback</code> </a>ä¸åŒï¼Œå®ƒå†…éƒ¨åŒ–è¿”å›å€¼è€Œä¸æ˜¯æ•´ä¸ªå‡½æ•°ã€‚Reactä¸ä¼šå°†å¥æŸ„ä¼ é€’ç»™åŒä¸€ä¸ªå‡½æ•°ï¼Œè€Œæ˜¯è·³è¿‡è¯¥å‡½æ•°å¹¶è¿”å›å‰ä¸€ä¸ªç»“æœï¼Œç›´åˆ°å‚æ•°å‘ç”Ÿå˜åŒ–ã€‚</p>
<p>è¿™ä½¿æ‚¨å¯ä»¥é¿å…åœ¨å¿…è¦æ—¶é‡å¤æ‰§è¡Œæ½œåœ¨çš„é«˜æˆæœ¬æ“ä½œã€‚å°å¿ƒä½¿ç”¨è¯¥æ–¹æ³•ï¼Œå› ä¸ºå‡½æ•°ä¸­å®šä¹‰çš„ä»»ä½•å˜åŒ–çš„å˜é‡éƒ½ä¸ä¼šå½±å“<code><span class="pln">useMemo</span></code>çš„è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦æ·»åŠ æ—¶é—´æˆ³ï¼Œè¿™ä¸ªæ–¹æ³•ä¸å…³å¿ƒæ—¶é—´çš„å˜åŒ–ï¼Œåªå…³å¿ƒå‡½æ•°å‚æ•°çš„ä¸åŒã€‚</p>
<h3><code>useMemo</code>ä¸¾ä¾‹</h3>
<p>ä¸‹é¢çš„ä¾‹å­å°†æ„æˆåé¢çš„è§£é‡Šå’Œä»£ç ç‰‡æ®µçš„åŸºç¡€ã€‚</p>
<p><img decoding="async" class="aligncenter jetpack-lazy-image" src="../Images/2072a37d19a277694f9cbc9c62fce177.png" alt="" data-image-id="1*jlGFv-2D2Yu6VoSGx5Fu3w.png" data-width="916" data-height="399" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*jlGFv-2D2Yu6VoSGx5Fu3w.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://storage.googleapis.com/blog-images-backup/1*jlGFv-2D2Yu6VoSGx5Fu3w.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="aligncenter" src="../Images/2072a37d19a277694f9cbc9c62fce177.png" alt="" data-image-id="1*jlGFv-2D2Yu6VoSGx5Fu3w.png" data-width="916" data-height="399" data-original-src="https://storage.googleapis.com/blog-images-backup/1*jlGFv-2D2Yu6VoSGx5Fu3w.png"/></noscript>
<p>ä¸‹é¢æ˜¯è´Ÿè´£ä¸Šé¢æˆªå›¾çš„ä»£ç :</p>
<pre class="language-javascript hljs">const App = () =&gt; {
    const [age, setAge] = useState(99)
    const handleClick = () =&gt; setAge(age + 1)
    const someValue = { value: "someValue" }
    const doSomething = () =&gt; {
      return someValue
    }
  
    return (
      &lt;div&gt;
        &lt;Age age={age} handleClick={handleClick}/&gt;
        &lt;Instructions doSomething={doSomething} /&gt;
      &lt;/div&gt;
    )
}

const Age = ({ age, handleClick }) =&gt; {
  return (
    &lt;div&gt;
      &lt;div style={{ border: '2px', background: "papayawhip", padding: "1rem" }}&gt;
        Today I am {age} Years of Age
      &lt;/div&gt;
      &lt;pre&gt; - click the button below ğŸ‘‡ &lt;/pre&gt;
      &lt;button onClick={handleClick}&gt;Get older! &lt;/button&gt;
    &lt;/div&gt;
  )
}

const Instructions = React.memo((props) =&gt; {
  return (
    &lt;div style={{ background: 'black', color: 'yellow', padding: "1rem" }}&gt;
      &lt;p&gt;Follow the instructions above as closely as possible&lt;/p&gt;
    &lt;/div&gt;
  )
})

ReactDOM.render (
  &lt;App /&gt;
)</pre>
<p>ä¸Šé¢çš„ä¾‹å­ç±»ä¼¼äº<code>useCallback</code>çš„ä¾‹å­ã€‚è¿™é‡Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œ<code>someValue</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ<em>ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å› æ­¤ï¼Œå°½ç®¡ä½¿ç”¨äº†<code>React.memo</code>ï¼Œä½†<code>Instructions</code>ç»„ä»¶ä»ç„¶ä¼šé‡æ–°æ¸²æŸ“ã€‚</em></p>
<p>ä¸ºä»€ä¹ˆï¼Ÿå¯¹è±¡é€šè¿‡å¼•ç”¨è¿›è¡Œæ¯”è¾ƒï¼Œæ¯å½“<code>&lt;App /&gt;</code>é‡æ–°æ¸²æŸ“æ—¶ï¼Œå¯¹<code>someValue</code>çš„å¼•ç”¨å°±ä¼šæ”¹å˜ã€‚</p>
<p>æœ‰ä»€ä¹ˆè§£å†³æ–¹æ¡ˆå—ï¼Ÿ</p>
<h3>åŸºæœ¬ç”¨æ³•</h3>
<p>å¯ä»¥ä½¿ç”¨<code>useMemo</code>æ¥è®°å¿†å¯¹è±¡<code>someValue</code>ã€‚è¿™å¯ä»¥é˜²æ­¢ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚</p>
<pre class="language-javascript hljs">const App = () =&gt; {
    const [age, setAge] = useState(99)
    const handleClick = () =&gt; setAge(age + 1)
    const someValue = useMemo(() =&gt; ({ value: "someValue" }))
    const doSomething = () =&gt; {
      return someValue
    }
  
    return (
      &lt;div&gt;
        &lt;Age age={age} handleClick={handleClick}/&gt;
        &lt;Instructions doSomething={doSomething} /&gt;
      &lt;/div&gt;
    )
}

const Age = ({ age, handleClick }) =&gt; {
  return (
    &lt;div&gt;
      &lt;div style={{ border: '2px', background: "papayawhip", padding: "1rem" }}&gt;
        Today I am {age} Years of Age
      &lt;/div&gt;
      &lt;pre&gt; - click the button below ğŸ‘‡ &lt;/pre&gt;
      &lt;button onClick={handleClick}&gt;Get older! &lt;/button&gt;
    &lt;/div&gt;
  )
}

const Instructions = React.memo((props) =&gt; {
  return (
    &lt;div style={{ background: 'black', color: 'yellow', padding: "1rem" }}&gt;
      &lt;p&gt;Follow the instructions above as closely as possible&lt;/p&gt;
    &lt;/div&gt;
  )
})

ReactDOM.render (&lt;App /&gt;)</pre>
<p>è¿™é‡Œæœ‰ä¸€ä¸ª<a href="https://react-hooks-cheatsheet.com/usememo" target="_blank" rel="noopener">ç°åœºï¼Œå¯ç¼–è¾‘çš„<code>useMemo</code>æ¼”ç¤º</a>ã€‚</p>
<h2 id="useref"><code>useRef</code></h2>
<p><a href="https://reactjs.org/docs/hooks-reference.html#useref" target="_blank" rel="noopener"> <code>useRef</code> </a>è¿”å›ä¸€ä¸ªâ€œrefâ€å¯¹è±¡ã€‚ä»è¿”å›å¯¹è±¡çš„<code>.current</code>å±æ€§ä¸­è®¿é—®å€¼ã€‚ä¾‹å¦‚ï¼Œ<code>.current</code>å±æ€§å¯ä»¥è¢«åˆå§‹åŒ–ä¸ºåˆå§‹å€¼â€” <code>useRef(initialValue)</code>ã€‚å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå­˜æœŸå†…éƒ½æ˜¯æŒä¹…çš„ã€‚</p>
<p>åœ¨è¿™ä¸ª<a href="https://blog.logrocket.com/a-guide-to-react-refs/" target="_blank" rel="noopener">ç»¼åˆ<code>useRefs</code>æŒ‡å—</a>ä¸­äº†è§£æ›´å¤šä¿¡æ¯ï¼Œæˆ–è€…æŸ¥çœ‹æˆ‘ä»¬çš„<code>useRefs</code>è§†é¢‘æ•™ç¨‹:</p>
<p><iframe loading="lazy" src="https://www.youtube.com/embed/0ppuDPhgyrA" frameborder="0" allowfullscreen="allowfullscreen">è§†é¢‘</iframe></p>
<h3>è®¿é—®DOM</h3>
<p>è€ƒè™‘ä¸‹é¢çš„ç¤ºä¾‹åº”ç”¨ç¨‹åº:</p>
<figure><img decoding="async" src="../Images/cc0422dd3667a49649ae7eb34ae3af50.png" data-image-id="1*HpWEeuuijusQkO9mT5ohXw.gif" data-width="1820" data-height="776" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*HpWEeuuijusQkO9mT5ohXw.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*HpWEeuuijusQkO9mT5ohXw.gif"/><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/cc0422dd3667a49649ae7eb34ae3af50.png" data-image-id="1*HpWEeuuijusQkO9mT5ohXw.gif" data-width="1820" data-height="776" data-original-src="https://storage.googleapis.com/blog-images-backup/1*HpWEeuuijusQkO9mT5ohXw.gif"/></noscript><figcaption>Accessing the DOM viaÂ useRef.</figcaption></figure>
<p>ä¸‹é¢æ˜¯è´Ÿè´£ä¸Šè¿°æˆªå±çš„ä»£ç :</p>
<pre class="language-javascript hljs">const AccessDOM = () =&gt; {
  const textAreaEl = useRef(null);
  const handleBtnClick = () =&gt; {
    textAreaEl.current.value =
    "The is the story of your life. You are an human being, and you're on a website about React Hooks";
    textAreaEl.current.focus();
  };
  return (
    &lt;section style={{ textAlign: "center" }}&gt;
      &lt;div&gt;
        &lt;button onClick={handleBtnClick}&gt;Focus and Populate Text Field&lt;/button&gt;
      &lt;/div&gt;
      &lt;label
        htmlFor="story"
        style={{
          display: "block",
          background: "olive",
          margin: "1em",
          padding: "1em"
        }}
      &gt;
        The input box below will be focused and populated with some text
        (imperatively) upon clicking the button above.
      &lt;/label&gt;
      &lt;textarea ref={textAreaEl} id="story" rows="5" cols="33" /&gt;
    &lt;/section&gt;
  );
};</pre>
<h3>ç±»ä¼¼å®ä¾‹çš„å˜é‡(é€šç”¨å®¹å™¨)</h3>
<p>é™¤äº†ä¿å­˜DOMå¼•ç”¨,â€œrefâ€å¯¹è±¡è¿˜å¯ä»¥ä¿å­˜ä»»ä½•å€¼ã€‚è€ƒè™‘ä¸‹é¢ä¸€ä¸ªç±»ä¼¼çš„åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­refå¯¹è±¡ä¿å­˜ä¸€ä¸ªå­—ç¬¦ä¸²å€¼:</p>
<p><img decoding="async" src="../Images/7faa3cb11b2d4921ae2d68e4abc4977e.png" data-image-id="1*jLxqYWFdw0LDl8_axo5hMw.gif" data-width="1820" data-height="776" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*jLxqYWFdw0LDl8_axo5hMw.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*jLxqYWFdw0LDl8_axo5hMw.gif"/></p><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/7faa3cb11b2d4921ae2d68e4abc4977e.png" data-image-id="1*jLxqYWFdw0LDl8_axo5hMw.gif" data-width="1820" data-height="776" data-original-src="https://storage.googleapis.com/blog-images-backup/1*jLxqYWFdw0LDl8_axo5hMw.gif"/></noscript>
<p>ä»£ç å¦‚ä¸‹:</p>
<pre class="language-javascript hljs">const HoldStringVal = () =&gt; {
    const textAreaEl = useRef(null);
    const stringVal = useRef("This is a string saved via the ref object --- ")
    const handleBtnClick = () =&gt; {
      textAreaEl.current.value =
      stringVal.current + "The is the story of your life. You are an human being, and you're on a website about React Hooks";
      textAreaEl.current.focus();
    };
    return (
      &lt;section style={{ textAlign: "center" }}&gt;
        &lt;div&gt;
          &lt;button onClick={handleBtnClick}&gt;Focus and Populate Text Field&lt;/button&gt;
        &lt;/div&gt;
        &lt;label
          htmlFor="story"
          style={{
            display: "block",
            background: "olive",
            margin: "1em",
            padding: "1em"
          }}
        &gt;
          Prepare to see text from the ref object here. Click button above.
        &lt;/label&gt;
        &lt;textarea ref={textAreaEl} id="story" rows="5" cols="33" /&gt;
      &lt;/section&gt;
    );
  };</pre>
<p>æ‚¨å¯ä»¥åƒå­˜å‚¨æ¥è‡ª<code>setInterval</code>çš„è¿”å›å€¼ä¸€æ ·è¿›è¡Œæ¸…ç†ã€‚</p>
<pre class="language-javascript hljs">function TimerWithRefID() {
  const setIntervalRef = useRef();

  useEffect(() =&gt; {
    const intervalID = setInterval(() =&gt; {
      // something to be done every 100ms
    }, 100);

    // this is where the interval ID is saved in the ref object 
    setIntervalRef.current = intervalID;
    return () =&gt; {
      clearInterval(setIntervalRef.current);
    };
  });
}</pre>
<h3>å…¶ä»–ç¤ºä¾‹</h3>
<p>ç ”ç©¶ä¸€ä¸ªæ¥è¿‘çœŸå®ä¸–ç•Œçš„ä¾‹å­å¯ä»¥å¸®åŠ©ä½ å°†é’©å­çš„çŸ¥è¯†è¿ç”¨åˆ°ç”Ÿæ´»ä¸­ã€‚åœ¨Reactæ‚¬å¿µæ•°æ®è·å–å‘å¸ƒä¹‹å‰ï¼Œé€šè¿‡é’©å­è·å–æ•°æ®è¢«è¯æ˜æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é’©å­ç»ƒä¹ ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨åŠ è½½æŒ‡ç¤ºå™¨è·å–æ•°æ®çš„ç¤ºä¾‹:</p>
<p><img decoding="async" src="../Images/1cfa6ed8fb35e85c882853fec179aa15.png" data-image-id="1*sr9I9TkSj8GCgSI411rGPA.gif" data-width="1820" data-height="892" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*sr9I9TkSj8GCgSI411rGPA.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://storage.googleapis.com/blog-images-backup/1*sr9I9TkSj8GCgSI411rGPA.gif"/></p><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/1cfa6ed8fb35e85c882853fec179aa15.png" data-image-id="1*sr9I9TkSj8GCgSI411rGPA.gif" data-width="1820" data-height="892" data-original-src="https://storage.googleapis.com/blog-images-backup/1*sr9I9TkSj8GCgSI411rGPA.gif"/></noscript>
<p>ä»£ç å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">const fetchData = () =&gt; {
  const stringifyData = data =&gt; JSON.stringify(data, null, 2)
  const initialData = stringifyData({ data: null })
  const loadingData = stringifyData({ data: 'loading...' })
  const [data, setData] = useState(initialData)

  const [gender, setGender] = useState('female')
  const [loading, setLoading] = useState(false)

  useEffect(
    () =&gt; {
      const fetchData = () =&gt; {
        setLoading(true)
        const uri = 'https://randomuser.me/api/?gender=' + gender
        fetch(uri)
          .then(res =&gt; res.json())
          .then(({ results }) =&gt; {
            setLoading(false)
            const { name, gender, dob } = results[0]
            const dataVal = stringifyData({
              ...name,
              gender,
              age: dob.age
            })
            setData(dataVal)
          })
      }

      fetchData()
    },
    [gender]
  )

  return (
    &lt;&gt;
      &lt;button
        onClick={() =&gt; setGender('male')}
        style={{ outline: gender === 'male' ? '1px solid' : 0 }}
      &gt;
        Fetch Male User
      &lt;/button&gt;
      &lt;button
        onClick={() =&gt; setGender('female')}
        style={{ outline: gender === 'female' ? '1px solid' : 0 }}
      &gt;
        Fetch Female User
      &lt;/button&gt;

      &lt;section&gt;
        {loading ? &lt;pre&gt;{loadingData}&lt;/pre&gt; : &lt;pre&gt;{data}&lt;/pre&gt;}
      &lt;/section&gt;
    &lt;/&gt;
  )
}</pre>
<p>è¿™æ˜¯ä¸€å¼ <a href="https://react-hooks-cheatsheet.com/useRef" target="_blank" rel="noopener">å®æ—¶ã€å¯ç¼–è¾‘çš„<code>useRef</code>å¤‡å¿˜å•</a>ã€‚</p>
<h2 id="usetransition"><code>useTransition</code></h2>
<p>ç†è§£<code>useTransition</code>é’©å­çš„å…³é”®æ˜¯å®ƒä¼˜å…ˆè€ƒè™‘çŠ¶æ€å˜åŒ–ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒReactä¸­çš„ä»»ä½•çŠ¶æ€æ›´æ”¹éƒ½è¢«èµ‹äºˆé«˜ä¼˜å…ˆçº§ã€‚ç„¶è€Œï¼Œå½“æ‚¨è½¬æ¢ä¸€ä¸ªçŠ¶æ€å˜åŒ–æ—¶(å¯èƒ½æ˜¯å› ä¸ºç¹é‡çš„è®¡ç®—)ï¼Œæ‚¨å‘Šè¯‰Reactç»™äºˆè¯¥çŠ¶æ€å˜åŒ–è¾ƒä½çš„ä¼˜å…ˆçº§ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰å…¶ä»–çŠ¶æ€å˜åŒ–å°†åœ¨è½¬æ¢çš„çŠ¶æ€å˜åŒ–è¿è¡Œä¹‹å‰è¿è¡Œå¹¶å‘ˆç°åœ¨å±å¹•ä¸Šã€‚</p>
<h3 id="marking-state-transition">å°†çŠ¶æ€æ ‡è®°ä¸ºè½¬æ¢</h3>
<p>å°†ä¸€ä¸ªçŠ¶æ€æ ‡è®°ä¸ºè½¬æ¢å¾ˆç®€å•ï¼Œåªéœ€å°†ä¸€ä¸ªåŒæ­¥å‡½æ•°ä¸æ‚¨æƒ³è¦è½¬æ¢çš„çŠ¶æ€ä¸€èµ·ä¼ é€’ç»™ç”±<code>useTransition</code>é’©å­è¿”å›çš„<code>startTransition</code>å‡½æ•°:</p>
<pre class="language-javascript hljs">import { useTransition } from 'react';

const App =()=&gt;{
  const [timeUpdate, setTimeUpdate] = useState(2)
  const [isPending, startTransition] = useTransition()

  startTransition(()=&gt;{
      // handle state change in here
    })

  }
</pre>
<p><code>isPending</code>æ ‡å¿—è¿”å›<code>true</code>æˆ–<code>false</code>,æŒ‡ç¤ºæ˜¯å¦æœ‰æœªå†³è½¬æ¢ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>startTransition</code>å‡½æ•°å°†çŠ¶æ€å˜åŒ–æ ‡è®°ä¸ºè½¬æ¢ã€‚</p>
<h3 id="difference-between-usetransition-regular-state-update"><code>useTransition</code>å’Œå¸¸è§„çŠ¶æ€æ›´æ–°çš„åŒºåˆ«</h3>
<p>æ”¾ç½®åœ¨<code>useTransition</code>é’©å­å†…çš„çŠ¶æ€æ›´æ–°è¢«èµ‹äºˆä½ä¼˜å…ˆçº§ï¼Œè€Œå¸¸è§„çš„çŠ¶æ€æ›´æ–°è¢«èµ‹äºˆè¾ƒé«˜çš„ä¼˜å…ˆçº§ã€‚</p>
<p>æ‰€ä»¥æŠŠ<code>useTransition</code>æƒ³è±¡æˆä¸€ä¸ªReacté’©å­ï¼Œè®©ä½ åœ¨ä¸é˜»å¡UIçš„æƒ…å†µä¸‹æ›´æ–°çŠ¶æ€ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p>
<h4 id="changing-state-without-transition">æ”¹å˜çŠ¶æ€è€Œä¸è½¬æ¢</h4>
<p>æˆ‘å·²ç»åˆ›å»ºäº†ä¸€ä¸ª<a href="https://codesandbox.io/s/compassionate-browser-ieidgo?file=/src/App.js"> CodeSandbox </a>ï¼Œå®ƒè¿›è¡Œäº†ä¸¤æ¬¡çŠ¶æ€æ›´æ–°:</p>
<ol>
<li>æ ¹æ®ç”¨æˆ·è¾“å…¥æ›´æ–°<code>textInput</code>çŠ¶æ€</li>
<li>ç”¨å½“å‰è¾“å…¥çš„ç”¨æˆ·è¾“å…¥å¾ªç¯å’Œæ›´æ–°<code>listItems</code>çŠ¶æ€</li>
</ol>
<p><code>React</code>æœ‰ä¸€ç§ç§°ä¸ºâ€œæ‰¹å¤„ç†â€çš„æœºåˆ¶ï¼Œå…è®¸å®ƒå°†å¤šä¸ªçŠ¶æ€æ›´æ”¹åˆå¹¶æˆä¸€ä¸ªå¯¹ç»„ä»¶çŠ¶æ€çš„æ›´æ–°ã€‚</p>
<p>å½“æ‚¨åœ¨Reactç»„ä»¶ä¸­è°ƒç”¨<code>setState</code>æ—¶ï¼ŒReactä¸ä¼šç«‹å³æ›´æ–°ç»„ä»¶çš„çŠ¶æ€ã€‚ç›¸åï¼Œå®ƒå°†çŠ¶æ€æ›´æ–°å®‰æ’åœ¨ä»¥åå¤„ç†ã€‚å¦‚æœåœ¨åŒä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­å¤šæ¬¡è°ƒç”¨<code>setState</code> <em> <em/> </em>ï¼ŒReactä¼šåœ¨å°†è¿™äº›æ›´æ–°åº”ç”¨åˆ°ç»„ä»¶çš„çŠ¶æ€å¹¶è§¦å‘é‡æ–°æ¸²æŸ“ä¹‹å‰ï¼Œå°†å®ƒä»¬æ‰¹å¤„ç†æˆä¸€ä¸ªæ›´æ–°ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çš„<code>setTextInput</code>çŠ¶æ€ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ï¼Œç›´åˆ°æˆ‘ä»¬å®Œæˆå¾ªç¯å¹¶æ›´æ–°äº†<code>setListItems</code>çŠ¶æ€ï¼Œç„¶åæ‰è§¦å‘æ¸²æŸ“ã€‚è¿™ä½¿å¾—æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåŠ¨ä½œæœ‰ç‚¹è¿Ÿç¼“ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹åŒä¸€ä¸ªä¾‹å­ï¼Œä½†è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬å°†è½¬æ¢è®¡ç®—é‡å¾ˆå¤§çš„çŠ¶æ€å˜åŒ–ã€‚</p>
<h4 id="changing-state-with-transition">é€šè¿‡è½¬æ¢æ”¹å˜çŠ¶æ€</h4>
<p>æ­£å¦‚æˆ‘ä»¬åœ¨è¿™ä¸ª<a href="https://codesandbox.io/s/nostalgic-cdn-002eg9?file=/src/App.js">ä»£ç æ²™ç®±</a>ä¸­çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæœ‰äº†æ˜¾è‘—çš„æ”¹è¿›ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å‘Šè¯‰<code>react</code>ç»™<code>setListItems</code>çŠ¶æ€æ›´æ–°ä¸€ä¸ªè¾ƒä½çš„ä¼˜å…ˆçº§ï¼Œå› ä¸ºå®ƒéœ€è¦å¤§é‡çš„è®¡ç®—ã€‚è¿™æ„å‘³ç€<code>setTextInput</code>çŠ¶æ€å°†åœ¨çŠ¶æ€æ”¹å˜æ—¶è§¦å‘é‡æ–°æ¸²æŸ“ï¼Œè€Œä¸å¿…ä¸<code>setListItem</code>çŠ¶æ€æ”¹å˜ä¸€èµ·æ‰¹å¤„ç†ã€‚</p>
<p><em> <strong>æ³¨æ„ï¼Œ</strong>å¦‚æœä¸€ä¸ªçŠ¶æ€æ›´æ–°å¯¼è‡´ä¸€ä¸ªç»„ä»¶æŒ‚èµ·ï¼Œé‚£ä¹ˆè¿™ä¸ªçŠ¶æ€æ›´æ–°åº”è¯¥åŒ…å«åœ¨ä¸€ä¸ªè½¬æ¢ä¸­</em></p>
<h2 id="usedeferredvalue"><code>useDeferredValue</code></h2>
<p><code>useDeferredValue</code> Hookæ˜¯React 18çš„æ–°å¢åŠŸèƒ½ï¼Œå®ƒä¸ºå¼€å‘äººå‘˜ä¼˜åŒ–åº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„æ–°å·¥å…·ã€‚<code>useDeferredValue</code>å…è®¸æ‚¨å°†å€¼çš„å‘ˆç°æ¨è¿Ÿåˆ°å°†æ¥çš„æŸä¸ªæ—¶é—´ç‚¹ï¼Œè¿™åœ¨æ‚¨å¸Œæœ›é¿å…ä¸å¿…è¦çš„å‘ˆç°çš„æƒ…å†µä¸‹éå¸¸æœ‰ç”¨ã€‚</p>
<p>ä¸‹é¢æ˜¯ç¤ºä¾‹è¯­æ³•ä»£ç :</p>
<pre class="language-javascript hljs">import { useDeferredValue } from 'react'

const App =()=&gt;{
const [valueToDefer, setValueToDefer] = useState("")
const deferredValue = useDeferredValue(valueToDefer)

return (
  &lt;p&gt;{deferredValue}&lt;/p&gt;
  )
}
</pre>
<p>æˆ‘ä»¬æ‰€è¦åšçš„å°±æ˜¯å°†æˆ‘ä»¬æƒ³è¦æ¨è¿Ÿçš„å€¼ä¼ é€’åˆ°<code>useDeferredValue</code>é’©å­ä¸­ã€‚</p>
<p><code>useDeferredValue</code>é’©å­æœ€å¸¸è§çš„ä¸€ä¸ªç”¨ä¾‹æ˜¯å½“ä½ åŒæ—¶è¿›è¡Œå¤§é‡æ›´æ–°çš„æ—¶å€™ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æ‚¨çš„åº”ç”¨ç¨‹åºä¸­æœ‰ä¸€ä¸ªæœç´¢æ ï¼Œå®ƒä¼šéšç€ç”¨æˆ·çš„é”®å…¥è€Œå®æ—¶æ›´æ–°ã€‚å¦‚æœç”¨æˆ·æ˜¯ä¸€ä¸ªå¿«é€Ÿæ‰“å­—å‘˜ï¼Œè¿™å¯èƒ½å¯¼è‡´å‡ åä¸ªï¼Œç”šè‡³å‡ ç™¾ä¸ªæ›´æ–°å¿«é€Ÿè¿ç»­å‘ç”Ÿã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¼˜åŒ–ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ‚¨çš„åº”ç”¨ç¨‹åºå˜æ…¢ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨<code>useDeferredValue</code>é’©å­ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ¨è¿Ÿæœç´¢ç»“æœçš„å‘ˆç°ç›´åˆ°ç”¨æˆ·åœæ­¢è¾“å…¥æ¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚è¿™ç±»ä¼¼äº<a href="https://www.freecodecamp.org/news/debouncing-explained/">å»æŠ–åŠ¨</a>çš„å·¥ä½œæ–¹å¼ï¼›å®ƒå¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½ã€‚</p>
<p>è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªä¾‹å­æ¥æ¼”ç¤ºè¿™ä¸ªç”¨ä¾‹:</p>
<pre class="language-javascript hljs">const Search =()=&gt; {
  const [searchQuery, setSearchQuery] = useState('');
  const [searchResults, setSearchResults] = useState([]);

  const deferredSearchQuery = useDeferredValue(searchQuery);

  useEffect(() =&gt; {
    // Fetch search results using deferredSearchQuery
    // Update setSearchResults with the new results
  }, [deferredSearchQuery]);

  const handleSearchInputChange = (event) =&gt; {
    setSearchQuery(event.target.value);
  };

  return (
    &lt;div&gt;
      &lt;input type="text" value={searchQuery} onChange={handleSearchInputChange} /&gt;
      &lt;ul&gt;
        {searchResults.map((result) =&gt; (
          &lt;li key={result.id}&gt;{result.title}&lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
}
</pre>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨<code>useDeferredValue</code>é’©å­æ¥æ¨è¿Ÿæœç´¢ç»“æœçš„å‘ˆç°ï¼Œç›´åˆ°ç”¨æˆ·åœæ­¢åœ¨æœç´¢æ ä¸­è¾“å…¥ã€‚è¿™æœ‰åŠ©äºå‡å°‘ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“å¹¶æé«˜æ€§èƒ½ã€‚</p>
<h2 id="useid"><code>useId</code></h2>
<p><code>useId</code>æ˜¯ä¸€ä¸ªç”¨æ¥ç”Ÿæˆå”¯ä¸€idçš„Reacté’©å­ã€‚è¿™åœ¨å¾ˆå¤šæƒ…å†µä¸‹æ˜¯æœ‰ä»·å€¼çš„ï¼Œæ¯”å¦‚ä¸ºå¯è®¿é—®æ€§å±æ€§ç”ŸæˆæƒŸä¸€çš„idã€‚</p>
<p>ä¸‹é¢æ˜¯ç¤ºä¾‹è¯­æ³•ä»£ç :</p>
<pre class="language-javascript hljs">import { useId } from 'react'

const App =()=&gt;{
const id = useId()

return (
  &lt;input type="text" id={id} /&gt;
  )
}
</pre>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç”¨ä¾‹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨å¸¦æœ‰<code>TextField</code>ç»„ä»¶çš„<code>useId</code>é’©å­çš„åœºæ™¯ç¤ºä¾‹:</p>
<pre class="language-javascript hljs">const TextField =()=&gt;{
  return(
      &lt;&gt;
        &lt;label htmlFor="name" /&gt; 
        &lt;input type="text" id="name"/&gt;
      &lt;/&gt;
  )
}
</pre>
<p>æˆ‘ä»¬å°†åœ¨ä¸‹é¢çš„<code>App</code>ç»„ä»¶ä¸­å¤šæ¬¡ä½¿ç”¨<code>TextField</code>ç»„ä»¶:</p>
<pre class="language-javascript hljs">const App=()=&gt;{
  return (
    &lt;div className="inputs"&gt;
      &lt;TextField /&gt;
      &lt;TextField /&gt;
    &lt;/div&gt;
  )
}
</pre>
<p>ä¸ºäº†å°†ä¸€ä¸ª<code>label</code>å…ƒç´ é“¾æ¥åˆ°ä¸€ä¸ª<code>input</code>å­—æ®µï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>id</code>å’Œ<code>htmlFor</code>å±æ€§ã€‚è¿™å°†ä½¿æµè§ˆå™¨å°†ç‰¹å®šçš„<code>label</code>å…ƒç´ ä¸ç‰¹å®šçš„<code>input</code>å­—æ®µç›¸å…³è”ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨æ™®é€šçš„<code>HTML</code>ï¼Œè¿™å°±æ²¡æœ‰å¿…è¦äº†â€”â€”ç›¸åï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°å¤åˆ¶å…ƒç´ å¹¶æ”¹å˜å±æ€§ã€‚</p>
<p>ç„¶è€Œï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå¯é‡ç”¨çš„<code>TextField</code>ç»„ä»¶ï¼Œå¹¶ä¸”æˆ‘ä»¬åœ¨<code>App</code>ç»„ä»¶ä¸­ä½¿ç”¨äº†è¿™ä¸ªç»„ä»¶ä¸¤æ¬¡ã€‚ç”±äº<code>TextField</code> <br/>ä¸­å…ƒç´ çš„å±æ€§æ˜¯é™æ€çš„ï¼Œæ‰€ä»¥æ¯æ¬¡æˆ‘ä»¬æ¸²æŸ“ç»„ä»¶æ—¶ï¼Œå±æ€§éƒ½ä¿æŒä¸å˜ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨<code>useId</code>é’©å­æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è®©æˆ‘ä»¬ä¿®æ”¹<code>TextField</code>ç»„ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">const TextField =()=&gt;{
const id = useId();
  return(
      &lt;&gt;
        &lt;label htmlFor={id} /&gt; 
        &lt;input type="text" id={id}/&gt;
      &lt;/&gt;
  )
}
</pre>
<p>ç°åœ¨ï¼Œæ¯æ¬¡æˆ‘ä»¬è°ƒç”¨<code>TextInput</code>ç»„ä»¶æ—¶ï¼Œä¸€ä¸ªæƒŸä¸€çš„IDå°†ä¸æ‰€å‘ˆç°çš„å…ƒç´ ç›¸å…³è”ã€‚</p>
<h2 id="conclusion">ç»“è®º</h2>
<p>é’©å­ç»™äº†åŠŸèƒ½ç»„ä»¶å¾ˆå¤§çš„åŠ›é‡ã€‚æˆ‘å¸Œæœ›è¿™ä»½å¤‡å¿˜å•å¯¹æ‚¨æ—¥å¸¸ä½¿ç”¨Reacté’©å­æœ‰ç”¨ã€‚</p>
<p><img decoding="async" class="aligncenter jetpack-lazy-image" src="../Images/ba57a9b4f1cc5961e7ef8bbc47bf822b.png" alt="" data-lazy-src="https://storage.googleapis.com/blog-images-backup/1*ag8EVnHaBiQECo2yXC49Mw.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://storage.googleapis.com/blog-images-backup/1*ag8EVnHaBiQECo2yXC49Mw.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="aligncenter" src="../Images/ba57a9b4f1cc5961e7ef8bbc47bf822b.png" alt="" data-original-src="https://storage.googleapis.com/blog-images-backup/1*ag8EVnHaBiQECo2yXC49Mw.png"/></noscript>
<p>å¤šäºäº†é’©å­å’Œå…¶ä»–å‡ ä¸ªæ–°çš„Reactç‰¹æ€§ã€‚ç”±æˆ‘æ’ç”» </p>
<p><img decoding="async" src="../Images/b761053192e084b81c62f9881ce71ecd.png" alt="ğŸ™‚" data-lazy-src="https://s.w.org/images/core/emoji/14.0.0/svg/1f642.svg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://s.w.org/images/core/emoji/14.0.0/svg/1f642.svg"/></p><noscript><img data-lazy-fallback="1" decoding="async" src="../Images/b761053192e084b81c62f9881ce71ecd.png" alt="ğŸ™‚" data-original-src="https://s.w.org/images/core/emoji/14.0.0/svg/1f642.svg"/></noscript>
<p>å¹²æ¯ï¼</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">ä½¿ç”¨LogRocketæ¶ˆé™¤ä¼ ç»Ÿååº”é”™è¯¯æŠ¥å‘Šçš„å™ªéŸ³</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>æ˜¯ä¸€æ¬¾React analyticsè§£å†³æ–¹æ¡ˆï¼Œå¯ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªè¯¯æŠ¥é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å°‘æ•°çœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocketå‘Šè¯‰æ‚¨Reactåº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„bugå’ŒUXé—®é¢˜ã€‚</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>è‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€ååº”é”™è¯¯è¾¹ç•Œã€è¿˜åŸçŠ¶æ€ã€ç¼“æ…¢çš„ç»„ä»¶åŠ è½½æ—¶é—´ã€JSå¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶åï¼ŒLogRocketä½¿ç”¨æœºå™¨å­¦ä¹ æ¥é€šçŸ¥æ‚¨å½±å“å¤§å¤šæ•°ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„é—®é¢˜ï¼Œå¹¶æä¾›æ‚¨ä¿®å¤å®ƒæ‰€éœ€çš„ä¸Šä¸‹æ–‡ã€‚</p><p vwo-el-id="28675661060">å…³æ³¨é‡è¦çš„React bugâ€”<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">ä»Šå¤©å°±è¯•è¯•LogRocketã€‘ã€‚</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>