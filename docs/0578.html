<html>
<head>
<title>Frustrations in Python - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Python - LogRocketåšå®¢ä¸­çš„æŒ«æŠ˜</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/frustrations-in-python/#0001-01-01">https://blog.logrocket.com/frustrations-in-python/#0001-01-01</a></blockquote><div><article class="article-post">
<p>é»‘æš—åŠ¿åŠ›æ–½å±•ä»–ä»¬é‚ªæ¶çš„é­”æ³•ï¼Œä¾µå…¥æˆ‘ä»¬çè´µçš„Pythonç¨‹åºé¢†åŸŸã€‚</p>
<p>ä»–ä»¬ä¸å—æ§åˆ¶åœ°å‘é€ä»–ä»¬æ‰­æ›²çš„é­”æ³•ï¼Œæ±¡æŸ“æˆ‘ä»¬å¯è¯»çš„ä»£ç ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘å°†å±•ç¤ºå‡ ä¸ªå¯èƒ½å·²ç»å­˜åœ¨äºä½ çš„ä»£ç åº“ä¸­çš„ç”Ÿç‰©ï¼Œå®ƒä»¬å·²ç»ä¹ æƒ¯äºå¼€å§‹åˆ¶å®šè‡ªå·±çš„è§„åˆ™ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè‹±é›„æ¥ä¿æŠ¤æˆ‘ä»¬å’Œå¹³çš„ä¸–ç•Œå…å—è¿™äº›é‚ªæ¶å®ä½“çš„ä¾µå®³ã€‚ä½ å°†æˆä¸ºä¸ä»–ä»¬æˆ˜æ–—çš„è‹±é›„ï¼</p>
<p><img decoding="async" class="size-full aligncenter jetpack-lazy-image" src="../Images/c1005556d44667289238506c1d68cbdd.png" data-lazy-src="https://i.imgur.com/FinOtnL.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://i.imgur.com/FinOtnL.png"/></p><noscript><img data-lazy-fallback="1" decoding="async" loading="lazy" class="size-full aligncenter" src="../Images/c1005556d44667289238506c1d68cbdd.png" data-original-src="https://i.imgur.com/FinOtnL.png"/></noscript>
<p>åœ¨å²è¯—èˆ¬çš„æˆ˜æ–—ä¸­ï¼Œæ‰€æœ‰çš„è‹±é›„éƒ½éœ€è¦è¢«å…‰é­”æ³•é™„ä½“çš„æ­¦å™¨æ¥ä¸ºä»–ä»¬æœåŠ¡ã€‚</p>
<p><a href="https://github.com/wemake-services/wemake-python-styleguide" target="_blank" rel="noopener noreferrer"> wemake-python-styleguide </a>å°†æ˜¯ä½ çš„åˆ©å™¨ï¼Œä¹Ÿæ˜¯ä½ æœ€å¥½çš„ä¼´ä¾£ã€‚</p>
<p>è®©æˆ‘ä»¬å¼€å§‹æˆ‘ä»¬çš„æ—…ç¨‹å§ï¼</p>
<h3>å¤ªç©ºå…¥ä¾µè€…</h3>
<p>ä¸ä¹…å‰ï¼Œå¤ªç©ºå…¥ä¾µè€…åœ¨Python ä¸­è¢«<a href="https://twitter.com/raymondh/status/1131103570856632321" target="_blank" rel="noopener noreferrer">å‘ç°ã€‚å®ƒä»¬é‡‡å–å¥‡å¼‚çš„å½¢å¼ã€‚</a></p>
<pre>  5:5      E225  missing whitespace around operator
  x -=- x
      ^

  5:5      WPS346 Found wrong operation sign
  x -=- x
      ^

  10:2     E225  missing whitespace around operator
  o+=+o
   ^

  14:10    E225  missing whitespace around operator
  print(3 --0-- 5 == 8)
           ^

  14:10    WPS346 Found wrong operation sign
  print(3 --0-- 5 == 8)
           ^

  14:11    WPS345 Found meaningless number operation
  print(3 --0-- 5 == 8)
            ^

  14:12    E226  missing whitespace around arithmetic operator
  print(3 --0-- 5 == 8)
             ^

  14:13    WPS346 Found wrong operation sign
  print(3 --0-- 5 == 8)
              ^
</pre>
<p>æˆ‘ä»¬çš„ä»£ç åº“åº”è¯¥æ˜¯è¿™æ ·çš„:</p>
<pre>x = 1
x += x

o = 2
o += o

print(3 + 5 == 8)
</pre>
<p>å¯è¯»æ€§å’Œå¹²å‡€ï¼</p>
<h3>ç¥ç§˜çš„ç‚¹</h3>
<p>ä¸€äº›å¸‚æ°‘æŠ¥å‘Šè¯´ä¸€äº›å¥‡æ€ªçš„ä»£ç å¼€å§‹å‡ºç°ã€‚çœ‹ï¼Œä»–ä»¬åœ¨è¿™é‡Œï¼</p>
<pre>print(0..__eq__(0))
# =&gt; True

print(....__eq__(((...))))
# =&gt; True
</pre>
<p>è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿåœ¨æˆ‘çœ‹æ¥åƒæ˜¯éƒ¨åˆ†<code>float</code>å’Œ<code>Ellipsis</code>ï¼Œä½†æœ€å¥½ç¡®å®šä¸€ä¸‹ã€‚</p>
<pre>  21:7     WPS609 Found direct magic attribute usage: __eq__
  print(0..__eq__(0))
        ^

  21:7     WPS304 Found partial float: 0.
  print(0..__eq__(0))
        ^

  24:7     WPS609 Found direct magic attribute usage: __eq__
  print(....__eq__(((...))))
        ^
</pre>
<p>å“å“Ÿï¼ç°åœ¨æˆ‘ä»¬ç¡®å®šäº†ã€‚ç¡®å®æ˜¯ç‚¹å±æ€§è®¿é—®çš„åˆ†éƒ¨<code>float</code>å’Œç‚¹è®¿é—®ç›¸åŒçš„<code>Elipsis</code>ã€‚ç°åœ¨è®©æˆ‘ä»¬æ­ç¤ºæ‰€æœ‰éšè—çš„ä¸œè¥¿:</p>
<pre>print(0.0 == 0)
print(... == ...)
</pre>
<p>å°½ç®¡å¦‚æ­¤ï¼Œæœ€å¥½ä¸è¦æ¿€æ€’åˆ«äººï¼Œä¹Ÿä¸è¦åœ¨å…¶ä»–åœ°æ–¹æ¯”è¾ƒå¸¸æ•°ã€‚</p>
<h3>è¯¯å¯¼çš„é“è·¯</h3>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ªæ–°çš„äº‹ä»¶ã€‚æœ‰äº›å€¼ä»æœªä»å‡½æ•°ä¸­è¿”å›ã€‚è®©æˆ‘ä»¬å¼„æ¸…æ¥šè¿™æ˜¯æ€ä¹ˆå›äº‹ã€‚</p>
<pre>def some_func():
    try:
       return 'from_try'
    finally:
       return 'from_finally'

some_func()
# =&gt; 'from_finally'
</pre>
<p>ç”±äºæˆ‘ä»¬çš„ä»£ç ä¸­æœ‰ä¸€ä¸ªæŸåçš„å®ä½“ï¼Œæˆ‘ä»¬ä¸¢å¤±äº†<code>'from_try'</code>ï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ</p>
<pre> 31:5 WPS419 Found `try`/`else`/`finally` with multiple return paths
 try:
 ^
</pre>
<p>åŸæ¥<code>wemake-python-styleguide</code>ä¸€ç›´éƒ½çŸ¥é“ï¼å®ƒæ•™å¯¼æˆ‘ä»¬æ°¸è¿œä¸è¦ä»<code>finally</code>è¿”å›ã€‚è®©æˆ‘ä»¬æœä»å®ƒã€‚</p>
<pre>def some_func():
  try:
      return 'from_try'
  finally:
      print('now in finally')
</pre>
<h3>ç»§æ‰¿çš„é—äº§</h3>
<p>ä¸€äº›è¿œå¤ç”Ÿç‰©æ­£åœ¨è‹é†’ã€‚å‡ åå¹´æ²¡è§è¿‡äº†ã€‚è€Œç°åœ¨å®ƒå·²ç»<a href="https://twitter.com/dabeaz/status/1199376319961849861" target="_blank" rel="noopener noreferrer">è¿”å›äº†</a>ã€‚</p>
<pre>a = [(0, 'Hello'), (1, 'world')]
for ['&gt;']['&gt;'&gt;'&gt;'], x in a:
    print(x)
</pre>
<p>è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿäººä»¬å¯ä»¥åœ¨å¾ªç¯ä¸­éšå¼è§£åŒ…å€¼ã€‚è§£åŒ…çš„ç›®æ ‡å‡ ä¹å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„Pythonè¡¨è¾¾å¼ã€‚</p>
<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸åº”è¯¥ä»è¿™ä¸ªä¾‹å­ä¸­åšå¾ˆå¤šäº‹æƒ…:</p>
<pre>  44:1     WPS414 Found incorrect unpacking target
  for ['&gt;']['&gt;'&gt;'&gt;'], x in a:
  ^

  44:5     WPS405 Found wrong `for` loop variable definition
  for ['&gt;']['&gt;'&gt;'&gt;'], x in a:
      ^

  44:11    WPS308 Found constant compare
  for ['&gt;']['&gt;'&gt;'&gt;'], x in a:
            ^

  44:14    E225  missing whitespace around operator
  for ['&gt;']['&gt;'&gt;'&gt;'], x in a:
               ^

  44:21    WPS111 Found too short name: x
  for ['&gt;']['&gt;'&gt;'&gt;'], x in a:
                      ^
</pre>
<p>çœ‹èµ·æ¥<code>['&gt;'\]['&gt;'&gt;'&gt;']</code>åªæ˜¯<code>['&gt;'\][0]</code>ï¼Œå› ä¸º<code>'&gt;' &gt; '&gt;'</code>æ˜¯<code>False</code>ã€‚</p>
<p>è¿™ä¸ªæ¡ˆå­è§£å†³äº†ã€‚</p>
<h3>é»‘å·«å¸ˆçš„ç­¾å</h3>
<p><a href="https://sobolevn.me/2019/10/complexity-waterfall" target="_blank" rel="noopener noreferrer">Pythonä¸­çš„è¡¨è¾¾å¼å¯ä»¥æœ‰å¤šå¤æ‚</a>ï¼Ÿé»‘å·«å¸ˆåœ¨ä»–æ¥è§¦çš„æ‰€æœ‰èŒä¸šä¸Šéƒ½ç•™ä¸‹äº†å¤æ‚çš„å°è®°:</p>
<pre>class _:
    # There are four of them, do you see it?
    _: [(),...,()] = {((),...,()): {(),...,()}}[((),...,())]

print(_._) # this operator also looks familiar ğŸ¤”
# =&gt; {(), Ellipsis}
</pre>
<p>è¿™ä¸ªç­¾åæ€ä¹ˆçœ‹ï¼Œæ€ä¹ˆè¯„ä»·ï¼Ÿçœ‹èµ·æ¥æ˜¯ç”±å‡ ä¸ªéƒ¨åˆ†ç»„æˆ:<br/>-å£°æ˜å’Œç±»å‹æ³¨é‡Š:<code>_: [(),...,()] = </code><br/>-ä»¥setä¸ºå€¼çš„å­—å…¸å®šä¹‰:<code>= { ((),...,()): {(),...,()} }</code><br/>-Key access:<code>[((),...,())]<br/> </code><br/>è™½ç„¶å®ƒå¯¹è¿™ä¸ªä¸–ç•Œçš„äººç±»æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œä½†å®ƒä»ç„¶æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„Pythonä»£ç ï¼Œå¯ä»¥ç”¨æ¥åšä¸€äº›é‚ªæ¶çš„äº‹æƒ…ã€‚è®©æˆ‘ä»¬åˆ é™¤å®ƒ:</p>
<pre>  55:5     WPS122 Found all unused variables definition: _
  _: [(),...,()] = {((),...,()): {(),...,()}}[((),...,())]
  ^

  55:5     WPS221 Found line with high Jones Complexity: 19
  _: [(),...,()] = {((),...,()): {(),...,()}}[((),...,())]
  ^

  55:36    WPS417 Found non-unique item in hash: ()
  _: [(),...,()] = {((),...,()): {(),...,()}}[((),...,())]
                                 ^

  57:7     WPS121 Found usage of a variable marked as unused: _
  print(_._)  # this operator also looks familiar 
        ^
</pre>
<p>ç°åœ¨è¿™ä¸ªå¤æ‚çš„è¡¨è¾¾å¼(ç¼æ–¯å¤æ‚åº¦ä¸º19)è¢«ç§»é™¤æˆ–é‡æ„ã€‚ä»»ä½•é»‘è‰²æ¥æºçš„ç­¾åä»è¿™ä¸ªå¯æ€œçš„èŒä¸šä¸­ç§»é™¤ã€‚è®©æˆ‘ä»¬å¹³é™åœ°ç¦»å¼€å®ƒã€‚</p>
<h3>è¶…é­”æ³•</h3>
<p>æˆ‘ä»¬çš„æ™®é€šç­å¼€å§‹å’Œä¸€äº›å¯ç–‘çš„äººæ··åœ¨ä¸€èµ·ã€‚æˆ‘ä»¬éœ€è¦ä¿æŠ¤ä»–ä»¬å…å—è¿™ç§ä¸è‰¯å½±å“ã€‚<br/>ç›®å‰ï¼Œä»–ä»¬çš„äº§é‡çœŸçš„å¾ˆå¥‡æ€ª:</p>
<pre>class Example(type((lambda: 0.)())):
 ...

print(Example(1) + Example(3))
# =&gt; 4.0
</pre>
<p>ä¸ºä»€ä¹ˆ<code>1 + 3</code>æ˜¯<code>4.0</code>è€Œä¸æ˜¯<code>4</code>ï¼Ÿä¸ºäº†æ‰¾åˆ°ç­”æ¡ˆï¼Œè®©æˆ‘ä»¬æ‰“å¼€<code>type((lambda: 0.)())</code>çš„åŒ…è£…:<br/>â€“<code>(lambda: 0.)()</code>å°±æ˜¯<code>0.</code>ï¼Œè€Œ<code>0.</code>å°±æ˜¯<code>0.0</code>ã€‚<br/>â€“<code>type(0.0)</code>æ˜¯<code>float</code><br/>â€“å½“æˆ‘ä»¬å†™<code>Example(1)</code>æ—¶ï¼Œå®ƒåœ¨ç±»å†…éƒ¨è¢«è½¬æ¢ä¸º<code>Example(1.0)</code>ã€‚<br/>â€“<code>Example(1.0) + Example(3.0)</code>æ˜¯<code>Example(4.0)</code></p>
<p>è®©æˆ‘ä»¬ç¡®ä¿æˆ‘ä»¬çš„æ­¦å™¨ä¸€å¦‚æ—¢å¾€çš„é”‹åˆ©:</p>
<pre>  63:15    WPS606 Found incorrect base class
  class Example(type((lambda: 0.)())):
                ^

  63:21    WPS522 Found implicit primitive in a form of lambda
  class Example(type((lambda: 0.)())):
                      ^

  63:29    WPS304 Found partial float: 0.
  class Example(type((lambda: 0.)())):
                              ^

  64:5     WPS428 Found statement that has no effect
  ...
  ^

  64:5     WPS604 Found incorrect node inside `class` body
  ...
  ^
</pre>
<p>æˆ‘ä»¬åœ¨è¿™é‡Œå‘ç°äº†æ‰€æœ‰å¯èƒ½çš„é—®é¢˜ã€‚æˆ‘ä»¬çš„ç­çº§æ˜¯å®‰å…¨çš„ã€‚æ˜¯æ—¶å€™å‘å‰çœ‹äº†ã€‚</p>
<h3>å†ç”Ÿå™¨</h3>
<p>å¦‚æ­¤ç›¸ä¼¼åˆå¦‚æ­¤ä¸åŒã€‚å†ç”Ÿå™¨<a href="https://stackoverflow.com/questions/32139885/yield-in-list-comprehensions-and-generator-expressions" target="_blank" rel="noopener noreferrer">åœ¨æˆ‘ä»¬çš„æºä»£ç ä¸­æ‰¾åˆ°</a>ã€‚å®ƒçœ‹èµ·æ¥åƒä¸€ä¸ªæ™®é€šçš„ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼Œä½†å®ƒæ˜¯å®Œå…¨ä¸åŒçš„ä¸œè¥¿ã€‚</p>
<pre>a = ['a', 'b']
print(set(x + '!' for x in a))
# =&gt; {'b!', 'a!'}

print(set((yield x + '!') for x in a))
# =&gt; {'b!', None, 'a!'}
</pre>
<p>è¿™æ˜¯Pythonä¸­çš„ä¸€ä¸ªbugæ˜¯çš„ï¼Œå®ƒä»¬ç¡®å®å­˜åœ¨ã€‚å¹¶ä¸”ç”±äº<code>python3.8</code>æ˜¯ä¸€ä¸ª<code>SyntaxError</code>ï¼Œä¸åº”è¯¥åœ¨å‘ç”Ÿå™¨åŠŸèƒ½ä¹‹å¤–ä½¿ç”¨<code>yield</code>å’Œ<code>yield from</code>ã€‚</p><div class="code-block code-block-54">
<hr/>
<h3>æ›´å¤šæ¥è‡ªLogRocketçš„ç²¾å½©æ–‡ç« :</h3>

<hr/></div>
<p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬å¯¹è¯¥äº‹ä»¶çš„å¸¸è§„æŠ¥é“:</p>
<pre>  73:7     C401  Unnecessary generator - rewrite as a set comprehension.
  print(set(x + '!' for x in a))
        ^

  76:7     C401  Unnecessary generator - rewrite as a set comprehension.
  print(set((yield x + '!') for x in a))
        ^

  76:11    WPS416 Found `yield` inside comprehension
  print(set((yield x + '!') for x in a))</pre>
<p>Â </p>
<p>æ­¤å¤–ï¼Œè®©æˆ‘ä»¬æŒ‰ç…§å»ºè®®æ­£ç¡®åœ°å†™ç†è§£ã€‚</p>
<pre>print({x + '!' for x in a})
</pre>
<p>è¿™æ˜¯ä¸€ä¸ªå¾ˆéš¾è§£å†³çš„é—®é¢˜ã€‚ä½†æœ€ç»ˆï¼Œå†ç”Ÿå™¨æ¶ˆå¤±äº†ï¼Œé”™è¯¯çš„ç†è§£ä¹Ÿæ¶ˆå¤±äº†ã€‚ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<h3>ç”µå­é‚®ä»¶é‚ªæ¶å…‹éš†</h3>
<p>å¦‚æœéœ€è¦å†™ç”µå­é‚®ä»¶åœ°å€ï¼Œå°±ç”¨å­—ç¬¦ä¸²ã€‚å¯¹å—ï¼Ÿä¸å¯¹ï¼</p>
<p>åšå¸¸è§„çš„äº‹æƒ…æœ‰ä¸å¯»å¸¸çš„æ–¹æ³•ã€‚è¿˜æœ‰å¸¸è§„æ•°æ®ç±»å‹çš„é‚ªæ¶å…‹éš†ã€‚æˆ‘ä»¬å°†ä¼šå‘ç°å®ƒä»¬ã€‚</p>
<pre>class G:
    def __init__(self, s):
        self.s = s
    def __getattr__(self, t):
        return G(self.s + '.' + str(t))
    def __rmatmul__(self, other):
        return other + '@' + self.s

username, example = 'username', G('example')
print(<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2f5a5c4a5d414e424a6f4a574e425f434a014c4042">[emailÂ protected]</a>)
# =&gt; <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="186d6b7d6a7679757d587d60797568747d367b7775">[emailÂ protected]</a>
</pre>
<p>å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ<br/>â€“<code>@</code>æ˜¯Pythonä¸­çš„ä¸€ä¸ªæ“ä½œç¬¦ï¼Œå®ƒçš„è¡Œä¸ºå¯ä»¥é€šè¿‡<code>__matmul__</code>å’Œ<code>__rmatmul__</code>é­”æ³•æ–¹æ³•ä¿®æ”¹<br/>â€“<code>.com</code>æ˜¯ä¸€ä¸ªå±æ€§<code>com</code>ç‚¹è®¿é—®ï¼Œå®ƒå¯ä»¥é€šè¿‡<code>__getattr__<br/> </code> <br/>ä¿®æ”¹ï¼Œè¿™æ®µä»£ç å’Œå…¶ä»–ä¾‹å­çš„ä¸€ä¸ªå¾ˆå¤§çš„åŒºåˆ«æ˜¯è¿™æ®µä»£ç å®é™…ä¸Šæ˜¯æœ‰æ•ˆçš„ã€‚åªæ˜¯ä¸å¯»å¸¸ã€‚æˆ‘ä»¬å¯èƒ½ä¸åº”è¯¥ä½¿ç”¨å®ƒã€‚ä½†æ˜¯ï¼Œè®©æˆ‘ä»¬æŠŠè¿™ä¸ªå†™è¿›æˆ‘ä»¬çš„çŸ¥è¯†æ¢ç´¢ä¹¦ã€‚</p>
<h3>æµ·è±¡çš„è°¬è¯¯</h3>
<p>é»‘æš—é™ä¸´åˆ°äº†Pythonèº«ä¸Šã€‚å®ƒåˆ†è£‚äº†å‹å¥½çš„å¼€å‘äººå‘˜ç¤¾åŒºï¼Œå¸¦æ¥äº†äº‰è®®ã€‚ä½ å·²ç»è·å¾—äº†å­—ç¬¦ä¸²ç¼–ç¨‹çš„èƒ½åŠ›:</p>
<pre>from math import radians
for angle in range(360):
    print(f'{angle=} {(th:=radians(angle))=:.3f}')
    print(th)

# =&gt; angle=0 (th:=radians(angle))=0.000
# =&gt; 0.0
# =&gt; angle=1 (th:=radians(angle))=0.017
# =&gt; 0.017453292519943295
# =&gt; angle=2 (th:=radians(angle))=0.035
# =&gt; 0.03490658503988659
</pre>
<p>è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ<br/>â€“<code>f'{angle=}</code>æ˜¯ä¸€ç§æ–°çš„(python3.8+)ç¼–å†™æ–¹å¼<code>f'angle={angle}</code><br/>â€“<code>(th:=radians(angle))</code>æ˜¯ä¸€ä¸ªèµ‹å€¼è¡¨è¾¾å¼ï¼Œæ˜¯çš„ï¼Œä½ ç°åœ¨å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­è¿›è¡Œèµ‹å€¼äº†<br/>â€“<code>=:.3f</code>æ˜¯æ ¼å¼åŒ–éƒ¨åˆ†ï¼Œå®ƒè¿”å›è¡¨è¾¾å¼åŠå…¶èˆå…¥ç»“æœå€¼<br/>â€“<code>print(th)</code>èµ·ä½œç”¨ï¼Œå› ä¸º<code>(th:=radians(angle))</code>å…·æœ‰å±€éƒ¨èŒƒå›´æ•ˆåº”</p>
<p>åº”è¯¥ä½¿ç”¨èµ‹å€¼è¡¨è¾¾å¼å—ï¼Ÿè¿™å–å†³äºä½ ã€‚åº”è¯¥åœ¨å­—ç¬¦ä¸²å†…éƒ¨èµ‹å€¼å—ï¼Ÿç»å¯¹ä¸è¡Œã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå‹å¥½çš„æç¤ºï¼Œæé†’ä½ å¯ä»¥(ä½†ä¹Ÿå¯èƒ½ä¸åº”è¯¥)ç”¨<code>f</code>å­—ç¬¦ä¸²æœ¬èº«åšäº›ä»€ä¹ˆ:</p>
<pre>print(f"{getattr(__import__('os'), 'eman'[None:None:-1])}")
# =&gt; posix
</pre>
<p>åªæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„å¸¸è§„æ¨¡å—å¯¼å…¥â€”â€”ç»§ç»­ï¼Œè¿™é‡Œæ²¡ä»€ä¹ˆå¯çœ‹çš„ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸å…è®¸åœ¨çœŸå®ä»£ç ä¸­å†™è¿™ä¸€è¡Œ:</p>
<pre>105:1    WPS221 Found line with high Jones Complexity: 16
  print(f"{getattr(__import__('os'), 'eman'[None:None:-1])}")
  ^

  105:7    WPS305 Found `f` string
  print(f"{getattr(__import__('os'), 'eman'[None:None:-1])}")
        ^

  105:18   WPS421 Found wrong function call: __import__
  print(f"{getattr(__import__('os'), 'eman'[None:None:-1])}")
                   ^

  105:36   WPS349 Found redundant subscript slice
  print(f"{getattr(__import__('os'), 'eman'[None:None:-1])}")
                                     ^
</pre>
<p>è¿˜æœ‰ä¸€ç‚¹:<code>f</code>stringä¸èƒ½ç”¨ä½œdocstrings:</p>
<pre>def main():
    f"""My name is {__file__}/{__name__}!"""

print(main().__doc__)
# =&gt; None
</pre>
<h3>ç»“è®º</h3>
<p>æˆ‘ä»¬ä¸è®¸å¤šæ»‹ç”Ÿåœ¨æˆ‘ä»¬ä»£ç ä¸­çš„ä¸‘é™‹æ€ªç‰©æˆ˜æ–—ï¼Œè®©Pythonçš„åœŸåœ°æˆä¸ºä¸€ä¸ªæ›´å¥½çš„å±…ä½åœ°ã€‚ä½ åº”è¯¥ä¸ºè‡ªå·±æ„Ÿåˆ°éª„å‚²ï¼Œè‹±é›„ï¼</p>
<p>é‚£æ˜¯ä¸€æ¬¡å²è¯—èˆ¬çš„æ—…ç¨‹ã€‚æˆ‘å¸Œæœ›ä½ å­¦åˆ°äº†æ–°çš„ä¸œè¥¿:åœ¨æ¥ä¸‹æ¥çš„æˆ˜æ–—ä¸­å˜å¾—æ›´å¼ºå¤§ã€‚ä¸–ç•Œéœ€è¦ä½ ï¼</p>
<p>ä»Šå¤©åˆ°æ­¤ä¸ºæ­¢ã€‚æ³¨æ„å®‰å…¨ï¼Œæ—…è¡Œè€…ã€‚</p>
<h3>æœ‰ç”¨çš„é“¾æ¥</h3>

<p>ä½¿ç”¨<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ¶ˆé™¤ä¼ ç»Ÿé”™è¯¯æŠ¥å‘Šçš„å¹²æ‰°</p><div class="code-block code-block-2">
<div class="blog-plug base-cta"><h2><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ˜¯ä¸€ä¸ªæ•°å­—ä½“éªŒåˆ†æè§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªå‡é˜³æ€§é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å‡ ä¸ªçœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocketä¼šå‘Šè¯‰æ‚¨åº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„bugå’ŒUXé—®é¢˜ã€‚</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p>ç„¶åï¼Œä½¿ç”¨å…·æœ‰æ·±å±‚æŠ€æœ¯é¥æµ‹çš„ä¼šè¯é‡æ”¾æ¥ç¡®åˆ‡åœ°æŸ¥çœ‹ç”¨æˆ·çœ‹åˆ°äº†ä»€ä¹ˆä»¥åŠæ˜¯ä»€ä¹ˆå¯¼è‡´äº†é—®é¢˜ï¼Œå°±åƒä½ åœ¨ä»–ä»¬èº«åçœ‹ä¸€æ ·ã€‚</p>
<p>LogRocketè‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€JSå¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶åLogRocketä½¿ç”¨æœºå™¨å­¦ä¹ æ¥å‘Šè¯‰ä½ å“ªäº›é—®é¢˜æ­£åœ¨å½±å“å¤§å¤šæ•°ç”¨æˆ·ï¼Œå¹¶æä¾›ä½ éœ€è¦ä¿®å¤å®ƒçš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>å…³æ³¨é‡è¦çš„bugâ€”<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">ä»Šå¤©å°±è¯•è¯•LogRocketã€‘ã€‚</a></p>
<p>Focus on the bugs that matter â€” <a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">try LogRocket today</a>.</p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>