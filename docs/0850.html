<html>
<head>
<title>Exploring structs and interfaces in Go - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>æ¢ç´¢Go - LogRocketåšå®¢ä¸­çš„ç»“æ„å’Œæ¥å£</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/exploring-structs-interfaces-go/#0001-01-01">https://blog.logrocket.com/exploring-structs-interfaces-go/#0001-01-01</a></blockquote><div><article class="article-post">
<p><strong> <em>ç¼–è€…æŒ‰:</em> </strong> <em>è¿™ç¯‡æ–‡ç« äº2022å¹´1æœˆ14æ—¥å®¡é˜…ï¼Œä»¥æ›´æ–°è¿‡æ—¶çš„ä¿¡æ¯ï¼Œå¹¶åœ¨Golangä¸­æ·»åŠ äº†â€œå°†</em> <em> an </em> <em>æ¥å£è½¬æ¢ä¸º</em><em>a</em><em>struct</em><em>è¿™ä¸€èŠ‚ã€‚</em><em/></p>
<p>Goæ˜¯ä¸€ç§ç±»å‹å®‰å…¨ã€é™æ€ç±»å‹ã€ç¼–è¯‘çš„ç¼–ç¨‹è¯­è¨€ã€‚ç±»å‹ç³»ç»Ÿçš„ç±»å‹ç”±ç±»å‹åå’Œç±»å‹å£°æ˜è¡¨ç¤ºï¼Œæ—¨åœ¨é˜²æ­¢å‡ºç°æœªç»æ£€æŸ¥çš„è¿è¡Œæ—¶ç±»å‹é”™è¯¯ã€‚</p>
<p>åœ¨Goä¸­ï¼Œæ ‡è¯†ç¬¦æœ‰å‡ ç§å†…ç½®ç±»å‹ï¼Œä¹Ÿç§°ä¸ºé¢„å£°æ˜ç±»å‹ã€‚å®ƒä»¬åŒ…æ‹¬å¸ƒå°”å‹ã€å­—ç¬¦ä¸²å‹ã€æ•°å­—å‹(<code>float32</code>ã€<code>float64</code>ã€<code>int</code>ã€<code>int8</code>ã€<code>int16</code>ã€<code>int32</code>ã€<code>complex</code>)ä»¥åŠå…¶ä»–è®¸å¤šç±»å‹ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰å¤åˆç±»å‹ï¼Œç”±é¢„å…ˆå£°æ˜çš„ç±»å‹ç»„æˆã€‚</p>
<p>å¤åˆç±»å‹ä¸»è¦æ˜¯ä½¿ç”¨ç±»å‹æ–‡æœ¬æ„é€ çš„ã€‚å®ƒä»¬åŒ…æ‹¬æ•°ç»„ã€åˆ‡ç‰‡ã€æ¥å£ã€ç»“æ„ã€å‡½æ•°ã€æ˜ å°„ç±»å‹ç­‰ç­‰ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å…³æ³¨Goä¸­çš„<code>struct</code>å’Œ<code>interface</code>ç±»å‹ã€‚</p>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ¶µç›–ä»¥ä¸‹å†…å®¹:</p>

<h2>æ•™ç¨‹å…ˆå†³æ¡ä»¶</h2>
<p>ä¸ºäº†è½»æ¾åœ°å­¦ä¹ æœ¬æ•™ç¨‹ï¼Œå¯¹å›´æ£‹æœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£æ˜¯å¾ˆé‡è¦çš„ã€‚å»ºè®®åœ¨ä½ çš„æœºå™¨ä¸Šå®‰è£…<a href="https://golang.org/doc/install">Go</a><a href="https://golang.org/doc/install">install</a><a href="https://golang.org/doc/install">ed</a>æ¥è¿è¡Œå’Œç¼–è¯‘ä»£ç ã€‚</p>
<p>ç„¶è€Œï¼Œä¸ºäº†ç®€å•èµ·è§ï¼Œä¹Ÿä¸ºäº†æœ¬æ–‡çš„ç›®çš„ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a href="https://play.golang.org/">Go Playground</a>ï¼Œä¸€ä¸ªè¿è¡ŒGoä»£ç çš„åœ¨çº¿IDEã€‚</p>
<h2 id="what-is-go-framework">ä»€ä¹ˆæ˜¯å›´æ£‹æ¡†æ¶ï¼Ÿ</h2>
<p>Goæ˜¯ä¸€ç§ç°ä»£ã€å¿«é€Ÿã€ç¼–è¯‘å‹è¯­è¨€(å³ä»æºä»£ç ç”Ÿæˆçš„æœºå™¨ä»£ç )ã€‚ç”±äºæ”¯æŒå¼€ç®±å³ç”¨çš„å¹¶å‘æ€§ï¼Œå®ƒä¹Ÿé€‚ç”¨äºä¸ä½çº§è®¡ç®—æœºç½‘ç»œå’Œç³»ç»Ÿç¼–ç¨‹ç›¸å…³çš„é¢†åŸŸã€‚</p>
<p>ä¸ºäº†æ¢ç©¶å®ƒçš„ä¸€äº›ç‰¹æ€§ï¼Œè®©æˆ‘ä»¬ç»§ç»­å­¦ä¹ å¦‚ä½•è®¾ç½®æˆ‘ä»¬çš„å¼€å‘ç¯å¢ƒã€‚ä¸ºæ­¤ï¼Œ<a href="https://golang.org/doc/install">æ ¹æ®æ‚¨çš„æ“ä½œç³»ç»Ÿå®‰è£…GoäºŒè¿›åˆ¶æ–‡ä»¶</a>ã€‚</p>
<p>Goå·¥ä½œåŒºæ–‡ä»¶å¤¹åŒ…å«<code>bin</code>ã€<code>pkg</code>å’Œ<code>src</code>ç›®å½•ã€‚åœ¨æ—©æœŸçš„Goç‰ˆæœ¬(1.13ä¹‹å‰çš„ç‰ˆæœ¬)ä¸­ï¼Œæºä»£ç è¢«å†™åœ¨<code>src</code>ç›®å½•ä¸­ï¼Œè¯¥ç›®å½•åŒ…å«Goæºæ–‡ä»¶ï¼Œå› ä¸ºå®ƒéœ€è¦ä¸€ç§æ–¹æ³•æ¥æŸ¥æ‰¾ã€å®‰è£…å’Œæ„å»ºæºæ–‡ä»¶ã€‚</p>
<p>è¿™è¦æ±‚æˆ‘ä»¬åœ¨å¼€å‘æœºå™¨ä¸Šè®¾ç½®<code>$GOPATH</code>ç¯å¢ƒå˜é‡ï¼ŒGoç”¨å®ƒæ¥æ ‡è¯†å·¥ä½œç©ºé—´æ ¹æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚</p>
<p>å› æ­¤ï¼Œè¦åœ¨æˆ‘ä»¬çš„å·¥ä½œåŒºå†…åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼Œæˆ‘ä»¬å¿…é¡»åƒè¿™æ ·æŒ‡å®šå®Œæ•´è·¯å¾„:</p>
<pre class="language-go hljs">$ mkdir -p $GOPATH/src/github.com/firebase007
</pre>
<p><code>$GOPATH</code>å¯ä»¥æ˜¯æˆ‘ä»¬æœºå™¨ä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œé€šå¸¸æ˜¯<code>$HOME/go</code>ï¼Œé™¤äº†æˆ‘ä»¬æœºå™¨ä¸ŠGoå®‰è£…çš„è·¯å¾„ã€‚åœ¨ä¸Šé¢æŒ‡å®šçš„è·¯å¾„ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰åŒ…ç›®å½•ï¼Œç„¶ååœ¨é‚£ä¸ªç›®å½•ä¸­æœ‰<code>.go</code>æ–‡ä»¶ã€‚</p>
<p><code>bin</code>ç›®å½•åŒ…å«å¯æ‰§è¡Œçš„GoäºŒè¿›åˆ¶æ–‡ä»¶ã€‚<a href="https://golang.org/cmd/go/"/><code><a href="https://golang.org/cmd/go/">go</a></code><a href="https://golang.org/cmd/go/">å·¥å…·é“¾</a>ï¼Œç”¨å®ƒçš„å‘½ä»¤é›†ï¼Œæ„å»ºå¹¶å®‰è£…äºŒè¿›åˆ¶æ–‡ä»¶åˆ°è¿™ä¸ªç›®å½•ã€‚è¯¥å·¥å…·æä¾›äº†ä¸€ç§è·å–ã€æ„å»ºå’Œå®‰è£…GoåŒ…çš„æ ‡å‡†æ–¹å¼ã€‚</p>
<p><code>pkg</code>ç›®å½•æ˜¯Goä¸ºåç»­ç¼–è¯‘å­˜å‚¨é¢„ç¼–è¯‘æ–‡ä»¶ç¼“å­˜çš„åœ°æ–¹ã€‚æ›´å¤šå…³äºå¦‚ä½•ç”¨<code><a href="https://golang.org/doc/gopath_code.html">$GOPATH</a></code> <a href="https://golang.org/doc/gopath_code.html">å†™Goä»£ç çš„è¯¦ç»†ä¿¡æ¯å¯ä»¥åœ¨è¿™é‡Œ</a>æ‰¾åˆ°ã€‚</p>
<p>ä½†æ˜¯ï¼Œè¯·æ³¨æ„ï¼Œåœ¨è¾ƒæ–°çš„Goç‰ˆæœ¬ä¸­ï¼Œç‰¹åˆ«æ˜¯ä»1.13å¼€å§‹ï¼ŒGoå¼•å…¥äº†å¸¦æœ‰<code>go.mode</code>æ–‡ä»¶çš„Goæ¨¡å—ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚å›é¡¾è¿™ä¸€ç‚¹ã€‚</p>
<h2 id="how-packages-work-go">åŒ…åœ¨Goä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2>
<p>ä¸ºäº†å°è£…ã€ä¾èµ–æ€§ç®¡ç†å’Œå¯é‡ç”¨æ€§ï¼Œç¨‹åºè¢«åˆ†ç»„ä¸ºåŒ…ã€‚åŒ…æ˜¯å­˜å‚¨åœ¨åŒä¸€ç›®å½•ä¸­å¹¶ä¸€èµ·ç¼–è¯‘çš„æºæ–‡ä»¶ã€‚</p>
<p>å®ƒä»¬å­˜å‚¨åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œå…¶ä¸­ä¸€ä¸ª<a href="https://blog.logrocket.com/getting-started-with-go-for-frontend-developers/#package-management">æ¨¡å—æ˜¯ä¸€ç»„æ‰§è¡Œç‰¹å®šæ“ä½œçš„ç›¸å…³GoåŒ…</a>ã€‚</p>
<p>è¯·æ³¨æ„ï¼ŒGoå­˜å‚¨åº“é€šå¸¸åªåŒ…å«ä¸€ä¸ªæ¨¡å—ï¼Œå®ƒä½äºå­˜å‚¨åº“çš„æ ¹ã€‚ä½†æ˜¯ï¼Œä¸€ä¸ªå­˜å‚¨åº“ä¹Ÿå¯ä»¥åŒ…å«å¤šä¸ªæ¨¡å—ã€‚</p>
<p>å¦‚ä»Šï¼Œéšç€1.13åŠä»¥ä¸Šç‰ˆæœ¬ä¸­Goæ¨¡å—çš„å¼•å…¥ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œå¹¶ç¼–è¯‘ä¸€ä¸ªç®€å•çš„Goæ¨¡å—æˆ–ç¨‹åºï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-go hljs"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="780a1d0c1116193819141d00">[emailÂ protected]</a> Desktop % mkdir examplePackage // create a directory on our machine outside $GOPATH/src
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="354750415c5b54755459504d">[emailÂ protected]</a> Desktop % cd examplePackage  // navigate into that directory
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4a382f3e23242b0a2b262f32">[emailÂ protected]</a> examplePackage % go mod init github.com/firebase007/test  // choose a module path and create a go.mod file that declares that path
go: creating new go.mod: module github.com/firebase007/test
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="addfc8d9c4c3ccedf9c8dfdfcc809d9c9c">[emailÂ protected]</a> examplePackage % ls
go.mod
</pre>
<p>å‡è®¾<code>test</code>æ˜¯æˆ‘ä»¬ä¸Šé¢æ¨¡å—çš„åç§°ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­åˆ›å»ºä¸€ä¸ªåŒ…ç›®å½•ï¼Œå¹¶åœ¨åŒä¸€ä¸ªç›®å½•ä¸­åˆ›å»ºæ–°æ–‡ä»¶ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­:</p>
<pre class="language-go hljs"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c3b1a6b7aaada283a2afa6bb">[emailÂ protected]</a> examplePackage % mkdir test
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b2c0d7c6dbdcd3f2d3ded7ca">[emailÂ protected]</a> examplePackage % ls
go.mod  test
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2a584f5e43444b6a4b464f52">[emailÂ protected]</a> examplePackage % cd test 
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="95e7f0e1fcfbf4d5f4f9f0ed">[emailÂ protected]</a> test % ls
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dba9beafb2b5ba9bbab7bea3">[emailÂ protected]</a> test % touch test.go
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0d7f687964636c4d6c616875">[emailÂ protected]</a> test % ls
test.go
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f38196879a9d92b3929f968b">[emailÂ protected]</a> test % go run test.go 
Hello, Go
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e0928594898e81a0818c8598">[emailÂ protected]</a> test %
</pre>
<p><code>test.go</code>æ–‡ä»¶ä¸­çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-go hljs">package main  // specifies the package name

import "fmt"

func main() {
  fmt.Println("Hello, Go")
}
</pre>
<p>æ³¨æ„,<code>go.mod</code>æ–‡ä»¶å£°æ˜äº†ä¸€ä¸ªæ¨¡å—çš„è·¯å¾„ï¼Œå®ƒè¿˜åŒ…æ‹¬æ¨¡å—ä¸­æ‰€æœ‰åŒ…çš„å¯¼å…¥è·¯å¾„å‰ç¼€ã€‚è¿™å¯¹åº”äºå®ƒåœ¨å·¥ä½œåŒºæˆ–è¿œç¨‹å­˜å‚¨åº“ä¸­çš„ä½ç½®ã€‚</p>
<h2 id="go-type-system">Goç±»å‹ç³»ç»Ÿ</h2>
<p>å°±åƒå…¶ä»–è¯­è¨€ä¸­çš„ç±»å‹ç³»ç»Ÿä¸€æ ·ï¼ŒGoçš„ç±»å‹ç³»ç»ŸæŒ‡å®šäº†ä¸€ç»„è§„åˆ™ï¼Œå°†ç±»å‹å±æ€§åˆ†é…ç»™å˜é‡ã€å‡½æ•°å£°æ˜å’Œæ ‡è¯†ç¬¦ã€‚Goä¸­çš„ç±»å‹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»:</p>
<h3 id="string-types-go">Goä¸­çš„å­—ç¬¦ä¸²ç±»å‹</h3>
<p>å­—ç¬¦ä¸²ç±»å‹è¡¨ç¤ºä¸€ç»„å­—ç¬¦ä¸²å€¼ï¼Œåœ¨Goä¸­æ˜¯ä¸€ç‰‡å­—èŠ‚ã€‚ä¸€æ—¦åˆ›å»ºï¼Œå®ƒä»¬å°±æ˜¯ä¸å¯å˜çš„æˆ–åªè¯»çš„ã€‚å­—ç¬¦ä¸²æ˜¯å®šä¹‰çš„ç±»å‹ï¼Œå› ä¸ºå®ƒä»¬é™„æœ‰æ–¹æ³•</p>
<h3 id="boolean-types-go">Goä¸­çš„å¸ƒå°”ç±»å‹</h3>
<p>å¸ƒå°”ç±»å‹ç”±é¢„å…ˆå£°æ˜çš„å¸¸æ•°<code>true</code>å’Œ<code>false</code>è¡¨ç¤ºã€‚</p>
<h3 id="numeric-types-go">Goä¸­çš„æ•°å­—ç±»å‹</h3>
<p>æ•°å€¼ç±»å‹è¡¨ç¤ºæ•´æ•°å€¼æˆ–æµ®ç‚¹å€¼çš„é›†åˆã€‚åŒ…æ‹¬<code>uint8</code>(æˆ–<code>byte</code>)<code>uint16</code><code>uint32</code><code>uint64</code><code>int8</code><code>int16</code><code>int32</code>(æˆ–<code>rune</code>)<code>int64</code><code>float32</code><code>float64</code><code>complex64</code><code>complex128</code>ã€‚</p>
<p>è¿™äº›ç±»å‹è¿›ä¸€æ­¥åˆ†ä¸ºæœ‰ç¬¦å·æ•´æ•°ã€æ— ç¬¦å·æ•´æ•°ã€å®æ•°å’Œå¤æ•°ã€‚å®ƒä»¬æœ‰ä¸åŒçš„å¤§å°ï¼Œå¤§å¤šæ•°æ˜¯ç‰¹å®šäºå¹³å°çš„ã€‚å…³äº<a href="https://golang.org/ref/spec#Numeric_types">æ•°å­—ç±»å‹çš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°</a>ã€‚</p>
<h3 id="array-type-go">Goä¸­çš„æ•°ç»„ç±»å‹</h3>
<p>æ•°ç»„ç±»å‹æ˜¯åŒä¸€ç±»å‹å…ƒç´ çš„ç¼–å·é›†åˆã€‚åŸºæœ¬ä¸Šï¼Œå®ƒä»¬æ˜¯åˆ‡ç‰‡çš„ç§¯æœ¨ã€‚</p>
<p>æ•°ç»„æ˜¯Goä¸­çš„å€¼ï¼Œè¿™æ„å‘³ç€å½“å®ƒä»¬è¢«èµ‹ç»™å˜é‡æˆ–ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œå®ƒä»¬çš„åŸå§‹å€¼è¢«å¤åˆ¶ï¼Œè€Œä¸æ˜¯å®ƒä»¬çš„å†…å­˜åœ°å€ã€‚</p>
<h3 id="slice-type-go">Goä¸­çš„åˆ‡ç‰‡ç±»å‹</h3>
<p>åˆ‡ç‰‡åªæ˜¯åŸºç¡€æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œæˆ–è€…åŸºæœ¬ä¸Šæ˜¯å¯¹åŸºç¡€æ•°ç»„çš„å¼•ç”¨ã€‚<code>[]T</code>æ˜¯åŒ…å«ç±»å‹ä¸º<code>T</code>çš„å…ƒç´ çš„åˆ‡ç‰‡ã€‚</p><div class="code-block code-block-54">
<hr/>
<h3>æ›´å¤šæ¥è‡ªLogRocketçš„ç²¾å½©æ–‡ç« :</h3>

<hr/></div>
<h3 id="pointer-type-go">Goä¸­çš„æŒ‡é’ˆç±»å‹</h3>
<p>æŒ‡é’ˆç±»å‹æ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œè¡¨ç¤ºæŒ‡å‘ç»™å®šç±»å‹å˜é‡çš„æ‰€æœ‰æŒ‡é’ˆçš„é›†åˆã€‚é€šå¸¸ï¼ŒæŒ‡é’ˆç±»å‹ä¿å­˜å¦ä¸€ä¸ªå˜é‡çš„å†…å­˜åœ°å€ã€‚æŒ‡é’ˆçš„é›¶å€¼æ˜¯<code>nil</code></p>
<p>å…³äºå…¶ä»–ç±»å‹çš„æ›´å¤šç»†èŠ‚ï¼Œæ¯”å¦‚åœ°å›¾ã€å‡½æ•°ã€é€šé“ç­‰ç­‰ï¼Œå¯ä»¥åœ¨è¯­è¨€è§„èŒƒçš„<a href="https://golang.org/ref/spec#Types">ç±»å‹éƒ¨åˆ†</a>ä¸­æ‰¾åˆ°ã€‚å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ–‡ä¸­é‡ç‚¹å…³æ³¨æ¥å£å’Œç»“æ„ç±»å‹ã€‚</p>
<h2>golangæ¥å£å’Œstruts</h2>
<h3 id="what-structs-go">goä¸­çš„strutsæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>Goçš„ç»“æ„ç±»å‹åŒ…å«ç›¸åŒæˆ–ä¸åŒç±»å‹çš„å­—æ®µã€‚ç»“æ„åŸºæœ¬ä¸Šæ˜¯å…·æœ‰é€»è¾‘æ„ä¹‰æˆ–æ„é€ çš„å‘½åå­—æ®µçš„é›†åˆï¼Œå…¶ä¸­æ¯ä¸ªå­—æ®µéƒ½æœ‰ç‰¹å®šçš„ç±»å‹ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠç»“æ„æ¯”ä½œç”±ä¸åŒå­—æ®µç»„æˆçš„å¯¹è±¡æˆ–ç»“æ„ã€‚</p>
<p>é€šå¸¸ï¼Œç»“æ„ç±»å‹æ˜¯ç”¨æˆ·å®šä¹‰ç±»å‹çš„ç»„åˆã€‚å®ƒä»¬æ˜¯ä¸“ç”¨ç±»å‹ï¼Œå› ä¸ºå®ƒä»¬å…è®¸æˆ‘ä»¬åœ¨å†…ç½®ç±»å‹ä¸è¶³çš„æƒ…å†µä¸‹å®šä¹‰è‡ªå®šä¹‰æ•°æ®ç±»å‹ã€‚</p>
<p>è®©æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­æ¥æ›´å¥½åœ°ç†è§£è¿™ä¸€ç‚¹ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ç¯‡åšæ–‡æ‰“ç®—å‘è¡¨ã€‚ä½¿ç”¨ç»“æ„ç±»å‹æ¥è¡¨ç¤ºæ•°æ®å­—æ®µå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-go hljs">type blogPost struct {
  author  string    // field
  title   string    // field  
  postId  int       // field
}
// Note that we can create instances of a struct types
</pre>
<p>åœ¨ä¸Šé¢çš„ç»“æ„å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸åŒçš„å­—æ®µå€¼ã€‚ç°åœ¨ï¼Œè¦ä½¿ç”¨æ–‡æœ¬å®ä¾‹åŒ–æˆ–åˆå§‹åŒ–è¯¥ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p>
<pre class="language-go hljs">package main

import "fmt"

type blogPost struct {
  author  string
  title   string
  postId  int  
}

func NewBlogPost() *blogPost {
        return &amp;blogPost{
                author: "Alexander",
                title:  "Learning structs and interfaces in Go",
                postId: 4555,
        }

}

func main() {
        var b blogPost // initialize the struct type

        fmt.Println(b) // print the zero value    

        newBlogPost := *NewBlogPost()
        fmt.Println(newBlogPost)

        // alternatively
        b = blogPost{ //
        author: "Alex",
        title: "Understand struct and interface types",
        postId: 12345,
        }

        fmt.Println(b)        

}

//output
{Alexander Learning structs and interfaces in Go 4555}
{  0}  // zero values of the struct type is shown
{Alex Understand struct and interface types 12345}
</pre>
<p>è¿™é‡Œæœ‰ä¸€ä¸ª<a href="https://go.dev/play/p/PKBsQKPpGV2">é“¾æ¥</a>åˆ°æ“åœºè¿è¡Œä¸Šé¢çš„ä»£ç ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥åœ¨åˆå§‹åŒ–ä¹‹åä½¿ç”¨ç‚¹è¿ç®—ç¬¦æ¥è®¿é—®structç±»å‹ä¸­çš„å•ä¸ªå­—æ®µã€‚è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥çœ‹çœ‹æˆ‘ä»¬æ˜¯å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹çš„:</p>
<pre class="language-go hljs">package main

import "fmt"

type blogPost struct {
  author  string
  title   string
  postId  int  
}

func main() {
        var b blogPost // b is a type Alias for the BlogPost
        b.author= "Alex"
        b.title="understand structs and interface types"
        b.postId=12345

        fmt.Println(b)  

        b.author = "Chinedu"  // since everything is pass by value by default in Go, we can update this field after initializing - see pointer types later

        fmt.Println("Updated Author's name is: ", b.author)           
}
</pre>
<p>åŒæ ·ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª<a href="https://go.dev/play/p/ph5-MseQ3Pv">é“¾æ¥æ¥è¿è¡Œä¸Šé¢æ“åœº</a>ä¸­çš„ä»£ç ç‰‡æ®µã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨çŸ­æ–‡å­—ç¬¦å·æ¥å®ä¾‹åŒ–ç»“æ„ç±»å‹ï¼Œè€Œä¸ä½¿ç”¨å­—æ®µåï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-go hljs">package main

import "fmt"

type blogPost struct {
  author  string
  title   string
  postId  int  
}

func main() {
        b := blogPost{"Alex", "understand struct and interface type", 12345}
        fmt.Println(b)        

}
</pre>
<p>è¯·æ³¨æ„ï¼Œä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¿…é¡»å§‹ç»ˆæŒ‰ç…§åœ¨structç±»å‹ä¸­å£°æ˜å­—æ®µå€¼çš„é¡ºåºæ¥ä¼ é€’å­—æ®µå€¼ã€‚æ­¤å¤–ï¼Œæ‰€æœ‰å­—æ®µéƒ½å¿…é¡»åˆå§‹åŒ–ã€‚</p>
<p>æœ€åï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªåªåœ¨å‡½æ•°ä¸­ä½¿ç”¨ä¸€æ¬¡çš„ç»“æ„ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥å†…è”å®šä¹‰å®ƒä»¬ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-go hljs">package main

import "fmt"

type blogPost struct {
  author  string
  title   string
  postId  int  
}

func main() {

        // inline struct init
        b := struct {
          author  string
          title   string
          postId  int  
         }{
          author: "Alex",
          title:"understand struct and interface type",
          postId: 12345,
        }

        fmt.Println(b)           
}
</pre>
<p>æ³¨æ„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å…³é”®å­—<code>new</code>åˆå§‹åŒ–ç»“æ„ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p>
<pre class="language-go hljs">b := new(blogPost)
</pre>
<p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç‚¹ã€<code>.</code>ã€æ“ä½œç¬¦æ¥è®¾ç½®å’Œè·å–å­—æ®µçš„å€¼ï¼Œå°±åƒæˆ‘ä»¬å‰é¢çœ‹åˆ°çš„é‚£æ ·ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­:</p>
<pre class="language-go hljs">package main

import "fmt"

type blogPost struct {
  author  string
  title   string
  postId  int  
}

func main() {
        b := new(blogPost)

        fmt.Println(b) // zero value

        b.author= "Alex"
        b.title= "understand interface and struct type in Go"
        b.postId= 12345

        fmt.Println(*b)   // dereference the pointer     

}

//output
&amp;{  0}
{Alex understand interface and struct type in Go 12345}
</pre>
<p>æ³¨æ„ï¼Œæ­£å¦‚æˆ‘ä»¬ä»è¾“å‡ºä¸­çœ‹åˆ°çš„ï¼Œé€šè¿‡ä½¿ç”¨<code>new</code>å…³é”®å­—ï¼Œæˆ‘ä»¬ä¸ºå˜é‡<code>b</code>åˆ†é…å­˜å‚¨ï¼Œç„¶åå˜é‡<code>b</code>åˆå§‹åŒ–æˆ‘ä»¬çš„ç»“æ„å­—æ®µçš„é›¶å€¼â€”â€”åœ¨æœ¬ä¾‹ä¸­æ˜¯<code>(author="", title="", postId=0)</code>ã€‚</p>
<p>ç„¶åè¿”å›ä¸€ä¸ªæŒ‡é’ˆç±»å‹<code>*b</code>ï¼ŒåŒ…å«ä¸Šè¿°å˜é‡åœ¨å†…å­˜ä¸­çš„åœ°å€ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ª<a href="https://play.golang.org/p/-6YRoVnb-RV">é“¾æ¥</a>åˆ°æ“åœºæ¥è¿è¡Œä»£ç ã€‚å…³äº<code><a href="https://golang.org/ref/spec#Allocation">new</a></code> <a href="https://golang.org/ref/spec#Allocation">å…³é”®å­—è¡Œä¸ºçš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨</a>è¿™é‡Œæ‰¾åˆ°ã€‚</p>
<h3 id="golang-pointer-struct">æŒ‡å‘ç»“æ„çš„GolangæŒ‡é’ˆ</h3>
<p>åœ¨æˆ‘ä»¬å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨Goçš„é»˜è®¤è¡Œä¸ºï¼Œå…¶ä¸­ä¸€åˆ‡éƒ½æ˜¯é€šè¿‡å€¼ä¼ é€’çš„ã€‚æœ‰äº†æŒ‡é’ˆï¼Œæƒ…å†µå°±ä¸ä¸€æ ·äº†ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­:</p>
<pre class="language-go hljs">package main

import "fmt"

type blogPost struct {
  author  string
  title   string
  postId  int  
}

func main() {
        b := &amp;blogPost{
                author:"Alex",
                title: "understand structs and interface types",
                postId: 12345,
                }

        fmt.Println(*b)   // dereference the pointer value 

       fmt.Println("Author's name", b.author) // in this case Go would handle the dereferencing on our behalf
}
</pre>
<p>è¿™é‡Œæœ‰ä¸€ä¸ª<a href="https://play.golang.org/p/WSPB_KUQeTM">é“¾æ¥åˆ°æ“åœºè¿è¡Œä»£ç </a>ã€‚</p>
<p>éšç€æˆ‘ä»¬ç»§ç»­å­¦ä¹ å…³äºæ–¹æ³•å’Œæ¥å£çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†ç†è§£è¿™ç§æ–¹æ³•çš„å¥½å¤„ã€‚</p>
<h3 id="golang-nested-embedded-struct-fields">GolangåµŒå¥—æˆ–åµŒå…¥çš„ç»“æ„å­—æ®µ</h3>
<p>å‰é¢æˆ‘ä»¬æåˆ°è¿‡ç»“æ„ç±»å‹æ˜¯å¤åˆç±»å‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‹¥æœ‰åµŒå¥—åœ¨å…¶ä»–ç»“æ„ä¸­çš„ç»“æ„ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª<code>blogPost</code>å’Œä¸€ä¸ª<code>Author</code>ç»“æ„ï¼Œå®šä¹‰å¦‚ä¸‹:</p>
<pre class="language-go hljs">type blogPost struct {
  title      string
  postId     int
  published  bool 
}

type Author struct {
  firstName, lastName, Biography string
  photoId    int
}
</pre>
<p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åƒè¿™æ ·å°†<code>Author</code>ç»“æ„åµŒå¥—åœ¨<code>blogPost</code>ç»“æ„ä¸­:</p>
<pre class="language-go hljs">package main

import "fmt"

type Author struct {
  firstName, lastName, Biography string
  photoId    int
}

type blogPost struct {
  author  Author // nested struct field
  title   string
  postId  int 
  published  bool  
}

func main() {
        b := new(blogPost)

        fmt.Println(b)

        b.author.firstName= "Alex"
        b.author.lastName= "Nnakwue"
        b.author.Biography = "I am a lazy engineer"
        b.author.photoId = 234333
        b.published=true
        b.title= "understand interface and struct type in Go"
        b.postId= 12345

        fmt.Println(*b)        

}

// output

&amp;{{   0}  0 false}  // again default values
{{Alex Nnakwue I am a lazy engineer 234333} understand interface and struct type in Go 12345 true}
</pre>
<p>ä¸‹é¢æ˜¯åœ¨æ“åœºè¿è¡Œä»£ç çš„<a href="https://play.golang.org/p/aWpZcpcJvGt">é“¾æ¥ã€‚</a></p>
<p>åœ¨Goä¸­ï¼Œæœ‰ä¸€ä¸ªåµŒå¥—ç»“æ„ç±»å‹çš„æå‡å­—æ®µçš„æ¦‚å¿µã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è®¿é—®å†…åµŒç»“æ„ä¸­å®šä¹‰çš„ç»“æ„ç±»å‹ï¼Œè€Œä¸éœ€è¦æ›´æ·±å…¥ï¼Œä¹Ÿå°±æ˜¯åš<code>b.author.firstName</code>ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å®ç°è¿™ä¸€ç‚¹:</p>
<pre class="language-go hljs">package main

import "fmt"

type Author struct {
  firstName, lastName, Biography string
  photoId    int
}

type BlogPost struct {
  Author  // directly passing the Author struct as a field - also called an anonymous field orembedded type 
  title   string
  postId  int 
  published  bool  
}

func main() {
        b := BlogPost{
        Author: Author{"Alex", "Nnakwue", "I am a lazy engineer", 234333},
        title:"understand interface and struct type in Go",
        published:true,
        postId: 12345,
        }

        fmt.Println(b.firstName) // remember the firstName field is present on the Author struct?
        fmt.Println(b)        

}

//output
Alex
{{Alex Nnakwue I am a lazy engineer 234333} understand interface and struct type in Go 12345 true}
</pre>
<p>è¿™é‡Œæœ‰ä¸€ä¸ª<a href="https://play.golang.org/p/Rc-dgED1QRd">é“¾æ¥åˆ°æ“åœºè¿è¡Œä»£ç </a>ã€‚</p>
<p>æ³¨æ„ï¼ŒGoä¸æ”¯æŒç»§æ‰¿ï¼Œè€Œæ˜¯æ”¯æŒåˆæˆã€‚åœ¨å‰é¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°äº†ä¸€ä¸ªä¾‹å­ï¼Œè¯´æ˜äº†æˆ‘ä»¬å¦‚ä½•åœ¨ç»„åˆçš„å¸®åŠ©ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„ç»“æ„ã€‚</p>
<p>åœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬è¿˜å°†å­¦ä¹ å¦‚ä½•å°†è¿™äº›æ¦‚å¿µåº”ç”¨äºæ¥å£ç±»å‹ï¼Œä»¥åŠå¦‚ä½•ç”¨æ–¹æ³•å°†è¡Œä¸ºæ·»åŠ åˆ°ç»“æ„ç±»å‹ä¸­ã€‚</p>
<h3 id="other-struct-types-considerations">å…¶ä»–ç»“æ„ç±»å‹è€ƒè™‘äº‹é¡¹</h3>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå­—æ®µåæ—¢å¯ä»¥ç”¨å˜é‡éšå¼æŒ‡å®šï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ²¡æœ‰å­—æ®µåçš„åµŒå…¥ç±»å‹æŒ‡å®šã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥å­—æ®µå¿…é¡»æŒ‡å®šä¸ºç±»å‹å<code>T</code>ï¼Œæˆ–è€…æŒ‡å®šä¸ºæŒ‡å‘éæ¥å£ç±»å‹å<code>*T</code>çš„æŒ‡é’ˆã€‚</p>
<p>å…¶ä»–è€ƒè™‘å› ç´ åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹:</p>
<ul>
<li>å­—æ®µååœ¨ç»“æ„ç±»å‹ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„</li>
<li>å¯ä»¥æå‡åµŒå…¥ç±»å‹çš„å­—æ®µæˆ–æ–¹æ³•</li>
<li>æå‡çš„å­—æ®µä¸èƒ½ç”¨ä½œç»“æ„ä¸­çš„å­—æ®µå</li>
<li>å­—æ®µå£°æ˜åé¢å¯ä»¥è·Ÿä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²æ–‡å­—æ ‡è®°</li>
<li>å¯¼å‡ºçš„ç»“æ„å­—æ®µå¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´</li>
<li>é™¤äº†åŸºæœ¬ç±»å‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†å‡½æ•°ç±»å‹å’Œæ¥å£ç±»å‹ä½œä¸ºç»“æ„å­—æ®µ</li>
</ul>
<p>å…³äºç»“æ„ç±»å‹çš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨è¯­è¨€è§„èŒƒçš„<a href="https://golang.org/ref/spec#Struct_types">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚</p>
<h3 id="what-method-sets-golang">Golangä¸­çš„æ–¹æ³•é›†æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>Goä¸­çš„æ–¹æ³•æ˜¯å¸¦æœ‰æ¥æ”¶å™¨çš„ç‰¹æ®Šç±»å‹çš„å‡½æ•°ã€‚</p>
<p>ä¸€ä¸ªç±»å‹ä¸º<code>T</code>çš„æ–¹æ³•é›†ï¼Œå®ƒåŒ…å«æ‰€æœ‰ç”¨æ¥æ”¶å™¨ç±»å‹<code>T</code>å£°æ˜çš„æ–¹æ³•ã€‚æ³¨æ„ï¼Œæ¥æ”¶è€…æ˜¯é€šè¿‡æ–¹æ³•åå‰é¢çš„ä¸€ä¸ªé¢å¤–å‚æ•°æŒ‡å®šçš„ã€‚å…³äºæ¥æ”¶å™¨ç±»å‹çš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨<a href="https://golang.org/ref/spec#Method_declarations">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚</p>
<p>åœ¨Goä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ç±»å‹ä¸Šå®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªå¸¦æœ‰è¡Œä¸ºçš„ç±»å‹ã€‚æœ¬è´¨ä¸Šï¼Œæ–¹æ³•é›†æ˜¯ä¸€ä¸ªç±»å‹å®ç°æ¥å£å¿…é¡»æ‹¥æœ‰çš„æ–¹æ³•åˆ—è¡¨ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­:</p>
<pre class="language-go hljs">// BlogPost struct with fields defined
type BlogPost struct {
  author  string
  title   string
  postId  int  
}

// Create a BlogPost type called (under) Technology
type Technology BlogPost
</pre>
<p>æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨çš„æ˜¯ç»“æ„ç±»å‹ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æœ¬æ–‡ä¸­å…³æ³¨çš„æ˜¯ç»“æ„ã€‚æ–¹æ³•ä¹Ÿå¯ä»¥åœ¨å…¶ä»–å‘½åç±»å‹ä¸Šå®šä¹‰:</p>
<pre class="language-go hljs">// write a method that publishes a blogPost - accepts the Technology type as a pointer receiver
func (t *Technology) Publish() {
    fmt.Printf("The title on %s has been published by %s, with postId %d\n" , t.title, t.author, t.postId)
}

// alternatively similar to the above, if we choose not to define a new type 
func (b *BlogPost) Publish() {
    fmt.Printf("The title on %s has been published by %s, with postId %d\n" , t.title, b.author, b.postId)
}

// Create an instance of the type
t := Technology{"Alex","understand structs and interface types",12345}

// Publish the BlogPost -- This method can only be called on the Technology type
t.Publish()

// output
The title on understand structs and interface types has been published by Alex, with postId 12345
</pre>
<p>è¿™é‡Œæœ‰ä¸€ä¸ª<a href="https://play.golang.org/p/D3mVOBux2PM">é“¾æ¥</a>åˆ°æ“åœºæ¥è¿è¡Œä»£ç ã€‚</p>
<p>å¸¦æœ‰æŒ‡é’ˆæ¥æ”¶å™¨çš„æ–¹æ³•æ—¢å¯ä»¥å¤„ç†æŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥å¤„ç†å€¼ã€‚ç„¶è€Œï¼Œåè¿‡æ¥å´ä¸æ˜¯è¿™æ ·ã€‚</p>
<h3 id="what-golang-interface">ä»€ä¹ˆæ˜¯Golangæ¥å£ï¼Ÿ</h3>
<p>åœ¨Goä¸­ï¼Œæ¥å£æœåŠ¡äºå°è£…çš„ä¸»è¦ç›®çš„ï¼Œå¹¶å…è®¸æˆ‘ä»¬ç¼–å†™æ›´å¹²å‡€å’Œæ›´å¥å£®çš„ä»£ç ã€‚é€šè¿‡è¿™æ ·åšï¼Œæˆ‘ä»¬åªæš´éœ²äº†ç¨‹åºä¸­çš„æ–¹æ³•å’Œè¡Œä¸ºã€‚</p>
<p>æ­£å¦‚æˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚ä¸­æåˆ°çš„ï¼Œæ–¹æ³•é›†å‘ä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹æ·»åŠ è¡Œä¸ºã€‚ä½†æ˜¯ï¼Œæ¥å£ç±»å‹å®šä¹‰äº†ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•é›†ã€‚</p>
<p>å› æ­¤ï¼Œä¸€ä¸ªç±»å‹é€šè¿‡å®ç°å®ƒçš„æ–¹æ³•æ¥å®ç°ä¸€ä¸ªæ¥å£ã€‚ä»è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œæ¥å£ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ„å»ºå…·æœ‰å…±åŒè¡Œä¸ºçš„è‡ªå®šä¹‰ç±»å‹ã€‚</p>
<p>æ–¹æ³•é›†åŸºæœ¬ä¸Šæ˜¯ä¸€ç§ç±»å‹å¿…é¡»æ‹¥æœ‰çš„æ–¹æ³•åˆ—è¡¨ï¼Œä»¥ä¾¿è¯¥ç±»å‹å®ç°è¯¥æ¥å£ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªæˆ–æ›´å¤šçš„ç»“æ„ç±»å‹ç”¨ç›¸åŒçš„è¿”å›ç±»å‹å®ç°ç›¸åŒçš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­ç”¨è¿™ä¸ªæ–¹æ³•é›†åˆ›å»ºä¸€ä¸ªæ¥å£ç±»å‹ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªç»“æ„ç±»å‹æ‰€å…±æœ‰çš„ã€‚</p>
<p>åœ¨Goä¸­ï¼Œæ¥å£æ˜¯éšå¼çš„ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœå±äºä¸€ä¸ªæ¥å£ç±»å‹çš„æ–¹æ³•é›†çš„æ¯ä¸ªæ–¹æ³•éƒ½æ˜¯ç”±ä¸€ä¸ªç±»å‹å®ç°çš„ï¼Œé‚£ä¹ˆè¯¥ç±»å‹å°±å®ç°äº†è¯¥æ¥å£ã€‚è¦å£°æ˜æ¥å£:</p>
<pre class="language-go hljs">type Publisher interface {
    publish()  error
}
</pre>
<p>åœ¨æˆ‘ä»¬ä¸Šé¢è®¾ç½®çš„<code>publish()</code>æ¥å£æ–¹æ³•ä¸­ï¼Œå¦‚æœä¸€ä¸ªç±»å‹(æ¯”å¦‚ä¸€ä¸ªstruct)å®ç°äº†è¯¥æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¯´è¯¥ç±»å‹å®ç°äº†è¯¥æ¥å£ã€‚ä¸‹é¢è®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ¥å—structç±»å‹<code>blogpost</code>çš„æ–¹æ³•:</p>
<pre class="language-go hljs">func (b blogPost) publish() error {
   fmt.Println("The title has been published by ", b.author)
   return nil
}
&lt;</pre>
<p>ç°åœ¨å®ç°æ¥å£:</p>
<pre class="language-go hljs">package main

import "fmt"

// interface definition
type Publisher interface {
     Publish()  error
}

type blogPost struct {
  author  string
  title   string
  postId  int  
}

// method with a value receiver
func (b blogPost) Publish() error {
   fmt. Printf("The title on %s has been published by %s, with postId %d\n" , b.title, b.author, b.postId)
   return nil
}

 func test(){

  b := blogPost{"Alex","understanding structs and interface types",12345}

  fmt.Println(b.Publish())

   d := &amp;b   // pointer receiver for the struct type

   b.author = "Chinedu"


   fmt.Println(d.Publish())

}


func main() {

        var p Publisher

        fmt.Println(p)

        p = blogPost{"Alex","understanding structs and interface types",12345}

        fmt.Println(p.Publish())

        test()  // call the test function 

}

//output
&lt;nil&gt;
The title on understanding structs and interface types has been published by Alex, with postId 12345
&lt;nil&gt;
The title on understanding structs and interface types has been published by Alex, with postId 12345
&lt;nil&gt;
The title on understanding structs and interface types has been published by Chinedu, with postId 12345
&lt;nil&gt;
</pre>
<p>è¿™é‡Œæœ‰ä¸€ä¸ª<a href="https://play.golang.org/p/L4SzJiaJ99w">é“¾æ¥åˆ°æ“åœºè¿è¡Œä»£ç </a>ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™æ¥å£ç±»å‹èµ·åˆ«åï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-go hljs">type publishPost Publisher  // alias to the interface defined above - mostly suited for third-party interfaces
</pre>
<p>ä½†æ˜¯ï¼Œè¯·æ³¨æ„ï¼Œå¦‚æœæœ‰å¤šä¸ªç±»å‹å®ç°åŒä¸€ä¸ªæ–¹æ³•ï¼Œæ–¹æ³•é›†å¯ä»¥æ„é€ ä¸€ä¸ªæ¥å£ç±»å‹ã€‚</p>
<p>è¿™å…è®¸æˆ‘ä»¬å°†è¯¥æ¥å£ç±»å‹ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ä¸€ä¸ªæ—¨åœ¨å®ç°è¯¥æ¥å£è¡Œä¸ºçš„å‡½æ•°ã€‚è¿™æ ·ï¼Œ<a href="https://blog.logrocket.com/past-present-future-go-generics/">æˆ‘ä»¬å°±å¯ä»¥å®ç°å¤šæ€æ€§</a>ã€‚</p>
<p>ä¸å‡½æ•°ä¸åŒï¼Œæ–¹æ³•åªèƒ½ä»å®šä¹‰å®ƒä»¬çš„ç±»å‹çš„å®ä¾‹ä¸­è°ƒç”¨ã€‚</p>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œä¸ç”¨æŒ‡å®šæˆ‘ä»¬å¸Œæœ›ä½œä¸ºå‡½æ•°çš„å‚æ•°æ¥å—çš„ç‰¹å®šæ•°æ®ç±»å‹ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤ŸæŒ‡å®šå¿…é¡»ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¯¥å‡½æ•°çš„å¯¹è±¡çš„è¡Œä¸ºå°±å¥½äº†ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨æ¥å£ç±»å‹ä½œä¸ºå‡½æ•°çš„å‚æ•°ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬å‘ç»“æ„ç±»å‹æ·»åŠ ä¸€ä¸ªæ–¹æ³•:</p>
<pre class="language-go hljs">package main

import "fmt"


type Publisher interface {
     Publish()  error
}

type blogPost struct {
  author  string
  title   string
  postId  int  
}


func (b blogPost) Publish() error {
   fmt.Printf("The title on %s has been published by %s\n" , b.title, b.author)
   return nil
}

// Receives any type that satisfies the Publisher interface
func PublishPost(publish Publisher) error {
    return publish.Publish()
}

func main() {

        var p Publisher

        fmt.Println(p)

        b := blogPost{"Alex","understand structs and interface types",12345}

        fmt.Println(b)

        PublishPost(b)

}

//output
&lt;nil&gt;
{Alex understand structs and interface types 12345}
The title on understand structs and interface types has been published by Alex
</pre>
<p>ä¸‹é¢æ˜¯åœ¨æ“åœºä¸Šè¿è¡Œä»£ç çš„<a href="https://play.golang.org/p/tTqgdV--7KX">é“¾æ¥</a>ã€‚</p>
<p>æ­£å¦‚æˆ‘ä»¬å‰é¢æåˆ°çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å€¼æˆ–æŒ‡é’ˆç±»å‹æ¥ä¼ é€’æ–¹æ³•æ¥æ”¶å™¨ã€‚å½“æˆ‘ä»¬é€šè¿‡å€¼ä¼ é€’æ—¶ï¼Œæˆ‘ä»¬å­˜å‚¨äº†æˆ‘ä»¬ä¼ é€’çš„å€¼çš„ä¸€ä¸ªå‰¯æœ¬ã€‚</p>
<p>è¿™æ„å‘³ç€å½“æˆ‘ä»¬è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬ä¸ä¼šæ›´æ”¹åŸºç¡€å€¼ã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬é€šè¿‡æŒ‡é’ˆè¯­ä¹‰ä¼ é€’æ—¶ï¼Œæˆ‘ä»¬ç›´æ¥å…±äº«åº•å±‚å†…å­˜åœ°å€ï¼Œå› æ­¤ï¼Œå…±äº«åœ¨åº•å±‚ç±»å‹ä¸­å£°æ˜çš„å˜é‡çš„ä½ç½®ã€‚</p>
<p>ä¸è¿‡ï¼Œæé†’ä¸€ä¸‹ï¼Œå½“ä¸€ä¸ªç±»å‹å®šä¹‰äº†æ¥å£ç±»å‹ä¸Šå¯ç”¨çš„æ–¹æ³•é›†æ—¶ï¼Œå®ƒå°±å®ç°äº†ä¸€ä¸ªæ¥å£ã€‚</p>
<p>åŒæ ·ï¼Œä¸è¦æ±‚ç±»å‹æŒ‡å®šå®ƒä»¬å®ç°ä¸€ä¸ªæ¥å£ï¼›ç›¸åï¼Œä»»ä½•ç±»å‹éƒ½å®ç°ä¸€ä¸ªæ¥å£ï¼Œåªè¦å®ƒæœ‰ç­¾åä¸æ¥å£å£°æ˜åŒ¹é…çš„æ–¹æ³•ã€‚</p>
<h3 id="embedding-interface-types-go">åœ¨Goä¸­åµŒå…¥æ¥å£ç±»å‹</h3>
<p>æœ€åï¼Œæˆ‘ä»¬å°†çœ‹çœ‹åœ¨Goä¸­åµŒå…¥æ¥å£ç±»å‹çš„ç­¾åã€‚è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªè™šæ‹Ÿçš„ä¾‹å­:</p>
<pre class="language-go hljs">//embedding interfaces
type interface1 interface {
    Method1()
}

type interface2 interface {
    Method2()
}

type embeddedinterface interface {
    interface1
    interface2
}

func (s structName)  method1 (){

}

func (s structName)  method2 (){

}


type structName struct {
  field1  type1
  field2  type2

}

// initialize struct type inside main func
var e embeddedinterface = structName // struct initialized
e.method1() // call method defined on struct type
</pre>
<p>æ ¹æ®ç»éªŒï¼Œå½“æˆ‘ä»¬å¼€å§‹åœ¨åŒ…ä¸­ç”¨ç›¸åŒçš„æ–¹æ³•ç­¾åå®ç°å¤šä¸ªç±»å‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹é‡æ„ä»£ç å¹¶ä½¿ç”¨æ¥å£ç±»å‹ã€‚è¿™æ ·åšå¯ä»¥é¿å…æ—©æœŸçš„æŠ½è±¡ã€‚</p>
<h3 id="other-interface-types-considerations">å…¶ä»–æ¥å£ç±»å‹æ³¨æ„äº‹é¡¹</h3>
<p>ç©ºæ¥å£åŒ…å«é›¶ä¸ªæ–¹æ³•ã€‚è¯·æ³¨æ„ï¼Œæ‰€æœ‰ç±»å‹éƒ½å®ç°ç©ºæ¥å£ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼Œå¦‚æœæ‚¨ç¼–å†™ä¸€ä¸ªå°†ç©ºçš„<code>interface{}</code>å€¼ä½œä¸ºå‚æ•°çš„å‡½æ•°ï¼Œæ‚¨å¯ä»¥ä¸ºè¯¥å‡½æ•°æä¾›ä»»ä½•å€¼/æ–¹æ³•ã€‚</p>
<p>æ¥å£é€šå¸¸ä¹Ÿå±äºä½¿ç”¨æ¥å£ç±»å‹å€¼çš„åŒ…ï¼Œè€Œä¸æ˜¯å®ç°è¿™äº›å€¼çš„åŒ…ã€‚</p>
<p>æœ€åä¸€ä¸ªæ¥å£çš„é›¶å€¼æ˜¯<code>nil</code>ã€‚å…³äºæ¥å£ç±»å‹çš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨è¯­è¨€è§„èŒƒä¸­æ‰¾åˆ°<a href="http://https:https://golang.org/ref/spec#Interface_types">ã€‚</a></p>
<h3 id="convert-interface-struct-golang">åœ¨Golangä¸­å°†æ¥å£è½¬æ¢ä¸ºç»“æ„</h3>
<p>æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ‰“ç®—ä»ä¸€ä¸ªç©ºæ¥å£æˆ–æ¥å£ç±»å‹æ´¾ç”Ÿä¸€ä¸ªå…·ä½“ç±»å‹ï¼Œæ¯”å¦‚ä¸€ä¸ªç»“æ„ã€‚åœ¨Goä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»å‹æ–­è¨€æ£€æŸ¥ç±»å‹çš„ç›¸ç­‰æ€§ã€‚</p>
<p>ä»Effective Goå¼€å§‹ï¼Œè¦å°†æ¥å£è½¬æ¢ä¸ºç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•ç¬¦å·:</p>
<pre class="language-go hljs">v = x.(T)
</pre>
<p>è¿™é‡Œï¼Œ<code>x</code>æ˜¯æ¥å£ç±»å‹ï¼Œ<code>T</code>æ˜¯å®é™…çš„å…·ä½“ç±»å‹ã€‚æœ¬è´¨ä¸Šï¼Œ<code>T</code>å¿…é¡»å®ç°<code>x</code>çš„æ¥å£ç±»å‹ã€‚</p>
<p>æ³¨æ„<code>x</code>é€šå¸¸æ˜¯åŠ¨æ€ç±»å‹ï¼Œå®ƒçš„å€¼åœ¨è¿è¡Œæ—¶æ˜¯å·²çŸ¥çš„ã€‚å› æ­¤ï¼Œå¦‚æœç±»å‹æ–­è¨€æ— æ•ˆï¼ŒGoå°±ä¼šæ­»æœºã€‚</p>
<p>ä¸ºäº†æ£€æŸ¥æ­£ç¡®æ€§å¹¶é¿å…ç±»å‹ä¸åŒ¹é…ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥åˆ©ç”¨ä¸‹é¢çš„è¯­æ³•ç¬¦å·:</p>
<pre class="language-go hljs">v, ok = x.(T)
</pre>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæ–­è¨€æˆç«‹ï¼Œ<code>ok</code>çš„å€¼å°±æ˜¯<code>true</code>ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä½¿ç”¨ç±»å‹æ–­è¨€æ¥å¤„ç†ä¸‹é¢çš„ç»“æ„å’Œæ¥å£çš„ç®€å•ä¾‹å­:</p>
<pre class="language-go hljs">package main

import "fmt"

type blogPost struct {
        Data interface{}
        postId int
}

func NewBlogPostStruct() interface{} {
        return &amp;blogPost{postId: 1234, Data: "Alexander"}
}

func main() {
        blogPost := NewBlogPostStruct().(*blogPost)
        fmt.Println(blogPost.Data)
}
//returns
Alexander
</pre>
<p>æ³¨æ„ï¼Œä»ä¸Šé¢çš„<code>blogPost</code>ç»“æ„ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿å°†<code>Data</code>å­—æ®µè®¾ç½®ä¸ºæˆ‘ä»¬æœŸæœ›çš„ç±»å‹ï¼›åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<h2 id="conclusion">ç»“è®º</h2>
<p>æ­£å¦‚æˆ‘ä»¬æ‰€äº†è§£çš„ï¼Œæ¥å£ç±»å‹å¯ä»¥å­˜å‚¨å€¼çš„å‰¯æœ¬ï¼Œæˆ–è€…é€šè¿‡å­˜å‚¨æŒ‡å‘å€¼çš„åœ°å€çš„æŒ‡é’ˆï¼Œå¯ä»¥ä¸æ¥å£å…±äº«å€¼ã€‚</p>
<p>å…³äºæ¥å£ç±»å‹éœ€è¦æ³¨æ„çš„ä¸€ä»¶é‡è¦äº‹æƒ…æ˜¯ï¼Œä¸è¦è¿‡æ—©åœ°å…³æ³¨ä¼˜åŒ–æ˜¯æ˜æ™ºçš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸æƒ³åœ¨ä½¿ç”¨æ¥å£ä¹‹å‰å®šä¹‰å®ƒä»¬ã€‚</p>
<p>ç¡®å®šæ¥å£éµå®ˆæˆ–ä½¿ç”¨çš„è§„åˆ™åŸºäºæ–¹æ³•æ¥æ”¶è€…å’Œå¦‚ä½•è¿›è¡Œæ¥å£è°ƒç”¨ã€‚åœ¨è¿™é‡Œçš„<a href="https://github.com/golang/go/wiki/CodeReviewComments#interfaces"> Goä»£ç è¯„å®¡å’Œè¯„è®ºéƒ¨åˆ†é˜…è¯»æ›´å¤šç›¸å…³å†…å®¹</a>ã€‚</p>
<p>å¯¹äºæ–¹æ³•æ¥æ”¶è€…æ¥è¯´ï¼Œå…³äºæŒ‡é’ˆå’Œå€¼çš„ä¸€ä¸ªéå¸¸ä»¤äººå›°æƒ‘çš„è§„åˆ™æ˜¯ï¼Œè™½ç„¶å€¼æ–¹æ³•å¯ä»¥åœ¨æŒ‡é’ˆå’Œå€¼ä¸Šè°ƒç”¨ï¼Œä½†æ˜¯æŒ‡é’ˆæ–¹æ³•åªèƒ½åœ¨æŒ‡é’ˆä¸Šè°ƒç”¨ã€‚</p>
<p>å¯¹äºæ¥æ”¶è€…ç±»å‹ï¼Œå¦‚æœä¸€ä¸ªæ–¹æ³•éœ€è¦æ”¹å˜æ¥æ”¶è€…ï¼Œé‚£ä¹ˆæ¥æ”¶è€…å¿…é¡»æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚</p>
<p>å…³äºæ¥å£ç±»å‹çš„é¢å¤–ç»†èŠ‚å¯ä»¥åœ¨æ— æ•ˆçš„Goä¸­æ‰¾åˆ°ã€‚å…·ä½“å¯ä»¥çœ‹ä¸€ä¸‹<a href="https://golang.org/doc/effective_go.html#interface_methods">æ¥å£å’Œæ–¹æ³•</a>ã€<a href="https://golang.org/doc/effective_go.html#blank_implements">æ¥å£æ£€æŸ¥</a>ã€<a href="https://golang.org/doc/effective_go.html#interface_conversions">æ¥å£è½¬æ¢å’Œç±»å‹æ–­è¨€</a>ã€‚</p>
<p>ç±»å‹æ–­è¨€æ›´åƒæ˜¯åº”ç”¨äºæ¥å£ç±»å‹åº•å±‚å€¼çš„æ“ä½œã€‚æœ¬è´¨ä¸Šï¼Œå®ƒæ˜¯ä¸€ä¸ªæå–æ¥å£ç±»å‹å€¼çš„è¿‡ç¨‹ã€‚å®ƒä»¬è¢«è¡¨ç¤ºä¸º<code>x.(T)</code>ï¼Œå…¶ä¸­å€¼<code>x</code>æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ã€‚</p>
<p>å†æ¬¡æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œè¯·åœ¨ä¸‹é¢çš„è¯„è®ºåŒºéšæ„æ·»åŠ é—®é¢˜æˆ–è¯„è®ºï¼Œæˆ–è€…è”ç³»<a href="https://twitter.com/alex_nnakwue"> Twitter </a>ã€‚å‹‡å¾€ç›´å‰ï¼Œä¸æ–­å­¦ä¹ ï¼ğŸ™‚</p><div class="code-block code-block-2">
<div class="blog-plug base-cta"><h2>ä½¿ç”¨<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ¶ˆé™¤ä¼ ç»Ÿé”™è¯¯æŠ¥å‘Šçš„å¹²æ‰°</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ˜¯ä¸€ä¸ªæ•°å­—ä½“éªŒåˆ†æè§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªå‡é˜³æ€§é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å‡ ä¸ªçœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocketä¼šå‘Šè¯‰æ‚¨åº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„bugå’ŒUXé—®é¢˜ã€‚</p>
<p>ç„¶åï¼Œä½¿ç”¨å…·æœ‰æ·±å±‚æŠ€æœ¯é¥æµ‹çš„ä¼šè¯é‡æ”¾æ¥ç¡®åˆ‡åœ°æŸ¥çœ‹ç”¨æˆ·çœ‹åˆ°äº†ä»€ä¹ˆä»¥åŠæ˜¯ä»€ä¹ˆå¯¼è‡´äº†é—®é¢˜ï¼Œå°±åƒä½ åœ¨ä»–ä»¬èº«åçœ‹ä¸€æ ·ã€‚</p>
<p>LogRocketè‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€JSå¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶åLogRocketä½¿ç”¨æœºå™¨å­¦ä¹ æ¥å‘Šè¯‰ä½ å“ªäº›é—®é¢˜æ­£åœ¨å½±å“å¤§å¤šæ•°ç”¨æˆ·ï¼Œå¹¶æä¾›ä½ éœ€è¦ä¿®å¤å®ƒçš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>å…³æ³¨é‡è¦çš„bugâ€”<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">ä»Šå¤©å°±è¯•è¯•LogRocketã€‘ã€‚</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>