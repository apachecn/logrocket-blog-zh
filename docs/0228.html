<html>
<head>
<title>The best webpack configurations for React applications - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Reactåº”ç”¨ç¨‹åºçš„æœ€ä½³webpacké…ç½®</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/versatile-webpack-configurations-react-application/#0001-01-01">https://blog.logrocket.com/versatile-webpack-configurations-react-application/#0001-01-01</a></blockquote><div><article class="article-post">
<p class="graf graf--p"><em> <strong>ç¼–è€…æŒ‰:</strong>è¿™ç¯‡æ–‡ç« äº2021å¹´8æœˆæ›´æ–°ï¼Œæä¾›äº†webpack 5å’Œæ–°ä»£ç å—çš„ç›¸å…³ä¿¡æ¯ï¼Œä»¥æœ€å¥½åœ°è¯´æ˜Reactçš„ç†æƒ³webpacké…ç½®ã€‚</em></p>
<p class="graf graf--p">å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ï¼Œé‚£ä¹ˆä½ ä¸€å®šåœ¨ä¸ºä½ çš„Reactåº”ç”¨é…ç½®webpackæ—¶é‡åˆ°äº†å›°éš¾ã€‚Create React App (CRA)å·²ç»å’Œ<a class="markup--anchor markup--p-anchor" href="https://webpack.js.org/concepts/" target="_blank" rel="noreferrer nofollow noopener" data-href="https://webpack.js.org/concepts/"> webpack </a>ä¸€èµ·å‘å¸ƒï¼Œä½†æ˜¯é€šå¸¸æƒ…å†µä¸‹ï¼Œéšç€åº”ç”¨çš„å¢é•¿ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ æ›´å¤šçš„é…ç½®ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª<code>webpack.config.js</code>æ–‡ä»¶å¹¶å°†æˆ‘ä»¬çš„webpacké…ç½®æ”¾åœ¨é‚£é‡Œã€‚</p>
<p class="graf graf--p">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¶µç›–:</p>
<ul class="postList">
<li class="graf graf--li">æˆ‘ä»¬åº”ç”¨çš„é€šç”¨é…ç½®</li>
<li class="graf graf--li">ä»…ç‰¹å®šäºç”Ÿäº§å’Œå¼€å‘çš„é…ç½®</li>
<li class="graf graf--li">è„šæœ¬å’Œæ ·å¼è¡¨çš„æ†ç»‘å’Œç¼©å°</li>
<li class="graf graf--li">ä»£ç åˆ†å‰²å’Œå»¶è¿ŸåŠ è½½ç­‰ä¼˜åŒ–</li>
</ul>
<h2 class="graf graf--h3">å®‰è£…webpackçš„å…ˆå†³æ¡ä»¶</h2>
<p class="graf graf--p">è¦è®¾ç½®æ­¤é…ç½®ï¼Œæˆ‘ä»¬éœ€è¦:</p>
<ul class="postList">
<li class="graf graf--li">Javascriptå’ŒES6åˆ°ES8è¯­æ³•çš„åŸºç¡€çŸ¥è¯†</li>
<li class="graf graf--li">Reactçš„åŸºç¡€çŸ¥è¯†</li>
</ul>
<blockquote class="graf graf--blockquote"><p>ğŸ’¡ç»ˆç«¯ä¸­è¿è¡Œçš„ä»£ç å°†å†™æˆ<code>$ npm install</code></p></blockquote>
<h2 class="graf graf--h3">ä»€ä¹ˆæ˜¯webpackï¼Ÿ</h2>
<p class="graf graf--p">Webpackæ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„JavaScriptåº”ç”¨ç¨‹åºæ†ç»‘å™¨ï¼Œæ‹¥æœ‰å¼ºå¤§çš„æ”¯æŒå’Œä¼˜ç§€çš„å›¢é˜Ÿæ¥ç»´æŠ¤å®ƒã€‚æ­¤å¤–ï¼Œå®ƒå¾ˆå®¹æ˜“è®¾ç½®ã€‚</p>
<p class="graf graf--p">å®ƒä¸ºæˆ‘ä»¬æä¾›äº†å‡ ä¸ªè½¯ä»¶åŒ…:</p>
<ul class="postList">
<li class="graf graf--li">webpack-cli :å‘½ä»¤è¡Œå·¥å…·ï¼Œè®©æˆ‘ä»¬å¯ä»¥è®¿é—®ä¸€äº›webpackå‘½ä»¤</li>
<li class="graf graf--li">webpack-dev-server :ä¸€ä¸ªå®¢æˆ·ç«¯æœåŠ¡å™¨ï¼Œèƒ½å¤Ÿå•ç‹¬ä¸ºå¼€å‘ç›®çš„è¿›è¡Œå®æ—¶é‡æ–°åŠ è½½</li>
<li class="graf graf--li">html-webpack-plugin :è¿™å°†ä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç”Ÿæˆå¹¶æ›´æ–°htmlæ¨¡æ¿</li>
<li class="graf graf--li"><strong class="markup--strong markup--li-strong"> HMRæ’ä»¶</strong>:æ”¯æŒåº”ç”¨ç¨‹åºçƒ­æ¨¡å—é‡è½½çš„æ’ä»¶</li>
</ul>
<p class="graf graf--p">è¿˜æœ‰æ›´å¤šã€‚Webpackæœ‰è®¸å¤šæ’ä»¶ç®€åŒ–äº†æˆ‘ä»¬çš„å¼€å‘è¿‡ç¨‹ã€‚éšç€æˆ‘ä»¬çš„å‘å±•ï¼Œæˆ‘ä»¬å°†ä¼šä½¿ç”¨æ›´å¤šçš„webpackæ’ä»¶ã€‚</p>
<h2 class="graf graf--h3">å·´åˆ«å¡”æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p class="graf graf--p">Reactçš„å½“å‰ç‰ˆæœ¬ä½¿ç”¨ES6åˆ°ES8è¯­æ³•ã€‚æˆ‘ä»¬éœ€è¦<a class="markup--anchor markup--p-anchor" href="https://babeljs.io/" target="_blank" rel="noreferrer nofollow noopener" data-href="https://babeljs.io/"> Babel </a>æŠŠç”¨é‚£äº›è¯­æ³•å†™çš„ä»£ç ç¼–è¯‘å›æ—§æµè§ˆå™¨èƒ½ç†è§£çš„ä»£ç ã€‚Babelçš„å­˜åœ¨æ˜¯ä¸ºäº†ç¡®ä¿å‘åå…¼å®¹ã€‚å¤ªæ£’äº†ï¼Œå¯¹å§ï¼Ÿæˆ‘ä»¬å¯ä»¥ç”¨æ›´æ–°çš„æ›´ç®€æ´çš„è¯­æ³•ç¼–å†™ä»£ç ï¼Œè®©Babelå»æ‹…å¿ƒå‰©ä¸‹çš„éƒ¨åˆ†ã€‚</p>
<p class="graf graf--p">é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»è®¾ç½®æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¹¶å®‰è£…ä¸€äº›å¼€å‘ä¾èµ–é¡¹ã€‚</p>
<h2 class="graf graf--h3">å»ºç«‹å·´åˆ«å¡”</h2>
<p class="graf graf--p">é¦–å…ˆï¼Œåœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<pre>$ create-react-app webpack-configs
$ cd webpack-configs</pre>
<p class="graf graf--p">å¦‚æœä½ æ²¡æœ‰å®‰è£…CRAï¼Œä¸ç”¨æ‹…å¿ƒï¼å®ƒç°åœ¨éšNode.jsä¸€èµ·æä¾›ï¼Œæ‰€ä»¥ç»§ç»­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥è®¾ç½®åº”ç”¨ç¨‹åº:</p>
<pre>$ npx create-react-app webpack-configs
$ cd webpack-configs</pre>
<p class="graf graf--p">ç°åœ¨ï¼Œå¯åŠ¨åº”ç”¨ç¨‹åº:</p>
<pre>$ npm run start</pre>
<p class="graf graf--p">ç°åœ¨åœ¨ä½ å–œæ¬¢çš„æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ‰“å¼€ä½ çš„appç›®å½•ï¼Œåˆ é™¤<code>src</code>ç›®å½•ä¸­çš„CSSå’ŒSVGæ–‡ä»¶ã€‚åŒæ ·ï¼Œæ‰“å¼€<code>src/App.js</code>å¹¶åˆ é™¤å…¶ä¸­çš„æ‰€æœ‰å†…å®¹â€”â€”æˆ‘ä»¬å¸Œæœ›å®ƒç°åœ¨æ˜¯ç©ºçš„ã€‚è¿›å…¥<code>src/index.js </code>ï¼Œåˆ é™¤å¯¼å…¥çš„CSSå’ŒSVGæ–‡ä»¶ã€‚</p>
<pre>// src/App.js
// Empty file
// src/index.js
 
 import React from 'react';
 import ReactDOM from 'react-dom';
 import App from './App';
import reportWebVitals from './reportWebVitals';

ReactDOM.render(
  &lt;React.StrictMode&gt;
    &lt;App /&gt;
  &lt;/React.StrictMode&gt;,
  document.getElementById('root')
);

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();
</pre>
<blockquote class="graf graf--blockquote"><p><strong class="markup--strong markup--blockquote-strong"> devDependencies </strong>æ˜¯ä»…ç”¨äºå¼€å‘çš„ä¾èµ–é¡¹ï¼å› æ­¤ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥è¦å®‰è£…çš„æ‰€æœ‰ä¸œè¥¿éƒ½å°†ä½œä¸º<strong class="markup--strong markup--blockquote-strong"> devDependency </strong>ã€‚</p></blockquote>
<h2 class="graf graf--h3">å®‰è£…webpackå’ŒBabel</h2>
<p class="graf graf--p">è¦è®¾ç½®webpackå’ŒBabelï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å®‰è£…å®ƒä»¬å’Œä¸€äº›åˆå§‹è®¾ç½®æ‰€éœ€çš„æ’ä»¶ã€‚åœ¨æ‚¨çš„ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<pre>$ npm i -D webpack webpack-cli webpack-dev-server html-webpack-plugin @babel/core @babel/preset-env babel-loader @babel/preset-react babel-plugin-transform-class-properties babel-plugin-transform-es2015-modules-commonjs</pre>
<p class="graf graf--p">å®Œæˆåï¼Œæ‰“å¼€æ‚¨çš„<code>package.json</code>æ–‡ä»¶ï¼Œå°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨çš„è„šæœ¬ä¸­:</p>
<pre>// package.json
...
  "scripts": {
    ...
    "webpack": "webpack",
    "webpack-dev-server": "webpack-dev-server",
    "dev": "npm run webpack-dev-server -- --env mode=development",
    "prod": "npm run webpack -- --env mode=production"

}</pre>
<p class="graf graf--p">ç°åœ¨ä¿å­˜å®ƒï¼Œå›åˆ°æ‚¨çš„ç»ˆç«¯ï¼Œæˆ‘ä»¬å°†å°è¯•æµ‹è¯•æ–°æ·»åŠ çš„ä»£ç ã€‚</p>
<p class="graf graf--p">è¿è¡Œ:</p>
<pre>$ npm run dev</pre>
<p>æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå´©æºƒäº†ï¼Œä½†è¿™ä¸æ˜¯ä¸€ä¸ªåçš„é”™è¯¯æ¶ˆæ¯ã€‚å®ƒåªæ˜¯å‘Šè¯‰æˆ‘ä»¬åšé”™äº†ä»€ä¹ˆã€‚</p>
<p>æˆ‘ä»¬æ·»åŠ åˆ°<code>package.json</code>ä¸­çš„è„šæœ¬è¯•å›¾è¿è¡Œwebpacké…ç½®ã€‚ä½†æ˜¯æ²¡æœ‰è®¾ç½®ç¯å¢ƒæ¨¡å¼ï¼Œæ‰€ä»¥åäº†ã€‚</p>
<figure class="graf graf--figure"><img data-attachment-id="64064" data-permalink="https://blog.logrocket.com/versatile-webpack-configurations-react-application/versatile-webpack-configurations-babel-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png" data-orig-size="1954,1474" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="versatile-webpack-configurations-babel-react" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-300x226.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-1024x772.png" decoding="async" class="aligncenter wp-image-64064 jetpack-lazy-image" src="../Images/bf708cf6b6e927ef9d87f3cfc84cd904.png" alt="webpack babel configuration broken" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png 1954w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-300x226.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-1024x772.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-768x579.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-1536x1159.png 1536w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="64064" data-permalink="https://blog.logrocket.com/versatile-webpack-configurations-react-application/versatile-webpack-configurations-babel-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png" data-orig-size="1954,1474" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="versatile-webpack-configurations-babel-react" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-300x226.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-1024x772.png" decoding="async" loading="lazy" class="aligncenter wp-image-64064" src="../Images/bf708cf6b6e927ef9d87f3cfc84cd904.png" alt="webpack babel configuration broken" srcset="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png 1954w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-300x226.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-1024x772.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-768x579.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-1536x1159.png 1536w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png"/></noscript></figure>
<p class="graf graf--p">ç°åœ¨è®©æˆ‘ä»¬ä¸º<code>webpack.config.js</code>æ–‡ä»¶å’Œæˆ‘ä»¬çš„<code>.babelrc</code>æ–‡ä»¶ç¼–å†™é…ç½®ã€‚</p>
<h2 class="graf graf--p"><strong class="markup--strong markup--p-strong">é…ç½®é€šå¤©å¡”</strong></h2>
<p class="graf graf--p">åœ¨æ ¹æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª<code>.babelrc</code>æ–‡ä»¶æ¥ä¿å­˜æ‰€æœ‰çš„é…ç½®ã€‚åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<pre>$ touch .babelrc</pre>
<p>æ‰“å¼€æ–‡ä»¶å¹¶æ·»åŠ å¦‚ä¸‹æ‰€ç¤ºçš„ä»£ç :</p>
<pre>// .babelrc

{
    "presets": [
        "@babel/preset-react",
        [
            "@babel/preset-env",
            {
                "targets": {
                    "browsers": "last 2 versions"
                },
                "modules": false,
                "loose": false
            }
        ]
    ],
    "plugins": [
        "transform-class-properties"
    ],
    "env": {
        "test": {
            "plugins": [
                "transform-es2015-modules-commonjs"
            ]
        }
    }
}</pre>
<p class="graf graf--p">å¦‚æœä½ è®°å¾—ï¼Œæˆ‘ä»¬å®‰è£…äº†ä¸¤ä¸ªå·´åˆ«å¡”é¢„ç½®ã€‚è¿™äº›é¢„è®¾æ˜¯æˆ‘ä»¬åœ¨æ–‡ä»¶ä¸­æ·»åŠ çš„ï¼Œæ‰€ä»¥å·´è´å°”å¯ä»¥é˜…è¯»å®ƒä»¬ã€‚</p>
<p class="graf graf--p"><strong class="markup--strong markup--p-strong">é¢„è®¾åŠŸèƒ½:</strong></p>
<ul class="postList">
<li class="graf graf--li graf--startsWithDoubleQuote">å‘Šè¯‰webpackå°†æ‰€æœ‰è¯­æ³•ç¼–è¯‘æˆES5(æµè§ˆå™¨èƒ½å¤Ÿç†è§£)</li>
<li class="graf graf--li graf--startsWithDoubleQuote"><code>â€œbabel-preset-reactâ€</code>å¢åŠ äº†å¯¹jsxè¯­æ³•çš„æ”¯æŒ</li>
<li class="graf graf--li graf--startsWithDoubleQuote"><code>â€œtransform-es2015-modules-commonjsâ€</code>å’Œ<code> â€œtransform-class-propertiesâ€ </code>æ˜¯ä¸ºäº†å‘åå…¼å®¹</li>
</ul>
<p class="graf graf--p">æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªæ–‡ä»¶æ¥ä¿å­˜æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„é€šç”¨webpacké…ç½®ã€‚åœ¨æ‚¨çš„ç»ˆç«¯ä¸­ï¼Œè¿è¡Œ:</p>
<pre>$ touch webpack.config.js</pre>
<p class="graf graf--p">å°†æ­¤é…ç½®æ·»åŠ åˆ°æ–‡ä»¶ä¸­:</p>
<pre>// webpack.config.js

const path = require("path");
const HtmlWebpackPlugin = require("html-webpack-plugin");

module.exports = ({ mode } = { mode: "production" }) =&gt; {
    console.log(`mode is: ${mode}`);

    return {
            mode,
            entry: "./src/index.js",
            output: {
                publicPath: "/",
                path: path.resolve(__dirname, "build"),
                filename: "bundled.js"
            },
            plugins: [
                new HtmlWebpackPlugin({
                    template: "./public/index.html"
                }),
            ]
        }
};</pre>
<p class="graf graf--p">è®©æˆ‘ä»¬æ¥åˆ†è§£ä¸Šé¢çš„<code>webpack.config.js</code>æ–‡ä»¶ä¸­çš„ä»£ç ã€‚Webpackæ¥å—ä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ä¸ªåœ¨å…¶é…ç½®ä¸­è¿”å›å¯¹è±¡çš„å‡½æ•°ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å‡½æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†ç¯å¢ƒå˜é‡ä¼ é€’åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚è¿™å°†å‘Šè¯‰webpackè¿è¡Œå“ªä¸ªç¯å¢ƒçš„é…ç½®ã€‚</p>
<p class="graf graf--p">è¯¥å‡½æ•°çš„ä¸€ä¸ªç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤º:</p>
<pre>module.exports = ({ mode } = { mode: "production" }) =&gt; {}</pre>
<p>å¦‚æœæˆ‘ä»¬ä¸èƒ½é€šè¿‡ä¸€ä¸ª<code>env</code>æ¥è®©webpackçŸ¥é“ä½¿ç”¨å“ªä¸ª<code>mode</code>æ¥å·¥ä½œï¼Œå®ƒé»˜è®¤ä½¿ç”¨<code>production</code>ã€‚</p>
<p class="graf graf--p">æ‰€ä»¥è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå±æ€§å¯¹è±¡ã€‚è¿”å›çš„å±æ€§åŒ…æ‹¬:</p>
<ul class="postList">
<li class="graf graf--li"><strong class="markup--strong markup--li-strong">æ¨¡å¼</strong>:å‘Šè¯‰webpackæˆ‘ä»¬å½“å‰å¤„äºä»€ä¹ˆæ¨¡å¼</li>
<li class="graf graf--li"><strong class="markup--strong markup--li-strong"> entry </strong>:æˆ‘ä»¬è¿˜è®¾ç½®äº†ä¸€ä¸ªentryæ–‡ä»¶ï¼Œå®ƒå°†æˆä¸º<code>index.js</code>ï¼Œå› ä¸ºå®ƒæ˜¯Reactåº”ç”¨ç¨‹åºçš„é¡¶å±‚æ–‡ä»¶ã€‚å®ƒå°†åº”ç”¨ç¨‹åºå‘ˆç°åˆ°DOMä¸­ï¼Œæ‰€ä»¥æ‚¨å¸Œæœ›ä»è¿™é‡Œå¼€å§‹ï¼Œè¿™æ ·webpackå°±å¯ä»¥å‘ä¸‹éå†æ‰€æœ‰å…¶ä»–ç»„ä»¶</li>
<li class="graf graf--li"><strong class="markup--strong markup--li-strong"> output </strong>:å‘Šè¯‰webpackå¦‚ä½•ç§°å‘¼æ–‡ä»¶å¤¹å’Œæ†ç»‘çš„JavaScriptã€‚è¿™æ˜¯åœ¨ä¸æ·»åŠ æ­¤é…ç½®çš„æƒ…å†µä¸‹åœ¨å¹•åå‘ç”Ÿçš„ã€‚ä½†æ˜¯ï¼Œé€šè¿‡é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥è¦†ç›–å®ƒ</li>
<li class="graf graf--li"><strong class="markup--strong markup--li-strong">æ’ä»¶</strong>:ä¸webpacké…åˆä½¿ç”¨ï¼Œå®ç°åŠ è½½å™¨æ— æ³•å®ç°çš„åŠŸèƒ½ã€‚æœ‰äº›æ’ä»¶æ˜¯å¤–éƒ¨çš„ï¼Œæœ‰äº›åœ¨webpackå†…éƒ¨ï¼Œæ¯”å¦‚HMRæ’ä»¶</li>
</ul>
<h2 class="graf graf--h3">é…ç½®webpackä»¥åŠ è½½jsxå’Œé™æ€æ–‡ä»¶</h2>
<p class="graf graf--p">åœ¨æˆ‘ä»¬çš„åˆå§‹æ„å»ºä¹‹åï¼ŒwebpackæŠ›å‡ºäº†ä¸€äº›é”™è¯¯ã€‚è®©æˆ‘ä»¬æ·»åŠ é…ç½®æ¥å‘Šè¯‰webpackå¦‚ä½•å¤„ç†è¿™äº›é”™è¯¯ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¿…é¡»å®‰è£…å‡ ä¸ª<code>devDependencies</code>ã€‚</p>
<p class="graf graf--p">è¦å®‰è£…åŠ è½½ç¨‹åºï¼Œè¯·è¿è¡Œ:</p>
<pre>$ npm i -D babel-loader file-loader url-loader</pre>
<p class="graf graf--p">è®©æˆ‘ä»¬ç”¨å·²ç»å®‰è£…çš„åŠ è½½å™¨ä¸ºwebpackç¼–å†™ä¸€ä¸ªé…ç½®ã€‚ç”¨ä¸‹é¢çš„ä»£ç æ›´æ–°æ‚¨çš„<code>webpack.config.js</code>æ–‡ä»¶:</p>
<pre>// webpack.config.js

const path = require("path");
const HtmlWebpackPlugin = require("html-webpack-plugin");

module.exports = ({ mode } = { mode: "production" }) =&gt; {
    console.log(`mode is: ${mode}`);

    return {
            mode,
            entry: "./src/index.js",
            output: {
                publicPath: "/",
                path: path.resolve(__dirname, "build"),
                filename: "bundle.js"
            },
            module: {
                rules: [
                 {
                    test: /\.jpe?g|png$/,
                    exclude: /node_modules/,
                    use: ["url-loader", "file-loader"]
                },
                    {
                        test: /\.(js|jsx)$/,
                        exclude: /node_modules/,
                        loader: "babel-loader"
                    }
                ]
            },
            plugins: [
                new HtmlWebpackPlugin({
                    template: "./public/index.html"
                }),
            ]
        }
};</pre>
<p>ç°åœ¨ï¼Œä¿å­˜å®ƒå¹¶åœ¨ç»ˆç«¯ä¸­è¿è¡Œ:</p>
<pre>$ npm run prod</pre>
<p>å®ƒåœ¨æˆ‘ä»¬çš„æ ¹æ–‡ä»¶å¤¹ä¸­æ„å»ºå¹¶åˆ›å»ºä¸€ä¸ª<code>build</code>æ–‡ä»¶å¤¹ã€‚æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œä½ ä¼šçœ‹åˆ°<code>bundle.js</code>å’Œ<code>index.html</code>æ–‡ä»¶ã€‚</p>
<p class="graf graf--p">ç°åœ¨ï¼Œè®©æˆ‘ä»¬è¿è¡Œåº”ç”¨ç¨‹åº:</p>
<pre>$ npm run dev</pre>
<p class="graf graf--p">å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºè¿è¡Œã€‚ç°åœ¨ï¼Œè¿›å…¥<code>.babelrc</code>å¹¶æ³¨é‡Šæ‰æ–‡ä»¶ä¸­çš„æ‰€æœ‰ä»£ç ã€‚ç„¶åè¿è¡Œ:</p>
<pre>$ npm run dev</pre>
<p class="graf graf--p">ç°åœ¨ï¼Œæˆ‘ä»¬å¾—åˆ°ç¼–è¯‘é”™è¯¯:</p>
<figure class="graf graf--figure"><img data-attachment-id="64064" data-permalink="https://blog.logrocket.com/versatile-webpack-configurations-react-application/versatile-webpack-configurations-babel-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png" data-orig-size="1954,1474" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="versatile-webpack-configurations-babel-react" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-300x226.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-1024x772.png" decoding="async" class="aligncenter wp-image-64064 jetpack-lazy-image" src="../Images/bf708cf6b6e927ef9d87f3cfc84cd904.png" alt="webpack babel configuration broken" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png 1954w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-300x226.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-1024x772.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-768x579.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-1536x1159.png 1536w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="64064" data-permalink="https://blog.logrocket.com/versatile-webpack-configurations-react-application/versatile-webpack-configurations-babel-react/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png" data-orig-size="1954,1474" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="versatile-webpack-configurations-babel-react" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-300x226.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-1024x772.png" decoding="async" loading="lazy" class="aligncenter wp-image-64064" src="../Images/bf708cf6b6e927ef9d87f3cfc84cd904.png" alt="webpack babel configuration broken" srcset="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png 1954w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-300x226.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-1024x772.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-768x579.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react-1536x1159.png 1536w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-configurations-babel-react.png"/></noscript> <img data-attachment-id="64085" data-permalink="https://blog.logrocket.com/versatile-webpack-configurations-react-application/versatile-webpack-config-react-babel-compilation-errors/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-config-react-babel-compilation-errors-e1629739037135.png" data-orig-size="730,300" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="versatile-webpack-config-react-babel-compilation-errors" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-config-react-babel-compilation-errors-300x123.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-config-react-babel-compilation-errors-1024x421.png" decoding="async" class="aligncenter size-full wp-image-64085 jetpack-lazy-image" src="../Images/540250111a011caeacb6d5a05304044b.png" alt="webpack babel compilation errors" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-config-react-babel-compilation-errors-e1629739037135.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-config-react-babel-compilation-errors-e1629739037135.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="64085" data-permalink="https://blog.logrocket.com/versatile-webpack-configurations-react-application/versatile-webpack-config-react-babel-compilation-errors/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-config-react-babel-compilation-errors-e1629739037135.png" data-orig-size="730,300" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="versatile-webpack-config-react-babel-compilation-errors" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-config-react-babel-compilation-errors-300x123.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-config-react-babel-compilation-errors-1024x421.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-64085" src="../Images/540250111a011caeacb6d5a05304044b.png" alt="webpack babel compilation errors" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-config-react-babel-compilation-errors-e1629739037135.png"/></noscript></figure>
<p class="graf graf--p">è¿™å°±æ˜¯å®ƒæ–­è£‚çš„åŸå› :</p>
<ul class="postList">
<li class="graf graf--li">é¦–å…ˆï¼Œwebpackè¿è¡Œå¹¶åœ¨<code>App.js</code>ä¸­é‡åˆ°jsxè¯­æ³•</li>
<li class="graf graf--li">ç„¶åè¿›å…¥<code>webpack.config.js</code>æ–‡ä»¶ï¼Œè®©åŠ è½½å™¨å‘Šè¯‰å®ƒå¦‚ä½•å¤„ç†jsx</li>
<li class="graf graf--li">ç„¶åï¼Œå®ƒæ‰¾åˆ°<code>babel-loader</code>ï¼Œç„¶åç»§ç»­åŠ è½½æˆ‘ä»¬çš„<code>.babelrc</code>æ–‡ä»¶</li>
</ul>
<p class="graf graf--p">å–æ¶ˆå¯¹ä»£ç çš„æ³¨é‡Šï¼Œä¸€åˆ‡åˆå˜ç»¿äº†ï¼</p>
<p class="graf graf--p">ç°åœ¨ï¼Œè¿›å…¥<code>App.js</code>å¹¶æ·»åŠ å¦‚ä¸‹æ‰€ç¤ºçš„ä»£ç :</p>
<pre>// src/App.js

import React, { Component } from "react";

class App extends Component {
    state = {
        counter: 0
    };

    handleClick = () =&gt; {
        this.setState(prevState =&gt; {
            return { counter: prevState.counter + 1 };
        });
    };
    render() {
        return (
            &lt;div className="App"&gt;
                &lt;h1&gt;I'm configuring setting up Webpack!!!&lt;/h1&gt;
                &lt;p&gt;{`The count now is: ${this.state.counter}`}&lt;/p&gt;
                &lt;button onClick={this.handleClick}&gt;Click me&lt;/button&gt;
            &lt;/div&gt;
        );
    }
}
export default App;</pre>
<p class="graf graf--p">å°†ä»¥ä¸‹ä»£ç ä¹Ÿæ·»åŠ åˆ°<code>webpack.config.js</code>:</p>
<pre>// webpack.config.js
...
devServer: {
  open: true
}</pre>
<p class="graf graf--p"><strong class="markup--strong markup--p-strong">è¯¥å±æ€§çš„ä½œç”¨:</strong></p>
<ul class="postList">
<li class="graf graf--li"><strong class="markup--strong markup--li-strong">æ‰“å¼€</strong>:å¦‚æœä¸ºçœŸï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æˆ‘ä»¬çš„åº”ç”¨ç¨‹åº</li>
</ul>
<p class="graf graf--p">ç°åœ¨ï¼Œæ¯æ¬¡æˆ‘ä»¬è¿è¡Œ<code>$ npm run dev</code>ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°†åœ¨å®¢æˆ·ç«¯æœåŠ¡å™¨ä¸Šæ‰“å¼€å¹¶ç›‘å¬å˜åŒ–ã€‚</p>
<p class="graf graf--p">ä¿å­˜å¹¶è¿è¡Œ:</p>
<pre>$ npm run dev</pre>
<p>å®ƒåœ¨<code><a class="markup--anchor markup--p-anchor" href="http://localhost:8080/." target="_blank" rel="noopener noreferrer" data-href="http://localhost:8080/.">http://localhost:8080/</a></code>ç¼–è¯‘å¹¶æ‰“å¼€æˆ‘ä»¬çš„åº”ç”¨ã€‚</p>
<h2 class="graf graf--h3">è®¾ç½®çƒ­æ¨¡å—æ›´æ¢(HMR)</h2>
<p class="graf graf--p">ä¸è¿‡ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªé—®é¢˜ã€‚æ¯æ¬¡æˆ‘ä»¬åšä¸€ä¸ªæ”¹å˜ï¼ŒæœåŠ¡å™¨é‡æ–°åŠ è½½ï¼Œæˆ‘ä»¬å¤±å»äº†æˆ‘ä»¬çš„çŠ¶æ€ã€‚æˆ‘ä»¬å¯ä»¥åœ¨é…ç½®ä¸­æ·»åŠ ä¸€ä¸ªwebpacké™„å¸¦çš„çƒ­æ¨¡å—æ›¿æ¢æ’ä»¶æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ›´æ–°<code>webpack.config.js</code>æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre>// webpack.config.js

const path = require("path");
const webpack = require("webpack");
const HtmlWebpackPlugin = require("html-webpack-plugin");

module.exports = ({ mode } = { mode: "production" }) =&gt; {
    console.log(`mode is: ${mode}`);

    return {
            mode,
            entry: "./src/index.js",
            devServer: {
                hot: true,
                open: true
            },
            output: {
                publicPath: "/",
                path: path.resolve(__dirname, "build"),
                filename: "bundle.js"
            },
            module: {
                rules: [
                    {
                        test: /\.(js|jsx)$/,
                        exclude: /node_modules/,
                        loader: "babel-loader"
                    }
                ]
            },
            plugins: [
                new HtmlWebpackPlugin({
                    template: "./public/index.html"
                }),
                new webpack.HotModuleReplacementPlugin()
            ]
        }

};</pre>
<p class="graf graf--p"><strong class="markup--strong markup--p-strong">æˆ‘ä»¬æ·»åŠ åˆ°æ–‡ä»¶ä¸­çš„å†…å®¹:</strong></p>
<ul class="postList">
<li class="graf graf--li">æˆ‘ä»¬åœ¨<code>devServer</code>å±æ€§ä¸­å°†<code>hot</code>è®¾ç½®ä¸º<code>true</code>ã€‚å¦‚æœä¸ºçœŸï¼Œå‘Šè¯‰webpackæˆ‘ä»¬éœ€è¦å¯ç”¨HMR</li>
<li class="graf graf--li">HMRæ’ä»¶åˆ°æˆ‘ä»¬çš„æ’ä»¶é˜µåˆ—ï¼Œå®é™…ä¸Šä½¿æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçƒ­æ¨¡å—é‡è£…</li>
</ul>
<blockquote class="graf graf--blockquote"><p>æ¯æ¬¡ç¼–è¾‘<code>webpack.config.js</code>æ–‡ä»¶æ—¶ï¼Œéƒ½å¿…é¡»é‡å¯æœåŠ¡å™¨ã€‚</p></blockquote>
<p class="graf graf--p">å¢åŠ æ‚¨çš„è®¡æ•°å™¨ï¼Œå¹¶æ›´æ”¹æˆ‘ä»¬çš„<code>App</code>ç»„ä»¶ä¸­çš„æ ‡é¢˜æ–‡æœ¬ã€‚æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºé‡æ–°å‘ˆç°ï¼Œä½†æˆ‘ä»¬ä»ç„¶ä¼šä¸¢å¤±åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚</p>
<p class="graf graf--p">å—¯ï¼Œwebpackçš„HMRä¸èƒ½ä¿å­˜æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚ä¸ºäº†ä¿æŒè¿™ç§çŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦å¦ä¸€ä¸ªåä¸º<a href="https://github.com/gaearon/react-hot-loader" target="_blank" rel="noopener"> react-hot-loader </a> (RHL)çš„åº“ã€‚è¯¥åº“ä¸webpackä¸€èµ·å°†HMRäº¤ä»˜ç»™æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚</p>
<p class="graf graf--p">å› æ­¤ï¼Œè®©æˆ‘ä»¬å®‰è£…å®ƒå¹¶å°†å…¶æ·»åŠ åˆ°æˆ‘ä»¬çš„é…ç½®ä¸­ã€‚è®©æˆ‘ä»¬å´©æºƒæœåŠ¡å™¨å¹¶å®‰è£…åº“ã€‚</p><div class="code-block code-block-54">
<hr/>
<h3>æ›´å¤šæ¥è‡ªLogRocketçš„ç²¾å½©æ–‡ç« :</h3>

<hr/></div>
<p class="graf graf--p">è¦å®‰è£…ï¼Œé¦–å…ˆè¿è¡Œä»¥ä¸‹å‘½ä»¤ä½¿æœåŠ¡å™¨å´©æºƒ:</p>
<pre>ctrl + C</pre>
<p>ç„¶åè¿è¡Œ:</p>
<pre>$ npm i -D react-hot-loader</pre>
<p>ç°åœ¨æ›´æ–°<code>.babelrc</code>æ–‡ä»¶:</p>
<pre>// .babelrc
{
  "presets": [
    "@babel/preset-react",
    [
     "@babel/preset-env",
      {
        "targets": {
          "browsers": "last 2 versions"
        },
        "modules": false,
        "loose": false
      }
    ]
  ],
  "plugins": [
    "transform-class-properties", "react-hot-loader/babel"
  ],
  "env": {
    "test": {
      "plugins": [
        "transform-es2015-modules-commonjs"
      ]
   }
  }</pre>
<p class="graf graf--p">è¿›å…¥æˆ‘ä»¬çš„<code>App.js</code>å¹¶æ›´æ–°ä»£ç :</p>
<pre>// App.js
import React, { Component } from "react";
import { hot } from "react-hot-loader";
class App extends Component {
  state = {
    counter: 0
  };
  handleClick = () =&gt; {
    this.setState(prevState =&gt; {
      return { counter: prevState.counter + 1 };
    });
  };
  render() {
    return (
      &lt;div className="App"&gt;
        &lt;h1&gt;I'm configuring setting up Webpack!!!&lt;/h1&gt;
        &lt;p&gt;{`The count now is: ${this.state.counter}`}&lt;/p&gt;
        &lt;button onClick={this.handleClick}&gt;Click me&lt;/button&gt;
      &lt;/div&gt;
    );
  }

export default hot(module)(App);</pre>
<p>æˆ‘ä»¬å°†ä¸Šé¢çš„ä»£ç æ·»åŠ åˆ°æˆ‘ä»¬çš„<code>App.js</code>ä¸­ï¼Œå› ä¸ºå®ƒå°†æ˜¯æˆ‘ä»¬çš„çˆ¶ç»„ä»¶ã€‚å› æ­¤ï¼Œç”¨<code>hot(module)</code>åŒ…è£…<code>App</code>å°†ä½¿HMRåœ¨æ ‘ä¸­çš„å…¶ä»–ç»„ä»¶ä¸­å¯ç”¨ã€‚æˆ‘ä»¬ä¹Ÿå¿…é¡»æ›´æ–°æˆ‘ä»¬çš„<code>index.js</code>æ¥å’ŒHMRåˆä½œã€‚</p>
<p class="graf graf--p">è¿›å…¥æˆ‘ä»¬çš„<code>src/index.js</code>å¹¶æ›´æ–°ä»£ç :</p>
<pre>   // src/index.js
    
import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';
import reportWebVitals from './reportWebVitals';

const rootId = document.getElementById("root");

ReactDOM.render(
  &lt;React.StrictMode&gt;
    &lt;App /&gt;
  &lt;/React.StrictMode&gt;,
  rootId
);

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();
if (module.hot &amp;&amp; process.env.NODE_ENV === "development") {
  module.hot.accept("./App", () =&gt; {
    const NextApp = require("./App").default;
    ReactDOM.render(
      &lt;React.StrictMode&gt;
        &lt;App /&gt;
      &lt;/React.StrictMode&gt;,
      rootId
    );
  });
}
</pre>
<p class="graf graf--p">åœ¨æˆ‘ä»¬çš„<code>index.js</code>ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ¡ä»¶è¯­å¥ï¼Œå®ƒæ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p>
<ul class="postList">
<li class="graf graf--li"><strong class="markup--strong markup--li-strong"> module.hot </strong>:æ£€æŸ¥åº”ç”¨ç¨‹åºæ˜¯å¦æœ‰å˜åŒ–ï¼Œå¦‚æœæœ‰<code>true</code>åˆ™è§¦å‘renderæ–¹æ³•</li>
<li class="graf graf--li">process.env.NODE_ENV :æ£€æŸ¥æˆ‘ä»¬æ˜¯å¦å¤„äºå¼€å‘æ¨¡å¼</li>
<li class="graf graf--li"><strong class="markup--strong markup--li-strong"> module.hot.accept </strong>:æŒ‡å®šå¦‚ä½•å¤„ç†å˜æ›´</li>
</ul>
<p class="graf graf--p">ç°åœ¨ï¼Œé‡æ–°å¯åŠ¨æœåŠ¡å™¨:</p>
<pre>$ npm run dev</pre>
<p>ç°åœ¨å¢åŠ æˆ‘ä»¬çš„è®¡æ•°å™¨ï¼Œå›åˆ°<code>App.js</code>å¹¶ç¼–è¾‘æ–‡æœ¬ã€‚ç»´å¥¥æ‹‰ã€‚å›½å®¶å¹¶æ²¡æœ‰æ¶ˆå¤±ã€‚</p>
<h2 class="graf graf--h3">ä½¿ç”¨webpackå¤„ç†æ ·å¼</h2>
<p class="graf graf--p">æˆ‘ä»¬éœ€è¦è®¾è®¡åº”ç”¨ç¨‹åºçš„æ ·å¼ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å®šåˆ¶webpackæ¥å¤„ç†å®ƒ:</p>
<ul class="postList">
<li class="graf graf--li">åœ¨æ‚¨çš„<code>src</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»º<code>sass</code>æ–‡ä»¶å¤¹</li>
<li class="graf graf--li">åœ¨æ‚¨çš„<code>sass</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª<code>app.scss</code>æ–‡ä»¶</li>
<li class="graf graf--li">å°†ä¸‹é¢çš„ä»£ç å¤åˆ¶åˆ°<code>app.scss</code></li>
</ul>
<pre>// src/sass/app.scss
body{
  margin: 0
}
.App{
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: rgba(gray, 0.2);
  height: 100vh
}</pre>
<p class="graf graf--p">æ³¨æ„åˆ°ä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿå—ï¼Ÿå—¯ï¼Œé‚£æ˜¯å› ä¸º<code>src/app.scss</code>æ²¡æœ‰åœ¨ä»»ä½•ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥webpackä¸ä¼šè¯•å›¾æ†ç»‘å®ƒã€‚æ„Ÿè°¢ES5æ¨¡å—è¯­æ³•<code>(i.e. import and export)</code>ï¼Œè¿™æ˜¯webpackçš„å¼€ç®±å³ç”¨ã€‚Webpackä¸ä¼šæ†ç»‘æœªä½¿ç”¨çš„æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰æ›´è½»çš„æ†ç»‘åŒ…(æ›´å¤šå…³äº<a class="markup--anchor markup--p-anchor" href="https://webpack.js.org/guides/tree-shaking/#src/components/Sidebar/Sidebar.jsx" target="_blank" rel="noreferrer nofollow noopener" data-href="https://webpack.js.org/guides/tree-shaking/#src/components/Sidebar/Sidebar.jsx">æ ‘æ‘‡åŠ¨</a>)ã€‚</p>
<p class="graf graf--p">ç»§ç»­å°†<code>app.scss</code>å¯¼å…¥åˆ°æˆ‘ä»¬çš„<code>App.js</code>æ–‡ä»¶ä¸­:</p>
<pre>// src/App.js
import React, { Component } from "react";
import { hot } from "react-hot-loader";
import './sass/app.scss';</pre>
<p>å®ƒå´©æºƒæ˜¯å› ä¸ºwebpackä¸çŸ¥é“è¯¥æ€ä¹ˆå¤„ç†ã€‚sass/ã€‚scss/ã€‚cssæ–‡ä»¶ã€‚æˆ‘ä»¬å¿…é¡»æ·»åŠ ä¸€ä¸ªåŠ è½½å™¨æ¥å‘Šè¯‰webpackå¦‚ä½•å¤„ç†æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„æ ·å¼è¡¨ã€‚</p>
<p class="graf graf--p">è®©æˆ‘ä»¬è¿è¡Œè¿™ä¸ª:</p>
<pre>$ npm i -D sass-loader css-loader style-loader</pre>
<p class="graf graf--p">æˆ‘ä»¬å°†æ ¹æ®ç¯å¢ƒä»¥ä¸åŒçš„æ–¹å¼å®ç°è¿™äº›åŠ è½½å™¨ã€‚</p>
<h2 class="graf graf--h3">è®¾ç½®ç‰¹å®šäºç¯å¢ƒçš„webpacké…ç½®</h2>
<p class="graf graf--p">åœ¨è®¾ç½®åŠ è½½å™¨ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»åˆ†å‰²æˆ‘ä»¬çš„é…ç½®ã€‚å½“è¿è¾“åˆ°ç”Ÿäº§ç°åœºæ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›æ†åŒ…å°½å¯èƒ½è½»ã€‚ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸å…³å¿ƒå‘å±•ã€‚æ‰€ä»¥æˆ‘ä»¬ä¼šå¯¹ä¸¤ç§æ¨¡å¼çš„æ ·å¼è¡¨åŒºåˆ«å¯¹å¾…ã€‚è®©æˆ‘ä»¬åˆ›å»ºç‰¹å®šäºç¯å¢ƒçš„é…ç½®ã€‚</p>
<p class="graf graf--p">è¿è¡Œ:</p>
<pre>$ mkdir build-utils</pre>
<p>åœ¨<code>build-utils</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»º<code>webpack.development.js</code>å’Œ<code>webpack.production.js</code>ã€‚ä»–ä»¬å°†æŒæœ‰ç‰¹å®šäºå…¶æ¨¡å¼çš„é…ç½®ã€‚</p>
<blockquote class="graf graf--blockquote"><p><code>webpack.config.js</code>ä¿å­˜æˆ‘ä»¬çš„é€šç”¨é…ç½®ã€‚</p></blockquote>
<p class="graf graf--p">ä¸ºäº†ä¼ é€’ç‰¹å®šäºç¯å¢ƒçš„é…ç½®ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåä¸º<a class="markup--anchor markup--p-anchor" href="https://www.npmjs.com/package/webpack-merge" target="_blank" rel="noreferrer nofollow noopener" data-href="https://www.npmjs.com/package/webpack-merge"> webpack-merge </a>çš„å®ç”¨ç¨‹åºåŒ…ã€‚å¦‚æœä½ ç†Ÿæ‚‰<a class="markup--anchor markup--p-anchor" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noreferrer nofollow noopener" data-href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign"> ES6çš„Object.assign()æ–¹æ³•</a>ï¼Œwebpack-mergeçš„å·¥ä½œæ–¹å¼æ˜¯ä¸€æ ·çš„ã€‚å¦‚æœæ‚¨ä¸çŸ¥é“ï¼Œä¸è¦æ‹…å¿ƒï¼Œæˆ‘ç¨åä¼šä»‹ç»è¿™ä¸ªæ¦‚å¿µã€‚</p>
<p class="graf graf--p">æˆ‘ä»¬å®šä¹‰äº†é€šç”¨é…ç½®ä»¥é¿å…ä»£ç é‡å¤ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å®è·µã€‚ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è¿è¡Œçš„è„šæœ¬å°†ç‰¹å®šçš„é…ç½®æ·»åŠ åˆ°é€šç”¨é…ç½®ä¸­ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥è¿æ¥è¿™ä¸¤ç§é…ç½®ã€‚Webpack-mergeæ­£æ˜¯è¿™æ ·åšçš„ã€‚å¦‚æœåœ¨æˆ‘ä»¬çš„<code>webpack.config.js</code>ä¸­æœ‰å±æ€§å†²çªï¼Œå®ƒå°†è¢«å¼•å…¥çš„å±æ€§è¦†ç›–ã€‚</p>
<p class="graf graf--p">æˆ‘ä»¬éœ€è¦å®‰è£…è¿™ä¸ªå®ç”¨ç¨‹åºæ¥å°†å…¶æ·»åŠ åˆ°æˆ‘ä»¬çš„é…ç½®ä¸­ã€‚</p>
<p class="graf graf--p">è¿è¡Œ:</p>
<pre>$ npm i -D webpack-merge</pre>
<p class="graf graf--p">è¿›å…¥<code>webpack.config.js</code>å¹¶ç”¨ä¸‹é¢çš„ä»£ç è¦†ç›–å®ƒ:</p>
<pre>  // webpack.config.js
    
    const path = require("path");
    const webpack = require("webpack");
    const { merge } = require("webpack-merge");
    const HtmlWebpackPlugin = require("html-webpack-plugin");
    const modeConfiguration = env =&gt; require(`./build-utils/webpack.${env}`)(env);
    
    module.exports = ({ mode } = { mode: "production" }) =&gt; {
        console.log(`mode is: ${mode}`);
    
        return merge(
            {
                mode,
                entry: "./src/index.js",
                devServer: {
                    hot: true,
                    open: true
                },
                output: {
                    publicPath: "/",
                    path: path.resolve(__dirname, "build"),
                    filename: "bundle.js"
                },
                module: {
                    rules: [
                        {
                            test: /\.(js|jsx)$/,
                            exclude: /node_modules/,
                            loader: "babel-loader"
                        }
                    ]
                },
                plugins: [
                    new HtmlWebpackPlugin({
                        template: "./public/index.html"
                    }),
                    new webpack.HotModuleReplacementPlugin()
                ]
            },
            modeConfiguration(mode)
        );
    };</pre>
<p class="graf graf--p">è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦<code>webpack-merge</code>åŒ…ï¼Œç„¶åæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°<code>modeConfiguration</code>ï¼Œå®ƒåŠ è½½ä¸æˆ‘ä»¬æ‰€å¤„çš„æ¨¡å¼ç›¸åŒ¹é…çš„é…ç½®ã€‚æˆ‘ä»¬å°†æŠŠ<code>modeConfiguration</code>ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ç»™<code>webpackMerge</code>ã€‚<code>Merge</code>ç„¶åå°†å…¶ä¸­çš„é…ç½®æ·»åŠ åˆ°é€šç”¨é…ç½®ä¸­ã€‚</p>
<p class="graf graf--p">ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†æµè®¾ç½®ï¼Œè®©æˆ‘ä»¬å®šä¹‰ç‰¹å®šäºç¯å¢ƒçš„é…ç½®ã€‚</p>
<h2 class="graf graf--h3">è®¾ç½®ç‰¹å®šäºå¼€å‘çš„é…ç½®</h2>
<p class="graf graf--p">å½“å¤„äºå¼€å‘æ¨¡å¼æ—¶ï¼Œæˆ‘ä»¬å°†ä¸ºæˆ‘ä»¬çš„è¨æ–¯/SCSSæ–‡ä»¶å®šä¹‰ä¸€ä¸ªåŠ è½½å™¨ã€‚</p>
<p class="graf graf--p">å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°<code>webpack.development.js</code>æ–‡ä»¶ä¸­:</p>
<pre>// build_utils/webpack.development.js</pre>
<h2 class="graf graf--h3">è®¾ç½®ç‰¹å®šäºç”Ÿäº§çš„é…ç½®</h2>
<p class="graf graf--p">åœ¨ç”Ÿäº§æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬è¦åšå‡ ä»¶äº‹:</p>
<ul class="postList">
<li class="graf graf--li">å®šä¹‰ä¸€ä¸ªåŠ è½½å™¨æ¥æå–æˆ‘ä»¬çš„æ ·å¼</li>
<li class="graf graf--li">ç¦ç”¨æˆ‘ä»¬æ†ç»‘çš„javascriptæ–‡ä»¶çš„æºæ˜ å°„</li>
<li class="graf graf--li">ä¼˜åŒ–æˆ‘ä»¬çš„é£æ ¼</li>
</ul>
<p class="graf graf--p">è¦å®‰è£…æ’ä»¶æ¥æå–æˆ‘ä»¬çš„æ ·å¼ï¼Œè¿è¡Œ:</p>
<pre>$ npm i -D mini-css-extract-plugin</pre>
<p>ç„¶åå°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°<code>build_utils/webpack.production.js</code>:</p>
<pre>// build_utils/webpack.production.js

const MiniCssExtractPlugin = require("mini-css-extract-plugin");
module.exports = () =&gt; ({
    output: {
        filename: "production.js"
    },
    module: {
        rules: [
            {
                test: /\.sa?css$/,
                use: [MiniCssExtractPlugin.loader, "css-loader", "sass-loader"]
            }
        ]
    },
    plugins: [new MiniCssExtractPlugin()]
});</pre>
<p class="graf graf--p">åœ¨ä¸Šé¢çš„æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ä¸ºæˆ‘ä»¬çš„æ ·å¼å®šä¹‰äº†ä¸€ä¸ªåŠ è½½å™¨ï¼Œwebpackä»å³åˆ°å·¦è¯»å–å®ƒã€‚</p>
<blockquote class="graf graf--blockquote"><p>sass-loaderâ€”-&gt; CSS-loaderâ€”-&gt; minicsextractpluginã€‚</p></blockquote>
<p class="graf graf--p">å½“è¿›å…¥ç”Ÿäº§é˜¶æ®µæ—¶ï¼Œæ’ä»¶å°†æˆ‘ä»¬çš„CSSä»JSæ–‡ä»¶æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚</p>
<p class="graf graf--p">æˆ‘å°†ç”Ÿäº§ç¯å¢ƒçš„æ†ç»‘è„šæœ¬å‘½åä¸º<code>production.js</code>ã€‚</p>
<p class="graf graf--p">è¦ä¸ºç”Ÿäº§è€Œæ„å»ºï¼Œè¯·è¿è¡Œ:</p>
<pre>$ npm run prod</pre>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¾“å‡ºæ–‡ä»¶å¤¹ä¸­çœ‹åˆ°æˆ‘ä»¬çš„CSSæ–‡ä»¶ï¼Œå°½ç®¡å®ƒæ²¡æœ‰è¢«ä¼˜åŒ–ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»ä¼¼äº<a href="https://github.com/NMFR/optimize-css-assets-webpack-plugin" target="_blank" rel="noopener">optimize-css-assets-web pack-plugin</a>å’Œ<a href="https://www.npmjs.com/package/uglifyjs-webpack-plugin" target="_blank" rel="noopener"> uglifyjs-webpack-plugin </a>çš„æ’ä»¶æ¥ç¼©å°CSSã€‚</p>
<p class="graf graf--p">è¦å®‰è£…æ’ä»¶æ¥ä¼˜åŒ–æˆ‘ä»¬çš„CSSï¼Œè¿è¡Œ:</p>
<pre>$ npm i -D optimize-css-assets-webpack-plugin uglifyjs-webpack-plugin</pre>
<p>ç”¨ä¸‹é¢çš„ä»£ç æ›´æ–°<code>webpack.production.js</code>æ–‡ä»¶:</p>
<pre>// build_utils/webpack.production.js

const MiniCssExtractPlugin = require("mini-css-extract-plugin");
const UglifyJsPlugin = require("uglifyjs-webpack-plugin");
const OptimizeCSSAssetsPlugin = require("optimize-css-assets-webpack-plugin");

module.exports = () =&gt; ({
    devtool: "nosources-source-map",
    output: {
        filename: "production.js"
    },
    optimization: {
        minimizer: [
            new UglifyJsPlugin({
                cache: true,
                parallel: true,
                sourceMap: true // set to true if you want JS source maps for css
            }),
            new OptimizeCSSAssetsPlugin({})
        ]
    },
    module: {
        rules: [
            {
                test: /\.sa?css$/,
                use: [MiniCssExtractPlugin.loader, "css-loader", "sass-loader"]
            }
        ]
    },
    plugins: [new MiniCssExtractPlugin()]
});</pre>
<p class="graf graf--p">åœ¨é…ç½®ä¸­ï¼Œæˆ‘ä»¬ç¦ç”¨äº†dev-toolsçš„æºåœ°å›¾ã€‚å®ƒåœ¨æˆ‘ä»¬çš„è°ƒè¯•å¼€å‘å·¥å…·ä¸­ä¸ºæµè§ˆå™¨æ·»åŠ äº†å…ƒä¿¡æ¯ï¼Œä½†æ˜¯ä»£ä»·æ˜¯æ„å»ºé€Ÿåº¦å˜æ…¢ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¼€å‘ä¸­ä½¿ç”¨å®ƒï¼Œä½†ç»å¯¹ä¸èƒ½åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨ã€‚</p>
<p class="graf graf--p">åˆ é™¤<code>build</code>æ–‡ä»¶å¤¹ã€‚ç„¶åè¿è¡Œå‘½ä»¤buildï¼Œç”¨ä¸€ä¸ªç¼©å°çš„CSSæ–‡ä»¶é‡æ–°æ„å»º:</p>
<pre>$ npm run prod</pre>
<p class="graf graf--p">å®ƒç°åœ¨ç”¨ä¸€ä¸ªä¼˜åŒ–çš„CSSæ–‡ä»¶æ„å»ºã€‚å¹²å¾—å¥½ï¼</p>
<h2 class="graf graf--h3">å·æ‡’åŠ è½½æˆ‘ä»¬çš„åº”ç”¨ç¨‹åº</h2>
<p class="graf graf--p">ä¸ºäº†å»¶è¿ŸåŠ è½½Reactåº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªåä¸º<a class="markup--anchor markup--p-anchor" href="https://github.com/jamiebuilds/react-loadable" target="_blank" rel="noreferrer nofollow noopener" data-href="https://github.com/jamiebuilds/react-loadable"> react-loadable </a>çš„åº“ã€‚å®ƒæœ‰ä¸€ä¸ªç§°ä¸ºå¯åŠ è½½çš„é«˜é˜¶ç»„ä»¶(HOC)ã€‚å¯åŠ è½½çš„åŠ¨æ€åŠ è½½ä»»ä½•æ¨¡å—ï¼Œç„¶åå°†å…¶æ¸²æŸ“åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ã€‚</p>
<p class="graf graf--p">è¦å°†åº“ä½œä¸ºä¾èµ–é¡¹å®‰è£…ï¼Œè¯·è¿è¡Œ:</p>
<pre>$ npm i -D react-loadable</pre>
<p>å®‰è£…åï¼Œåœ¨<code>src</code>ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code>LoadableApp.js</code>çš„æ–°æ–‡ä»¶</p>
<p>å°†ä¸‹é¢çš„ä»£ç å¤åˆ¶åˆ°å…¶ä¸­:</p>
<pre>// src/LoadableApp.js
import React, { Component } from "react";
import Loadable from "react-loadable";
const LoadApp = Loadable({
  loader: () =&gt; import("./App"),
  loading() {
    return &lt;div&gt;Loading...&lt;/div&gt;;
  },
  timeout: 10000 // 10 seconds
});
export default class LoadableApp extends Component {
  render() {
    return &lt;LoadApp/&gt;
  }
}</pre>
<p>è®©æˆ‘è§£é‡Šä¸€ä¸‹ä¸Šé¢çš„ä»£ç :</p>
<ul class="postList">
<li class="graf graf--li">æˆ‘ä»¬ä»react-loadableå¯¼å…¥äº†å¯åŠ è½½çš„ç‰¹è®¾</li>
<li class="graf graf--li">æˆ‘ä»¬ä¼ å…¥äº†ä¸€ä¸ªå¯¹è±¡æ¥å‘Šè¯‰Loadableåšä»€ä¹ˆ</li>
<li class="graf graf--li">loader :è¿™å‘Šè¯‰Loadableå¯¼å…¥æˆ‘ä»¬æŒ‡å®šçš„ç»„ä»¶</li>
<li class="graf graf--li"><strong class="markup--strong markup--li-strong"> loading </strong>:å¯åŠ è½½æ—¶æ˜¾ç¤ºç»™ç”¨æˆ·çš„æ¶ˆæ¯æ˜¯å¯¼å…¥æˆ‘ä»¬çš„ç»„ä»¶</li>
<li class="graf graf--li"><strong class="markup--strong markup--li-strong"> timeout </strong>:è¿™å°†å‘Šè¯‰Loadableåœ¨ç»„ä»¶å¤±è´¥ä¹‹å‰å°è¯•åŠ è½½å¤šé•¿æ—¶é—´ã€‚å¤„ç†äº’è”ç½‘è¿æ¥ç¼“æ…¢çš„é—®é¢˜</li>
<li class="graf graf--li">æˆ‘ä»¬å°†Loadableè¿”å›çš„ç»„ä»¶èµ‹ç»™<code>LoadApp</code></li>
<li class="graf graf--li">æˆ‘ä»¬å‘ˆç°è¿”å›çš„ç»„ä»¶</li>
</ul>
<p class="graf graf--p">ç°åœ¨ï¼Œæˆ‘ä»¬å¿…é¡»æ›´æ–°æˆ‘ä»¬çš„<code>index.js</code>æ¥å‘ˆç°å»¶è¿ŸåŠ è½½å’Œä»£ç åˆ†å‰²çš„ç»„ä»¶ã€‚æˆ‘ä»¬éœ€è¦æŠŠæ‰€æœ‰æåˆ°çš„<code>App.js</code>éƒ½æ¢æˆ<code>LoadableApp.js</code>ã€‚</p>
<p class="graf graf--p">ç”¨ä¸‹é¢çš„ä»£ç è¦†ç›–å®ƒ:</p>
<pre>// src/index.js 
import React from "react";
import ReactDOM from "react-dom";
import LoadableApp from "./LoadableApp";
import reportWebVitals from './reportWebVitals';

const rootId = document.getElementById("root");

ReactDOM.render(
  &lt;React.StrictMode&gt;
    &lt;LoadableApp /&gt;
  &lt;/React.StrictMode&gt;,
  rootId
);

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();
if (module.hot &amp;&amp; process.env.NODE_ENV === "development") {
  module.hot.accept("./App", () =&gt; {
    const NextApp = require("./LoadableApp").default;
    ReactDOM.render(
      &lt;React.StrictMode&gt;
        &lt;LoadableApp /&gt;
      &lt;/React.StrictMode&gt;,
      rootId
    );
  });
}
</pre>
<p class="graf graf--p">è¿è¡Œ:</p>
<pre>npm run dev</pre>
<p class="graf graf--p">æˆ‘ä»¬è¿˜æ²¡åˆ°é‚£ä¸€æ­¥ã€‚æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåœ¨æ§åˆ¶å°ä¸­æŠ›å‡ºä¸€ä¸ªé”™è¯¯:</p>
<figure class="graf graf--figure"><img data-attachment-id="64088" data-permalink="https://blog.logrocket.com/versatile-webpack-configurations-react-application/versatile-webpack-react-nbabel-configuration-dynamic-import/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import.png" data-orig-size="2046,950" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="versatile-webpack-react-nbabel-configuration-dynamic-import" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import-300x139.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import-1024x475.png" decoding="async" class="aligncenter wp-image-64088 jetpack-lazy-image" src="../Images/12adc8083a466c0f40e75f174c28f09f.png" alt="webpack-react-babel-dynamoc-import" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import.png 2046w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import-300x139.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import-1024x475.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import-768x357.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import-1536x713.png 1536w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="64088" data-permalink="https://blog.logrocket.com/versatile-webpack-configurations-react-application/versatile-webpack-react-nbabel-configuration-dynamic-import/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import.png" data-orig-size="2046,950" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="versatile-webpack-react-nbabel-configuration-dynamic-import" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import-300x139.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import-1024x475.png" decoding="async" loading="lazy" class="aligncenter wp-image-64088" src="../Images/12adc8083a466c0f40e75f174c28f09f.png" alt="webpack-react-babel-dynamoc-import" srcset="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import.png 2046w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import-300x139.png 300w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import-1024x475.png 1024w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import-768x357.png 768w, https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import-1536x713.png 1536w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/01/versatile-webpack-react-nbabel-configuration-dynamic-import.png"/></noscript></figure>
<p class="graf graf--p">æˆ‘ä»¬éœ€è¦ç»™æˆ‘ä»¬çš„<code>.babelrc</code>æ·»åŠ ä¸€ä¸ªæ’ä»¶æ¥å‘Šè¯‰Babelè§£æåŠ¨æ€å¯¼å…¥ã€‚</p>
<p class="graf graf--p">è¦å®‰è£…æ’ä»¶ï¼Œè¯·è¿è¡Œ:</p>
<pre>$ npm i -D babel-plugin-syntax-dynamic-import</pre>
<p>.babelrc to:</p>
<pre>// .babelrc
"plugins": [
  "transform-class-properties",
  "react-hot-loader/babel",
  "syntax-dynamic-import"
]</pre>
<p class="graf graf--p">æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºé‡æ–°ç¼–è¯‘ï¼Œæ²¡æœ‰æŠ›å‡ºé”™è¯¯ã€‚åŒæ ·åœ¨webpack 2+ä¸­ï¼Œæ¯å½“æ‚¨ä½¿ç”¨<code> import()</code>è¯­æ³•æ—¶ï¼Œwebpackä¼šè‡ªåŠ¨ä¸ºæ‚¨è¿›è¡Œä»£ç æ‹†åˆ†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç°åœ¨ä¸ä»…æ‡’äºåŠ è½½ç»„ä»¶ï¼Œè¿˜å¯¹å®ƒä»¬è¿›è¡Œä»£ç æ‹†åˆ†ã€‚</p>
<h2 class="graf graf--h3">ç»“è®º</h2>
<p class="graf graf--p">è¿™å°±æ˜¯ä½¿ç”¨Reactè®¾ç½®webpackä»¥æ»¡è¶³ä¸€èˆ¬å’Œç‰¹å®šé…ç½®éœ€æ±‚çš„å…¨éƒ¨å†…å®¹ã€‚å¦‚æœä½ æƒ³è¿›ä¸€æ­¥å®šåˆ¶ï¼Œä½ å¯ä»¥ä»webpack <a class="markup--anchor markup--p-anchor" href="https://webpack.js.org/concepts/" target="_blank" rel="noreferrer nofollow noopener" data-href="https://webpack.js.org/concepts/"> docs </a>ä¸­æ‰¾åˆ°æ›´å¤šå…³äºå¦‚ä½•åšçš„è§è§£ã€‚ä½ å¯ä»¥åœ¨<a class="markup--anchor markup--p-anchor" href="https://github.com/acekyd/react-webpack-config" target="_blank" rel="noreferrer nofollow noopener" data-href="https://github.com/acekyd/react-webpack-config"> GitHub </a>ä¸Šæ‰¾åˆ°è¿™ä¸ªé¡¹ç›®çš„å·¥ä½œç‰ˆæœ¬ã€‚</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">ä½¿ç”¨LogRocketæ¶ˆé™¤ä¼ ç»Ÿååº”é”™è¯¯æŠ¥å‘Šçš„å™ªéŸ³</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>æ˜¯ä¸€æ¬¾React analyticsè§£å†³æ–¹æ¡ˆï¼Œå¯ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªè¯¯æŠ¥é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å°‘æ•°çœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocketå‘Šè¯‰æ‚¨Reactåº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„bugå’ŒUXé—®é¢˜ã€‚</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>è‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€ååº”é”™è¯¯è¾¹ç•Œã€è¿˜åŸçŠ¶æ€ã€ç¼“æ…¢çš„ç»„ä»¶åŠ è½½æ—¶é—´ã€JSå¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶åï¼ŒLogRocketä½¿ç”¨æœºå™¨å­¦ä¹ æ¥é€šçŸ¥æ‚¨å½±å“å¤§å¤šæ•°ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„é—®é¢˜ï¼Œå¹¶æä¾›æ‚¨ä¿®å¤å®ƒæ‰€éœ€çš„ä¸Šä¸‹æ–‡ã€‚</p><p vwo-el-id="28675661060">å…³æ³¨é‡è¦çš„React bugâ€”<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">ä»Šå¤©å°±è¯•è¯•LogRocketã€‘ã€‚</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>