<html>
<head>
<title>Integrate TypeScript with GraphQL using TypeGraphQL - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>ä½¿ç”¨TypeGraphQL - LogRocketåšå®¢å°†TypeScriptä¸GraphQLé›†æˆ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/integrate-typescript-graphql-typegraphql/#0001-01-01">https://blog.logrocket.com/integrate-typescript-graphql-typegraphql/#0001-01-01</a></blockquote><div><article class="article-post">
<p><em> <strong>ç¼–è€…æŒ‰</strong>:è¿™ç¯‡æ–‡ç« æœ€åä¸€æ¬¡æ›´æ–°æ˜¯åœ¨2022å¹´11æœˆ18æ—¥ï¼Œå›ç­”äº†å…³äºåœ¨GraphQLä¸­ä½¿ç”¨TypeScriptçš„æµè¡Œé—®é¢˜ï¼Œå¹¶æä¾›äº†æ›´å¤šGraphQLç‰¹æ€§çš„ä¿¡æ¯ï¼Œå¦‚åˆ«åå’Œæ—¥æœŸæ ‡é‡ã€‚æ›´å¤šä½¿ç”¨GraphQLå’ŒTypeScriptçš„ä¾‹å­ï¼Œè¯·æŸ¥çœ‹è¿™äº›æ•™ç¨‹:<a href="https://blog.logrocket.com/build-graphql-react-app-typescript/">ç”¨TypeScriptæ„å»ºgraph QL+React app</a>å’Œ<a href="https://blog.logrocket.com/build-graphql-typegraphql-typeorm/">ç”¨TypeGraphQLå’ŒTypeORMæ„å»ºGraphQL APIsã€‘ã€‚</a></em></p>
<p>TypeScriptæ˜¯JavaScriptçš„ä¸€ä¸ªç±»å‹åŒ–è¶…é›†ï¼Œæ—¨åœ¨è§£å†³ç”¨JavaScriptç¼–å†™åº”ç”¨ç¨‹åºçš„è®¸å¤šæ£˜æ‰‹é—®é¢˜ã€‚</p>
<p>GraphQLæ˜¯ä¸€ç§ç”¨äºAPIçš„æŸ¥è¯¢è¯­è¨€ï¼Œå®ƒä½¿ç”¨å…¶ç±»å‹ç³»ç»Ÿæ¥æè¿°æ•°æ®å­—æ®µï¼Œé˜²æ­¢è¿‡åº¦æå–å’Œä¸è¶³æå–ã€‚æ­¤å¤–ï¼ŒGraphQLåœ¨<a href="https://blog.logrocket.com/versioning-fields-graphql/"> APIç‰ˆæœ¬æ§åˆ¶</a>æ–¹é¢ä¹Ÿæœ‰å¾ˆå¤§å¸®åŠ©ã€‚</p>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a href="https://typegraphql.com/"> TypeGraphQL </a>åº“æ„å»ºä¸€ä¸ªAPIæ¥é›†æˆTypeScriptå’ŒGraphQLï¼Œè¿™ç®€åŒ–äº†åœ¨Node.jsä¸­åˆ›å»ºGraphQL APIsã€‚</p>
<p>æˆ‘ä»¬å°†æ¶µç›–:</p>

<h2 id="typescript-graphql">ä¸ºä»€ä¹ˆè¦åœ¨GraphQLä¸­ä½¿ç”¨TypeScriptï¼Ÿ</h2>
<p>GraphQLé€šè¿‡ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶è¿è¡Œ:</p>
<ul>
<li>æ¨¡å¼å¯¹è±¡å½¢å¼çš„ç±»å‹å®šä¹‰</li>
<li>è§£æå™¨ï¼Œæ˜¯å¡«å……ä¸ºæ¨¡å¼è¿”å›çš„æ•°æ®çš„JavaScriptå‡½æ•°</li>
</ul>
<p>æ¨¡å¼å¯¹è±¡å®šä¹‰äº†APIä¸­å¯ä»¥æŸ¥è¯¢çš„å±æ€§ï¼Œä½†æ˜¯è§£æå™¨ä¸ç†è§£æ¨¡å¼ç±»å‹ã€‚è¿™å°±æ˜¯TypeScriptçš„ç”¨æ­¦ä¹‹åœ°ï¼é€šè¿‡ä½¿ç”¨ç¼–è¯‘æˆJavaScriptçš„TypeScriptï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæˆ‘ä»¬çš„è§£æå™¨å®šä¹‰åŒ¹é…æˆ‘ä»¬çš„æ¨¡å¼çš„ç±»å‹ï¼Œé˜²æ­¢ä¸åŒ¹é…ã€‚</p>
<h2 id="typegraphql-typescript-graphql">ä½¿ç”¨TypeGraphQLå°†TypeScriptä¸GraphQLä¸€èµ·ä½¿ç”¨</h2>
<p>å‰é¢ï¼Œæˆ‘ä»¬è®¨è®ºäº†TypeScriptå¦‚ä½•ä»¥ä¸€ç§æ¨¡å¼å®šä¹‰çš„æ–¹å¼è§£å†³è®©è§£æå™¨çŸ¥é“çš„é—®é¢˜ã€‚å—¯ï¼Œ<a href="https://typegraphql.com/"> TypeGraphQlåº“</a>è®©è¿™å˜å¾—æ›´åŠ å®¹æ˜“ï¼</p>
<p>TypeGraphQLä½¿ç”¨decoratorssä»TypeScriptç±»è‡ªåŠ¨åˆ›å»ºGraphQLæ¨¡å¼å®šä¹‰ï¼Œdecoratoræ˜¯ä¸åå°„ä¸€èµ·å¼•å…¥çš„ï¼Œä»¥é¿å…å¯¹æ¨¡å¼å®šä¹‰æ–‡ä»¶çš„éœ€è¦ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬åªéœ€è¦å®šä¹‰è§£æå™¨ç±»å‹ï¼Œæˆ‘ä»¬çš„GraphQLæ¨¡å¼å°±ä¼šç”Ÿæˆã€‚</p>
<p>å°½ç®¡æˆ‘ä»¬å¯ä»¥æ ¹æ®é¡¹ç›®çš„éœ€æ±‚ç¼–å†™å®šåˆ¶çš„è£…é¥°å™¨æ¥æ»¡è¶³æˆ‘ä»¬çš„ç‰¹å®šéœ€æ±‚ï¼Œä½†æ˜¯å¯¹äºæœ¬æ•™ç¨‹æ¥è¯´ï¼Œä¸ºTypeGraphQLæä¾›çš„è£…é¥°å™¨å°±è¶³å¤Ÿäº†ã€‚</p>
<h2 id="prerequisites">å…ˆå†³æ¡ä»¶</h2>
<p>è¦è·Ÿéšæœ¬æ•™ç¨‹ï¼Œæ‚¨éœ€è¦:</p>
<ul>
<li>ç†Ÿæ‚‰TypeScriptå’ŒGraphQL</li>
<li>å®‰è£…åœ¨è®¡ç®—æœºä¸Šçš„Node.js</li>
<li>åœ¨æ‚¨çš„è®¡ç®—æœºä¸Šå…¨å±€å®‰è£…çš„TypeScript</li>
</ul>
<p>è¦å®‰è£…TypeScriptï¼Œå¯ä»¥åœ¨ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ä¸‹ä½¿ç”¨npmæˆ–Yarnè¿è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<pre class="language-bash hljs">npm install -g typescript
</pre>
<p>ä¸Šé¢çš„å‘½ä»¤åœ¨æˆ‘ä»¬çš„ç³»ç»Ÿè·¯å¾„ä¸Šå®‰è£…äº†æœ€æ–°çš„TypeScriptç¼–è¯‘å™¨<code>tsc</code>ï¼Œè¿™åœ¨æˆ‘ä»¬ç¼–è¯‘å’Œè¿è¡Œä»£ç æ—¶ä¼šå¾ˆæœ‰ç”¨ã€‚<code>tsc</code>è·å–ä¸€ä¸ªä»¥<code>.ts</code>æ‰©å±•åç»“å°¾çš„ç±»å‹è„šæœ¬æ–‡ä»¶ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ‰©å±•åä¸º<code>.js</code>çš„ç­‰ä»·JavaScriptæ–‡ä»¶ã€‚ç¨åæˆ‘ä»¬å°†äº†è§£å…³äºè¿™ä¸ªå‘½ä»¤çš„æ›´å¤šä¿¡æ¯ã€‚</p>
<p>ä½ å¯ä»¥åœ¨<a href="https://github.com/finallyayo/typescript-graphql"> GitHub repo </a>ä¸Šè·å¾—æœ¬æ•™ç¨‹çš„å®Œæ•´ä»£ç ã€‚</p>
<p>æˆ‘ä»¬å¼€å§‹å§ï¼</p>
<h2 id="bootstrapping-typescript-graphql-application">å¼•å¯¼æˆ‘ä»¬çš„TypeScript GraphQLåº”ç”¨ç¨‹åº</h2>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼Œå¹¶å°†å…¶å‘½åä¸ºã€‚ç„¶åæˆ‘ä»¬å¯ä»¥ç”¨<code>npm init</code>å‘½ä»¤åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„<code>package.json</code>æ–‡ä»¶ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å®‰è£…æˆ‘ä»¬çš„é¡¹ç›®ä¾èµ–é¡¹ã€‚</p>
<h2 id="installing-dependencies">å®‰è£…ä¾èµ–é¡¹</h2>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å®‰è£…é¡¹ç›®æ‰€éœ€çš„ä¾èµ–é¡¹ã€‚åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<pre class="language-bash hljs">npm install type-graphql reflect-metadata graphql express class-validator apollo-server-express apollo-server-core mongoose @typegoose/typegoose --save
</pre>
<p>è®©æˆ‘ä»¬è§£é‡Šä¸€ä¸‹è¿™äº›å¿…éœ€çš„ä¾èµ–é¡¹ä»¥åŠæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å®ƒä»¬ã€‚</p>
<p>å¦‚å‰æ‰€è¿°ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<code>type-graphql</code>æ¡†æ¶ç”¨TypeScriptå’ŒGraphQLæ„å»ºæˆ‘ä»¬çš„API:</p>
<blockquote><p>ğŸ’¡TypeGraphQLåŒ…æ‹¬è‡ªåŠ¨éªŒè¯ã€ä¾èµ–æ³¨å…¥ã€æˆæƒå’Œç»§æ‰¿ç­‰é«˜çº§ç‰¹æ€§ï¼Œå®ƒå…è®¸æˆ‘ä»¬ä½¿ç”¨TypeScriptç±»å’Œdecoratorså®šä¹‰æˆ‘ä»¬çš„GraphQLæ¨¡å¼ç±»å‹å’Œæ¥å£ã€‚</p></blockquote>
<p><code>reflect-metadata</code>åŒ…ä¸ºæ”¯æŒç±»å‹è„šæœ¬çš„<a href="https://github.com/rbuckton/ReflectDecorators">å®éªŒå…ƒæ•°æ®API </a>æ·»åŠ äº†ä¸€ä¸ªpolyfillã€‚ç›®å‰ï¼ŒTypeScriptåŒ…æ‹¬<a href="https://www.typescriptlang.org/tsconfig#emitDecoratorMetadata">å®éªŒæ”¯æŒ</a>ï¼Œç”¨äºä¸ºå…·æœ‰è£…é¥°å™¨çš„å£°æ˜å‘å‡ºæŸäº›ç±»å‹çš„å…ƒæ•°æ®ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çš„<code>tsconfig.json</code>æ–‡ä»¶ä¸­å¯ç”¨å¯¹è¿™ä¸ªåº“çš„æ”¯æŒã€‚</p>
<p><a href="https://www.npmjs.com/package/apollo-server-express"> <code>apollo-server-express</code> </a>æ˜¯GraphQLæœåŠ¡å™¨çš„<code>express</code>å’Œ<code>connect</code>é›†æˆï¼Œæˆ‘ä»¬å°†ç”¨å®ƒæ¥å¼•å¯¼ä¸€ä¸ªç®€å•çš„GraphQLæœåŠ¡å™¨ã€‚</p>
<p><code><a href="https://typegraphql.com/docs/validation.html">class-validator</a></code>åº“å…è®¸åœ¨TypeGraphQLä¸­ä½¿ç”¨decoratorå’ŒéåŸºäºdecoratorçš„éªŒè¯æ¥éªŒè¯æˆ‘ä»¬çš„æ¨¡å¼å­—æ®µã€‚</p>
<p><a href="https://www.npmjs.com/package/mongoose"> <code>mongoose</code> </a>åŒ…æ˜¯MongoDBå¯¹è±¡æ•°æ®æ˜ å°„å™¨(ODM)ï¼Œè€Œ<code><a href="https://github.com/typegoose/typegoose">@typegoose/typegoose</a></code>å…è®¸æˆ‘ä»¬ä½¿ç”¨ç±»å‹è„šæœ¬ç±»å®šä¹‰Mongooseæ¨¡å‹ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å®‰è£…ä»¥ä¸‹ç±»å‹è„šæœ¬ç±»å‹ä½œä¸ºå¼€å‘ä¾èµ–:<a href="https://www.npmjs.com/package/@types/express"> <code>types/express</code> </a>å’Œ<code><a href="https://www.npmjs.com/package/@types/node">@types/node</a></code>ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬åº”è¯¥æ·»åŠ <code>typescript</code>ã€<code>nodemon</code>å’Œ<code>ts-node</code>ï¼Œè¿™æ˜¯Node.jsçš„ä¸€ä¸ªç±»å‹è„šæœ¬æ‰§è¡Œç¯å¢ƒ</p>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<pre class="language-bash hljs">npm install types/express @types/node typescript ts-node nodemon --save-dev
</pre>
<p>å½“æˆ‘ä»¬å®‰è£…å®Œé¡¹ç›®çš„ä¾èµ–é¡¹åï¼Œæˆ‘ä»¬çš„<code>package.json</code>æ–‡ä»¶å°†çœ‹èµ·æ¥åƒä¸‹é¢çš„ä»£ç å—:</p>
<pre class="language-json hljs">{
  "name": "typscript-graphql-logrocket-tutorial",
  "version": "1.0.0",
  "description": "A typscript and graphql Tutorial",
  "main": "server.js",
  "scripts": {
    "start": "npm run serve",
    "serve": "node dist/server.js",
    "watch-node": "nodemon dist/server.js",
    "build-ts": "tsc",
    "watch-ts": "tsc -w",
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
  },
  "keywords": [
    "TypeScript",
    "GraphQL",
    "NodeJS",
    "JavaScript"
  ],
  "author": "Alexander Nnakwue",
  "license": "MIT",
  "devDependencies": {
    "@types/express": "^4.17.3",
    "@types/graphql": "^14.5.0",
    "@types/node": "^13.9.0",
    "nodemon": "^2.0.2",
    "ts-node": "^8.6.2",
    "typescript": "^3.8.3"
  },
  "dependencies": {
    "@typegoose/typegoose": "^6.4.0",
    "apollo-server-express": "^2.11.0",
    "class-validator": "^0.11.0",
    "express": "^4.17.1",
    "graphql": "^14.6.0",
    "reflect-metadata": "^0.1.13",
    "type-graphql": "^0.17.6"
  }
}</pre>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®æˆ‘ä»¬çš„<code>tsconfig.json</code>æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æä¾›äº†åº”è¯¥å¦‚ä½•é…ç½®æˆ‘ä»¬çš„TypeScripté¡¹ç›®çš„æŒ‡ä»¤ã€‚æ‚¨å¯ä»¥è®¿é—®TypeGraphQL æ‰€éœ€çš„<a href="https://typegraphql.com/docs/installation.html#typescript-configuration">ç±»å‹è„šæœ¬é…ç½®ã€‚</a></p>
<p>åœ¨<code>tsconfig.json</code>ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šé€‰é¡¹æ¥ç¼–è¯‘æˆ‘ä»¬çš„<code>.ts</code>æ–‡ä»¶ä»¥åŠæˆ‘ä»¬é¡¹ç›®çš„æ ¹æ–‡ä»¶ã€‚æ¯å½“æˆ‘ä»¬è¿è¡Œ<code>tsc</code>å‘½ä»¤æ—¶ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯<code>npm run build</code>è¿è¡Œå®ƒï¼Œç¼–è¯‘å™¨å°†é¦–å…ˆæ£€æŸ¥è¿™ä¸ªæ–‡ä»¶ä¸­çš„ç‰¹æ®ŠæŒ‡ä»¤ï¼Œç„¶åç»§ç»­ç¼–è¯‘ã€‚</p>
<p>è¦åˆ›å»ºæˆ‘ä»¬çš„<code>tsconfig.json</code>æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œ<code>tsc --init</code>å‘½ä»¤ï¼Œè¿™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«è®¸å¤šé»˜è®¤å€¼å’Œæ³¨é‡Šï¼Œä¸ºäº†ç®€æ´èµ·è§ï¼Œæˆ‘ä»¬å·²ç»çœç•¥äº†è¿™äº›å†…å®¹ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬çš„<code>tsconfig</code>æ–‡ä»¶çœ‹èµ·æ¥åƒä¸‹é¢çš„ä»£ç å—:</p>
<pre class="language-typescript hljs">  {
    "compilerOptions": {
        "module": "commonjs",
        "esModuleInterop": true,
        "allowSyntheticDefaultImports": true,
        "target": "es2016",  // or newer if your node.js version supports this
        "strictNullChecks": true,
        "strictFunctionTypes": true,
        "noImplicitThis": true,
        "noUnusedLocals": true,
        "noUnusedParameters": true,
        "noImplicitReturns": true,
        "skipLibCheck": true,
        "declaration": false,
        "noFallthroughCasesInSwitch": true,
        "composite": false,
        "noImplicitAny": true,
        "moduleResolution": "node",
        "lib": ["dom", "es2016", "esnext.asynciterable"],
        "sourceMap": true,
        "emitDecoratorMetadata": true,
        "strict": false,
        "experimentalDecorators": true,
        "outDir": "dist",
        "rootDir": "app",
        "baseUrl": ".",
        "paths": {
            "*": [
                "node_modules/*",
                "app/types/*"
            ]
        }
    },
    "include": [
        "app/**/*", "./app/**/*.ts", "./app/**/*.tsx"
    ]
}
</pre>
<blockquote><p>æ³¨æ„:è¿™äº›é…ç½®é€‰é¡¹çš„è¯¦ç»†è§£é‡Šå’Œå«ä¹‰å¯ä»¥åœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°ã€‚</p></blockquote>
<h2 id="apollo-server">è®¾ç½®æˆ‘ä»¬çš„é˜¿æ³¢ç½—æœåŠ¡å™¨</h2>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»å®‰è£…äº†æˆ‘ä»¬çš„ä¾èµ–é¡¹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¹‹å‰å®‰è£…çš„<code>apollo-server-express</code>åŒ…æ¥è®¾ç½®æˆ‘ä»¬çš„ApolloæœåŠ¡å™¨ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å°†åœ¨é¡¹ç›®ç›®å½•ä¸­åˆ›å»ºæ–°çš„åº”ç”¨ç¨‹åºç›®å½•ã€‚ç›®å½•çš„å†…å®¹åº”è¯¥å¦‚ä¸‹å›¾æ‰€ç¤º:</p>
<p><img data-attachment-id="142658" data-permalink="https://blog.logrocket.com/integrate-typescript-graphql-typegraphql/attachment/apollo-directory-app-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app.png" data-orig-size="412,216" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Apollo directory app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app-300x157.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app.png" decoding="async" class="aligncenter size-full wp-image-142658 jetpack-lazy-image" src="../Images/21dc1784c3a8b9783599960dcc5dbda5.png" alt="Apollo Directory App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app.png 412w, https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app-300x157.png 300w" data-lazy-sizes="(max-width: 412px) 100vw, 412px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="142658" data-permalink="https://blog.logrocket.com/integrate-typescript-graphql-typegraphql/attachment/apollo-directory-app-3/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app.png" data-orig-size="412,216" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Apollo directory app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app-300x157.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-142658" src="../Images/21dc1784c3a8b9783599960dcc5dbda5.png" alt="Apollo Directory App" srcset="https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app.png 412w, https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app-300x157.png 300w" sizes="(max-width: 412px) 100vw, 412px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/apollo-directory-app.png"/></noscript>
<p>åœ¨æˆ‘ä»¬çš„<code>server.ts</code>æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Expressè®¾ç½®æˆ‘ä»¬çš„ApolloæœåŠ¡å™¨ã€‚åŒ…å«æ‰€æœ‰å¯¼å…¥çš„æ–‡ä»¶å†…å®¹åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-typescript hljs">// server.ts

import { ApolloServer } from 'apollo-server-express';
import { ApolloServerPluginLandingPageGraphQLPlayground } from 'apollo-server-core';
import Express from 'express';
import 'reflect-metadata';
import { buildSchema } from 'type-graphql';
import { connect } from 'mongoose';

import { UserResolver } from './resolvers/User';
import { ProductResolver } from './resolvers/Product';
import { CategoriesResolver } from './resolvers/Categories';
import { CartResolver } from './resolvers/Cart';
import { OrderResolver } from './resolvers/Order';

const main = async () =&gt; {
  const schema = await buildSchema({
    resolvers: [
      CategoriesResolver,
      ProductResolver,
      UserResolver,
      CartResolver,
      OrderResolver,
    ],
    emitSchemaFile: true,
    validate: false,
  });

  // create mongoose connection
  const mongoose = await connect('mongodb://localhost:27017/test');
  await mongoose.connection;

  const server = new ApolloServer({
    schema,
    plugins: [ ApolloServerPluginLandingPageGraphQLPlayground ],
  });

  const app = Express();

  await server.start();

  server.applyMiddleware({ app });

  app.listen({ port: 3333 }, () =&gt;
    console.log(
      `ğŸš€ Server ready and listening at ==&gt; http://localhost:3333${server.graphqlPath}`
    )
  );
};

main().catch((error) =&gt; {
  console.log(error, 'error');
});
</pre>
<blockquote><p>ğŸ’¡åœ¨å¯¼å…¥<code>type-graphql</code>ä¹‹å‰å¯¼å…¥<code>reflect-metadata</code>æ˜¯å¾ˆé‡è¦çš„ã€‚</p></blockquote>
<p>TypeGraphQLçš„<code><a href="https://graphql.org/graphql-js/utilities/">buildSchema</a></code>åŒ…å…è®¸æˆ‘ä»¬ä»TypeGraphQLçš„å®šä¹‰ä¸­æ„å»ºæˆ‘ä»¬çš„æ¨¡å¼ã€‚<code>buildSchema</code>æ–¹æ³•çš„é€šå¸¸ç­¾åå¦‚ä¸‹:</p>
<pre class="language-javascript hljs">const schema = await buildSchema({
  resolvers: [Resolver],
});
</pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä»<code>app/resolver</code>æ–‡ä»¶å¤¹ä¸­å¯¼å…¥è§£æå™¨ï¼Œå¹¶å°†å®ƒä»¬ä¼ é€’åˆ°å‡½æ•°å®šä¹‰ä¸­çš„<code>resolvers</code>å­—æ®µçš„æ•°ç»„ä¸­ã€‚</p>
<p>å½“æˆ‘ä»¬è¿è¡Œ<code>npm run build-tsc</code>å‘½ä»¤æ—¶ï¼Œ<code>emitSchemaFile</code>å­—æ®µå…è®¸æˆ‘ä»¬å°†GraphQLæ¨¡å¼æ”¾åˆ°ä¸€ä¸ª<code>schema.gql</code>æ–‡ä»¶ä¸­ã€‚</p>
<p><code>schema.gql</code>ç”Ÿæˆåï¼Œçœ‹èµ·æ¥ä¼šåƒ:</p>
<pre class="language-graphql hljs"># -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

"""The  Cart model"""
type Cart {
  id: ID!
  products: String!
  product: Product!
}

input CartInput {
  products: ID!
}

"""The Categories model"""
type Categories {
  id: ID!
  name: String!
  description: String!
}

input CategoriesInput {
  name: String!
  description: String!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type Mutation {
  createUser(data: UserInput!): User!
  deleteUser(id: String!): Boolean!
  createProduct(data: ProductInput!): Product!
  deleteProduct(id: String!): Boolean!
  createCategory(data: CategoriesInput!): Categories!
  deleteCategory(id: String!): Boolean!
  createCart(data: CartInput!): Cart!
  deleteCart(id: String!): Boolean!
  createOrder(data: OrderInput!): Order!
  deleteOrder(id: String!): Boolean!
}

"""The Order model"""
type Order {
  id: ID!
  user_id: String!
  payde: Boolean!
  date: DateTime!
  products: Product!
}

input OrderInput {
  user_id: String!
  payde: Boolean!
  date: DateTime!
}

"""The Product model"""
type Product {
  id: ID!
  name: String!
  description: String!
  color: String!
  stock: Int!
  price: Int!
  category_id: String!
  category: Categories!
}

input ProductInput {
  name: String!
  description: String!
  color: String!
  stock: Float!
  price: Float!
  category_id: String!
}

type Query {
  returnSingleUser(id: String!): User!
  returnAllUsers: [User!]!
  returnSingleProduct(id: String!): Order!
  returnAllProduct: [Product!]!
  returnSingleCategory(id: String!): Categories!
  returnAllCategories: [Categories!]!
  returnSingleCart(id: String!): Cart!
  returnAllCart: [Cart!]!
  returnAllOrder: [Order!]!
}

"""The User model"""
type User {
  id: ID!
  username: String!
  email: String!
  cart_id: String!
  cart: Cart!
}

input UserInput {
  username: String!
  email: String!
  cart_id: ID!
}
</pre>
<h2 id="typegraphql-database-schema-fields">TypeGraphQLæ•°æ®åº“æ¨¡å¼å­—æ®µ</h2>
<p>æˆ‘ä»¬çš„<code>schema.gql</code>æ–‡ä»¶ä¸­çš„å†…å®¹åŸºäºæˆ‘ä»¬ä¸åŒæ•°æ®åº“å®ä½“çš„æ¨¡å¼å­—æ®µï¼Œå­˜å‚¨åœ¨<code>entities</code>æ–‡ä»¶å¤¹ä¸­ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›æ–‡ä»¶çš„å†…å®¹:</p>
<pre class="language-typescript hljs">// app/entities/Categories.ts
import { ObjectType, Field, ID } from 'type-graphql';
import { prop as Property, getModelForClass } from '@typegoose/typegoose';

@ObjectType({ description: 'The Categories model' })
export class Categories {
  @Field(() =&gt; ID)
  id: string;

  @Field()
  @Property()
  name: String;

  @Field()
  @Property()
  description: String;
}

export const CategoriesModel = getModelForClass(Categories);


// app/entities/Product.ts
import { ObjectType, Field, ID, Int } from 'type-graphql';
import { prop as Property, getModelForClass } from '@typegoose/typegoose';
import { Ref } from '../types';
import { Categories } from './Categories';
import { __Type } from 'graphql';

@ObjectType({ description: 'The Product model' })
export class Product {
  @Field(() =&gt; ID)
  id: String;

  @Field()
  @Property()
  name: String;

  @Field()
  @Property()
  description: String;

  @Field()
  @Property()
  color: String;

  @Field((_type) =&gt; Int)
  @Property()
  stock: number;

  @Field((_type) =&gt; Int)
  @Property()
  price: number;

  @Field((_type) =&gt; String)
  @Property({ ref: Categories })
  category_id: Ref&lt;Categories&gt;;
  _doc: any;
}

export const ProductModel = getModelForClass(Product);


// app/entities/Cart.ts
import { ObjectType, Field, ID } from 'type-graphql';
import { prop as Property, getModelForClass } from '@typegoose/typegoose';

import { Ref } from '../types';

import { Product } from './Product';

@ObjectType({ description: 'The  Cart model' })
export class Cart {
  @Field(() =&gt; ID)
  id: string;

  @Field((_type) =&gt; String)
  @Property({ ref: Product, required: true })
  products: Ref&lt;Product&gt;;
  _doc: any;
}

export const CartModel = getModelForClass(Cart);


// app/entities/User.ts
import { ObjectType, Field, ID } from 'type-graphql';
import { prop as Property, getModelForClass } from '@typegoose/typegoose';

import { Ref } from '../types';

import { Cart } from './Cart';

@ObjectType({ description: 'The User model' })
export class User {
  [x: string]: any;
  @Field(() =&gt; ID)
  id: number;

  @Field()
  @Property({ required: true })
  username: String;

  @Field()
  @Property({ required: true })
  email: String;

  @Field((_type) =&gt; String)
  @Property({ ref: Cart, required: true })
  cart_id: Ref&lt;Cart&gt;;
}

export const UserModel = getModelForClass(User);


// app/entities/Order.ts
import { ObjectType, Field, ID } from 'type-graphql';
import { prop as Property, getModelForClass } from '@typegoose/typegoose';

import { Ref } from '../types';

import { Product } from './Product';

@ObjectType({ description: 'The Order model' })
export class Order {
  @Field(() =&gt; ID)
  id: String;

  @Field()
  @Property({ nullable: true })
  user_id: String;

  @Field()
  @Property({ required: true })
  payde: Boolean;

  @Field()
  @Property({ default: new Date(), required: true, nullable: true })
  date: Date;

  // @Field(_type =&gt; Product)
  @Property({ ref: Product, required: true })
  products: Ref&lt;Product&gt;;
  _doc: any;
}

export const OrderModel = getModelForClass(Order);
</pre>
<p>åœ¨ä¸Šé¢çš„æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ä»<code>type-graphql</code>å¯¼å…¥äº†<code>ObjectType</code>ã€<code>Field</code>ã€<code>ID</code>å’Œ<code>Int</code>ã€‚</p>
<p><code>Field</code> decoratorç”¨äºå£°æ˜åº”è¯¥æ˜ å°„åˆ°GraphQLå­—æ®µçš„ç±»å±æ€§ã€‚å®ƒè¿˜ç”¨äºä»TypeScriptåå°„ç³»ç»Ÿæ”¶é›†å…ƒæ•°æ®ã€‚</p>
<p><code>ObjectType</code>è£…é¥°å™¨å°†è¯¥ç±»æ ‡è®°ä¸ºæ¥è‡ª<code>graphql-js</code>çš„<code><a href="https://graphql.org/graphql-js/type/#graphqlobjecttype">GraphQLObjectType</a></code>ã€‚</p>
<p>æ­¤å¤–ï¼Œæˆ‘ä»¬ä»<code>@typegoose/typegoose</code>åŒ…ä¸­å¯¼å…¥äº†<code>Property</code>è£…é¥°å™¨å’Œ<code>getModelForClass</code>æ–¹æ³•ã€‚</p>
<p><a href="https://typegoose.github.io/typegoose/docs/api/decorators/prop/"> <code>PropertyDecorator</code> </a>ç”¨äºè®¾ç½®ç±»ä¸­çš„å±æ€§ï¼Œæ²¡æœ‰å®ƒåªæ˜¯ä¸€ä¸ªç±»å‹ï¼Œä¸ä¼šå‡ºç°åœ¨æœ€ç»ˆçš„æ¨¡å‹ä¸­ã€‚</p>
<p><code>Int</code>å’Œ<code>ID</code>æ˜¯ä¸‰ä¸ªåŸºæœ¬GraphQLæ ‡é‡çš„åˆ«åï¼Œ<code>getModelForClass</code>æ–¹æ³•ç”¨äºè·å–ç»™å®šç±»çš„æ¨¡å‹ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬ä»appæ–‡ä»¶å¤¹çš„<code>types.ts</code>æ–‡ä»¶ä¸­å¯¼å…¥<code>Refs</code>ï¼Œä»MongoDBä¸­å¯¼å…¥<a href="https://docs.mongodb.com/manual/reference/method/ObjectId/"> <code>ObjectId</code> </a>:</p>
<pre class="language-typescript hljs">// app/types.ts
import { ObjectId } from 'mongodb';

export type Ref&lt;T&gt; = T | ObjectId;
</pre>
<p>ç±»å‹<code>Ref&lt;T&gt;</code>æ˜¯ç”¨äºå¼•ç”¨çš„ç±»å‹ã€‚å®ƒè¿˜é™„å¸¦äº†ç”¨äºéªŒè¯è¿™äº›å¼•ç”¨çš„typeguardsã€‚</p>
<h2 id="typegraphql-resolvers-input-types">TypeGraphQLè§£æå™¨å’Œè¾“å…¥ç±»å‹</h2>
<p>åˆ›å»ºä¸€ä¸ªåä¸º<code>resolver</code>çš„æ–°æ–‡ä»¶å¤¹ï¼Œå®ƒå°†åŒ…å«å¦ä¸€ä¸ªåä¸º<code>types</code>çš„æ–‡ä»¶å¤¹ã€‚åœ¨<code>types</code>ä¸­ï¼Œæˆ‘ä»¬å°†æ·»åŠ ä¸åŒæ—‹å˜å™¨è¾“å…¥çš„ç±»å‹ã€‚</p><div class="code-block code-block-54">
<hr/>
<h3>æ›´å¤šæ¥è‡ªLogRocketçš„ç²¾å½©æ–‡ç« :</h3>

<hr/></div>
<blockquote><p>è¾“å…¥ç±»å‹å®šä¹‰äº†ä¸ºGraphQLçªå˜åˆ›å»ºæ¡ç›®æ‰€éœ€çš„æ•°æ®ã€‚</p></blockquote>
<p>è¾“å…¥æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-typescript hljs">// app/resolvers/types/category-input.ts
import { InputType, Field } from 'type-graphql';
import { Length } from 'class-validator';
import { Categories } from '../../entities/Categories';

@InputType()
export class CategoriesInput implements Partial&lt;Categories&gt; {
  @Field()
  name: string;

  @Field()
  @Length(1, 255)
  description: String;
}


// app/resolvers/types/product-input.ts
import { InputType, Field } from 'type-graphql';
import { Length } from 'class-validator';
import { Product } from '../../entities/Product';
import { ObjectId } from 'mongodb';

@InputType()
export class ProductInput implements Partial&lt;Product&gt; {
  @Field()
  name: String;

  @Field()
  @Length(1, 255)
  description: String;

  @Field()
  color: String;

  @Field()
  stock: number;

  @Field()
  price: number;

  @Field(() =&gt; String)
  category_id: ObjectId;
}


// app/resolvers/types/cart-input.ts
import { InputType, Field, ID } from 'type-graphql';
import { Cart } from '../../entities/Cart';

import { ObjectId } from 'mongodb';

@InputType()
export class CartInput implements Partial&lt;Cart&gt; {
  @Field(() =&gt; ID)
  products: ObjectId;
}


// app/resolvers/types/user-input.ts
import { InputType, Field, ID } from 'type-graphql';
import { Length, IsEmail } from 'class-validator';
import { User } from '../../entities/User';
import { ObjectId } from 'mongodb';

@InputType()
export class UserInput implements Partial&lt;User&gt; {
  @Field()
  @Length(1, 255)
  username: String;

  @Field()
  @IsEmail()
  email: String;

  @Field(() =&gt; ID)
  cart_id: ObjectId;
}


// app/resolvers/types/order-input.ts
import { InputType, Field } from 'type-graphql';
import { Order } from '../../entities/Order';

@InputType()
export class OrderInput implements Partial&lt;Order&gt; {
  @Field()
  user_id: String;

  @Field()
  payde: Boolean;

  @Field()
  date: Date;
}
</pre>
<p>åœ¨ä¸Šé¢çš„æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ä»<code>type-graphql</code>å¯¼å…¥äº†<code>InputType</code>å’Œ<code>Field</code>è£…é¥°å™¨ã€‚</p>
<p>TypeGraphQLä½¿ç”¨<code>inputType</code>è£…é¥°å™¨æ ¹æ®è¾“å…¥å’Œå‚æ•°çš„å®šä¹‰è‡ªåŠ¨éªŒè¯å®ƒä»¬ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨<code>class-validator</code>åº“è¿›è¡Œå­—æ®µçº§éªŒè¯ã€‚è¯·æ³¨æ„ï¼ŒTypeGraphQLå†…ç½®äº†å¯¹åŸºäºè¯¥åº“çš„å‚æ•°å’Œè¾“å…¥éªŒè¯çš„æ”¯æŒã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ£€æŸ¥è¿™äº›è¾“å…¥å’Œå®ä½“çš„è§£æå™¨ã€‚<code>categories.ts</code>æ–‡ä»¶ä¸­ç±»åˆ«è§£æå™¨çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-typescript hljs">// app/resolvers/Categories.ts
import { Resolver, Mutation, Arg, Query } from 'type-graphql';
import { Categories, CategoriesModel } from '../entities/Categories';
import { CategoriesInput } from './types/category-input';

@Resolver()
export class CategoriesResolver {
  @Query((_returns) =&gt; Categories, { nullable: false })
  async returnSingleCategory(@Arg('id') id: string) {
    return await CategoriesModel.findById({ _id: id });
  }

  @Query(() =&gt; [Categories])
  async returnAllCategories() {
    return await CategoriesModel.find();
  }

  @Mutation(() =&gt; Categories)
  async createCategory(
    @Arg('data') { name, description }: CategoriesInput
  ): Promise&lt;Categories&gt; {
    const category = (
      await CategoriesModel.create({
        name,
        description,
      })
    ).save();
    return category;
  }

  @Mutation(() =&gt; Boolean)
  async deleteCategory(@Arg('id') id: string) {
    await CategoriesModel.deleteOne({ id });
    return true;
  }
}
</pre>
<p>è¿™ä¸ªè§£æå™¨ä½¿ç”¨æ¥è‡ª<code>type-graphql</code>çš„<code>Resolver</code>ã€<code>Mutation</code>ã€<code>Arg</code>å’Œ<code>Query</code>è£…é¥°å™¨æ‰§è¡ŒåŸºæœ¬çš„CRUDæ“ä½œã€‚æˆ‘ä»¬è¿˜å¯¼å…¥äº†ç”¨äºçªå˜å­—æ®µçš„è¾“å…¥ç±»å‹ã€‚</p>
<p>å¯¹äº<code>ProductResolver</code>æ–‡ä»¶ï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹å†…å®¹:</p>
<pre class="language-typescript hljs">// app/resolvers/Product.ts
import {
  Resolver,
  Mutation,
  Arg,
  Query,
  FieldResolver,
  Root,
} from 'type-graphql';
import { Product, ProductModel } from '../entities/Product';
import { ProductInput } from './types/product-input';

import { Categories, CategoriesModel } from '../entities/Categories';

@Resolver((_of) =&gt; Product)
export class ProductResolver {
  @Query((_returns) =&gt; Product, { nullable: false })
  async returnSingleProduct(@Arg('id') id: string) {
    return await ProductModel.findById({ _id: id });
  }

  @Query(() =&gt; [Product])
  async returnAllProduct() {
    return await ProductModel.find();
  }

  @Mutation(() =&gt; Product)
  async createProduct(
    @Arg('data')
    { name, description, color, stock, price, category_id }: ProductInput
  ): Promise&lt;Product&gt; {
    const product = (
      await ProductModel.create({
        name,
        description,
        color,
        stock,
        price,
        category_id,
      })
    ).save();
    return product;
  }

  @Mutation(() =&gt; Boolean)
  async deleteProduct(@Arg('id') id: string) {
    await ProductModel.deleteOne({ id });
    return true;
  }

  @FieldResolver((_type) =&gt; Categories)
  async category(@Root() product: Product): Promise&lt;Categories&gt; {
    console.log(product, 'product!');
    return (await CategoriesModel.findById(product._doc.category_id))!;
  }
}
</pre>
<p>ä¸Šé¢çš„<code>ProductResolver</code>åŒ…å«å…³ç³»å®ä½“æ•°æ®çš„å­—æ®µè§£æå™¨è£…é¥°å™¨ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œäº§å“æ¨¡å¼æœ‰ä¸€ä¸ª<code>category-id</code>å­—æ®µï¼Œç”¨äºè·å–ç‰¹å®šç±»åˆ«çš„è¯¦ç»†ä¿¡æ¯ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡ä»æ•°æ®å›¾ä¸­çš„å¦ä¸€ä¸ªèŠ‚ç‚¹è·å–æ•°æ®æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<h2 id="apollo-application">è¿è¡Œæˆ‘ä»¬çš„é˜¿æ³¢ç½—åº”ç”¨ç¨‹åº</h2>
<p>ä¸ºäº†å¯åŠ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å°†è¿è¡Œ<code>npm run build-ts</code>ï¼Œå®ƒç¼–è¯‘æˆ‘ä»¬çš„ä»£ç ï¼Œç„¶åè¿è¡Œ<code>npm start</code>ï¼Œå®ƒå¯åŠ¨æˆ‘ä»¬çš„æœåŠ¡å™¨ã€‚</p>
<blockquote><p>æ³¨æ„:å½“æˆ‘ä»¬ç”¨<code>tsc</code>ç¼–è¯‘å™¨æ„å»ºä»£ç æ—¶ï¼ŒTypeScriptä¼šæ•æ‰ä»»ä½•ç¼–è¯‘æ—¶é”™è¯¯:</p></blockquote>
<p><img data-attachment-id="142660" data-permalink="https://blog.logrocket.com/integrate-typescript-graphql-typegraphql/attachment/running-commands-apollo-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app.png" data-orig-size="730,353" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Output after running the commands to run Apollo app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app-300x145.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app.png" decoding="async" class="aligncenter size-full wp-image-142660 jetpack-lazy-image" src="../Images/3e9f71e0ed93ff0a8d9823ca3082537e.png" alt="Output After Running The Commands To Run Apollo App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app-300x145.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="142660" data-permalink="https://blog.logrocket.com/integrate-typescript-graphql-typegraphql/attachment/running-commands-apollo-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app.png" data-orig-size="730,353" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Output after running the commands to run Apollo app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app-300x145.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-142660" src="../Images/3e9f71e0ed93ff0a8d9823ca3082537e.png" alt="Output After Running The Commands To Run Apollo App" srcset="https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app-300x145.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/running-commands-apollo-app.png"/></noscript>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code><a href="http://localhost:3333/graphql" rel="nofollow">http://localhost:3333/graphql</a></code>å¯¼èˆªåˆ°GraphQLæ“åœºæ¥æµ‹è¯•æˆ‘ä»¬çš„APIã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬é€šè¿‡è¿è¡Œä»¥ä¸‹å˜å¼‚æ¥åˆ›å»ºä¸€ä¸ªæ–°ç±»åˆ«:</p>
<pre class="language-graphql hljs">mutation {
  createCategory(data: {
    name: "T-Shirts",
    description: "This is an awesome brand from LogRocket"
  }){
    name
    description
    id
  }
}
</pre>
<p><img data-attachment-id="142662" data-permalink="https://blog.logrocket.com/integrate-typescript-graphql-typegraphql/attachment/graphql-mutation-create-new-category/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category.png" data-orig-size="730,340" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GraphQL mutation to create a new category" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category-300x140.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category.png" decoding="async" class="aligncenter size-full wp-image-142662 jetpack-lazy-image" src="../Images/388caad5c2e2b0cfbbc85b213f6fe2e4.png" alt="GraphQL Mutation To Create A New Category" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category-300x140.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="142662" data-permalink="https://blog.logrocket.com/integrate-typescript-graphql-typegraphql/attachment/graphql-mutation-create-new-category/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category.png" data-orig-size="730,340" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GraphQL mutation to create a new category" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category-300x140.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-142662" src="../Images/388caad5c2e2b0cfbbc85b213f6fe2e4.png" alt="GraphQL Mutation To Create A New Category" srcset="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category-300x140.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-mutation-create-new-category.png"/></noscript>
<p>è‹¥è¦æŒ‰IDè·å–ç±»åˆ«ï¼Œè¯·è¿è¡Œä»¥ä¸‹æŸ¥è¯¢:</p>
<p><img data-attachment-id="142665" data-permalink="https://blog.logrocket.com/integrate-typescript-graphql-typegraphql/attachment/graphql-query-return-single-category-id/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id.png" data-orig-size="730,334" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GraphQL query to return a single category by ID" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id-300x137.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id.png" decoding="async" class="aligncenter size-full wp-image-142665 jetpack-lazy-image" src="../Images/4990c3c8370346d08e0807e62fecbf20.png" alt="GraphQL Query To Return A Single Category By ID" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id-300x137.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="142665" data-permalink="https://blog.logrocket.com/integrate-typescript-graphql-typegraphql/attachment/graphql-query-return-single-category-id/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id.png" data-orig-size="730,334" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GraphQL query to return a single category by ID" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id-300x137.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-142665" src="../Images/4990c3c8370346d08e0807e62fecbf20.png" alt="GraphQL Query To Return A Single Category By ID" srcset="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id-300x137.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/11/graphql-query-return-single-category-id.png"/></noscript>
<p>å½“æ‚¨ç‚¹å‡»æ“åœºä¸­çš„<strong> Schema </strong>é€‰é¡¹å¡æ—¶ï¼Œæ‚¨å°†çœ‹åˆ°å…³äºAPIåŠŸèƒ½çš„æ›´å¤šç»†èŠ‚:</p>
<pre class="language-typescript hljs">type Cart {
  id: ID!
  products: String!
  product: Product!
}

input CartInput {
  products: ID!
}

type Categories {
  id: ID!
  name: String!
  description: String!
}

input CategoriesInput {
  name: String!
  description: String!
}

scalar DateTime

type Mutation {
  createUser(data: UserInput!): User!
  deleteUser(id: String!): Boolean!
  createProduct(data: ProductInput!): Product!
  deleteProduct(id: String!): Boolean!
  createCategory(data: CategoriesInput!): Categories!
  deleteCategory(id: String!): Boolean!
  createCart(data: CartInput!): Cart!
  deleteCart(id: String!): Boolean!
  createOrder(data: OrderInput!): Order!
  deleteOrder(id: String!): Boolean!
}

type Order {
  id: ID!
  user_id: String!
  payde: Boolean!
  date: DateTime!
  products: Product!
}

input OrderInput {
  user_id: String!
  payde: Boolean!
  date: DateTime!
}

type Product {
  id: ID!
  name: String!
  description: String!
  color: String!
  stock: Int!
  price: Int!
  category_id: String!
  category: Categories!
}

input ProductInput {
  name: String!
  description: String!
  color: String!
  stock: Float!
  price: Float!
  category_id: String!
}

type Query {
  returnSingleUser(id: String!): User!
  returnAllUsers: [User!]!
  returnSingleProduct(id: String!): Order!
  returnAllProduct: [Product!]!
  returnSingleCategory(id: String!): Categories!
  returnAllCategories: [Categories!]!
  returnSingleCart(id: String!): Cart!
  returnAllCart: [Cart!]!
  returnAllOrder: [Order!]!
}

type User {
  id: ID!
  username: String!
  email: String!
  cart_id: String!
  cart: Cart!
}

input UserInput {
  username: String!
  email: String!
  cart_id: ID!
}
</pre>
<p>è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸Šé¢æ˜¾ç¤ºçš„<strong> Schema </strong>é€‰é¡¹å¡ä¸­çš„æŸ¥è¯¢å’Œå˜åŒ–ã€‚</p>
<h2 id="more-with-graphql">ä½¿ç”¨GraphQLåšæ›´å¤šäº‹æƒ…</h2>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨TypeScriptåˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„GraphQL APIï¼Œä½†æ˜¯GraphQLè¿˜å¯ä»¥æä¾›æ›´å¤šçš„åŠŸèƒ½ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹ã€‚</p>
<h3 id="graphql-aliases">GraphQLåˆ«å</h3>
<p><a href="https://blog.logrocket.com/using-aliases-graphql/">graph QL</a><a href="https://blog.logrocket.com/using-aliases-graphql/">a</a><a href="https://blog.logrocket.com/using-aliases-graphql/">lias</a>ä½¿æˆ‘ä»¬èƒ½å¤Ÿé‡å‘½åAPIæŸ¥è¯¢ç»“æœä¸­è¿”å›çš„æ•°æ®çš„é”®ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬å¸Œæœ›é€šè¿‡ä¸åŒäºå…¶å®šä¹‰çš„è§£æå™¨çš„åç§°æ¥å¼•ç”¨æˆ‘ä»¬çš„æ•°æ®ç»“æœæ—¶ï¼Œåˆ«åå°±å¾ˆæœ‰ç”¨ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„<code>ProductResolver</code>ç±»<code>app/resolvers/Product.ts</code>ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªè§£æå™¨<code>returnAllProduct</code>ï¼Œå½“è¢«æŸ¥è¯¢æ—¶ï¼Œå®ƒè¿”å›<code>{</code> <code>"data": {</code> <code>"returnAllProduct": [â€¦] } }</code>:</p>
<pre class="language-typescript hljs">// query
query {
  returnAllProduct {
    id
    name
    color
  }
}

// result
{
    "data": {
        "returnAllProduct": [
            {
                "id": "6375596bf51e426c86f1c3fa",
                "name": "Gucci Shoes",
                "color": "red"
            }
        ]
    }
}
</pre>
<p>è¦å°†æˆ‘ä»¬çš„ç»“æœé”®ä»<code>returnAllProduct</code>é‡å‘½åä¸º<code>products</code>ï¼Œæˆ‘ä»¬åªéœ€ä½¿ç”¨ä»¥ä¸‹å†…å®¹ä½œä¸ºæˆ‘ä»¬æŸ¥è¯¢çš„åˆ«å:</p>
<pre class="language-typescript hljs">// query
query {
  products: returnAllProduct {
    id
    name
    color
  }
}

// result
{
    "data": {
        "products": [
            {
                "id": "6375596bf51e426c86f1c3fa",
                "name": "Gucci Shoes",
                "color": "red"
            }
        ]
    }
}
</pre>
<h3 id="graphql-date-scalars">GraphQLæ—¥æœŸæ ‡é‡</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒGraphQLåªæœ‰å°‘æ•°æ ‡é‡ç±»å‹ç”¨äºå®šä¹‰æ¨¡å¼ä¸­çš„å±æ€§ã€‚è¿™äº›æ˜¯<code>ID</code>ã€<code>Int</code>ã€<code>Float</code>ã€<code>String</code>å’Œ<code>Boolean</code>ã€‚</p>
<p>TypeGraphQLè‡ªåŠ¨å°†ç›¸åº”çš„JavaScriptç±»å‹æ˜ å°„åˆ°è¿™äº›æ ‡é‡ã€‚ä¾‹å¦‚ï¼Œç±»å‹<code>boolean</code>é»˜è®¤ä¸ºæ ‡é‡<code>Boolean</code>ï¼Œç±»å‹<code>number</code>é»˜è®¤ä¸ºæ ‡é‡<code>Float</code>ã€‚</p>
<blockquote><p>ğŸ’¡JavaScriptç±»å‹<code>number</code>å¯ä»¥é€šè¿‡ä½¿ç”¨<code>@Field(type =&gt; Int)</code>è£…é¥°å™¨æ˜ å°„åˆ°æ ‡é‡Intã€‚</p></blockquote>
<p>ç„¶è€Œï¼ŒTypeGraphQLä¸ºdateæä¾›äº†ä¸¤ä¸ªå†…ç½®æ ‡é‡:<code>"timestamp"</code>æˆ–<code>"isoDate"</code>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä½¿ç”¨<code>"isoDate"</code>ï¼Œä½†å¯ä»¥åœ¨<code>buildSchema</code>é€‰é¡¹ä¸­ä½¿ç”¨<code>"dateScalarMode"</code>é€‰é¡¹è¿›è¡Œæ›´æ”¹ã€‚</p>
<pre class="language-javascript hljs">const schema = await buildSchema({
  resolvers: [//Resolvers],
  dateScalarMode: "timestamp",
});
</pre>
<h2 id="conclusion">ç»“è®º</h2>
<p>TypeGraphQLçš„ä¸»è¦ç”¨é€”æ˜¯åŸºäºTypeScriptç±»åˆ›å»ºGraphQLç±»å‹ã€‚TypeScriptä½¿å¾—ç¼–å†™åŸºäºç±»çš„OOPä»£ç å˜å¾—ç›´è§‚ã€‚å®ƒä¸ºæˆ‘ä»¬æä¾›äº†ç°æˆçš„ç±»ã€æ¥å£å’Œæ›´å¤šçš„ä¸œè¥¿ï¼Œè¿™è®©æˆ‘ä»¬æœ‰æœºä¼šä»¥ä¸€ç§å¯é‡ç”¨çš„æ–¹å¼é€‚å½“åœ°æ„å»ºæˆ‘ä»¬çš„ä»£ç ï¼Œä½¿å…¶æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚</p>
<p>TypeGraphQLå¯¼è‡´äº†å·¥å…·å’Œåº“çš„äº§ç”Ÿï¼Œä½¿å¾—ç¼–å†™æ»¡è¶³è¿™äº›æœŸæœ›çš„åº”ç”¨ç¨‹åºæ›´åŠ å®¹æ˜“å’Œå¿«é€Ÿã€‚TypeScriptæå¤§åœ°æé«˜äº†æˆ‘ä»¬ä½œä¸ºå·¥ç¨‹å¸ˆçš„ç”Ÿäº§åŠ›å’Œä½“éªŒã€‚</p>
<p>é€šè¿‡å°†TypeScriptåŠŸèƒ½å’ŒGraphQLçš„ä¼˜ç‚¹ä¸TypeGraphQLåº“ç»“åˆèµ·æ¥ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºå¼¹æ€§çš„å¼ºç±»å‹APIï¼Œæ»¡è¶³æˆ‘ä»¬åœ¨ç»´æŠ¤ã€æŠ€æœ¯å€ºåŠ¡ç­‰æ–¹é¢çš„éœ€æ±‚ã€‚</p>
<p>æœ€åä¸€ç‚¹ï¼Œæ¢ç´¢æ–‡æ¡£ä¸­çš„å…¶ä»–<a href="https://typegraphql.com/docs/scalars.html">é«˜çº§æŒ‡å—</a>å’Œ<a href="https://typegraphql.com/docs/dependency-injection.html">ç‰¹æ€§</a>ï¼Œä»¥äº†è§£æœ¬æ•™ç¨‹ä¸­æœªæ¶‰åŠçš„å…¶ä»–æ–¹é¢ï¼Œè¿™å°†æ˜¯éå¸¸å¥½çš„ã€‚æ„Ÿè°¢é˜…è¯»ï¼Œåˆ«å¿˜äº†åœ¨<a href="https://github.com/finallyayo/typescript-graphql"> GitHub </a>ä¸Šè·å–æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨çš„å…¨éƒ¨æºä»£ç ã€‚</p><div class="code-block code-block-21">
<div class="blog-plug inline-plug typescript-plug"><h2><a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>:å…¨é¢äº†è§£æ‚¨çš„ç½‘ç»œå’Œç§»åŠ¨åº”ç”¨</h2>
<a href="https://lp.logrocket.com/blg/typescript-signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p>LogRocket æ˜¯ä¸€ä¸ªå‰ç«¯åº”ç”¨ç¨‹åºç›‘æ§è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥è®©æ‚¨å›æ”¾é—®é¢˜ï¼Œå°±åƒé—®é¢˜å‘ç”Ÿåœ¨æ‚¨è‡ªå·±çš„æµè§ˆå™¨ä¸­ä¸€æ ·ã€‚LogRocketä¸éœ€è¦çŒœæµ‹é”™è¯¯å‘ç”Ÿçš„åŸå› ï¼Œä¹Ÿä¸éœ€è¦å‘ç”¨æˆ·è¯¢é—®æˆªå›¾å’Œæ—¥å¿—è½¬å‚¨ï¼Œè€Œæ˜¯è®©æ‚¨é‡æ”¾ä¼šè¯ä»¥å¿«é€Ÿäº†è§£å“ªé‡Œå‡ºé”™äº†ã€‚å®ƒå¯ä»¥ä¸ä»»ä½•åº”ç”¨ç¨‹åºå®Œç¾é…åˆï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæ¡†æ¶ï¼Œå¹¶ä¸”æœ‰æ’ä»¶å¯ä»¥è®°å½•æ¥è‡ªReduxã€Vuexå’Œ@ngrx/storeçš„é¢å¤–ä¸Šä¸‹æ–‡ã€‚</p>
<p>é™¤äº†è®°å½•Reduxæ“ä½œå’ŒçŠ¶æ€ï¼ŒLogRocketè¿˜è®°å½•æ§åˆ¶å°æ—¥å¿—ã€JavaScripté”™è¯¯ã€å †æ ˆè·Ÿè¸ªã€å¸¦æœ‰å¤´+æ­£æ–‡çš„ç½‘ç»œè¯·æ±‚/å“åº”ã€æµè§ˆå™¨å…ƒæ•°æ®å’Œè‡ªå®šä¹‰æ—¥å¿—ã€‚å®ƒè¿˜ä½¿ç”¨DOMæ¥è®°å½•é¡µé¢ä¸Šçš„HTMLå’ŒCSSï¼Œç”šè‡³ä¸ºæœ€å¤æ‚çš„å•é¡µé¢å’Œç§»åŠ¨åº”ç”¨ç¨‹åºé‡æ–°åˆ›å»ºåƒç´ çº§å®Œç¾è§†é¢‘ã€‚</p><div class="code-block code-block-24">
<div class="blog-plug inline-plug graphql-plug"><h2>ç›‘æ§ç”Ÿäº§ä¸­å¤±è´¥å’Œç¼“æ…¢çš„GraphQLè¯·æ±‚</h2><p>è™½ç„¶GraphQLæœ‰ä¸€äº›è°ƒè¯•è¯·æ±‚å’Œå“åº”çš„ç‰¹æ€§ï¼Œä½†ç¡®ä¿GraphQLå¯é åœ°ä¸ºæ‚¨çš„ç”Ÿäº§åº”ç”¨ç¨‹åºæä¾›èµ„æºæ˜¯ä¸€ä»¶æ¯”è¾ƒå›°éš¾çš„äº‹æƒ…ã€‚å¦‚æœæ‚¨å¯¹ç¡®ä¿å¯¹åç«¯æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡çš„ç½‘ç»œè¯·æ±‚æˆåŠŸæ„Ÿå…´è¶£ï¼Œ</p><a href="https://lp.logrocket.com/blg/graphql-signup" target="_blank">try LogRocket</a><p>.</p><a class="signup" href="https://lp.logrocket.com/blg/graphql-signup" target="_blank" rel="noopener noreferrer"><img src="../Images/432a3823c85b3fb72a206e6236a29f48.png" data-lazy-src="https://files.readme.io/69aa835-Image_2019-11-09_at_1.28.05_PM.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://files.readme.io/69aa835-Image_2019-11-09_at_1.28.05_PM.png"/><noscript><img data-lazy-fallback="1" src="../Images/432a3823c85b3fb72a206e6236a29f48.png" data-original-src="https://files.readme.io/69aa835-Image_2019-11-09_at_1.28.05_PM.png"/></noscript><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a><a href="https://lp.logrocket.com/blg/graphql-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket å°±åƒæ˜¯ç½‘ç»œå’Œç§»åŠ¨åº”ç”¨çš„DVRï¼Œè®°å½•ä¸‹ä½ ç½‘ç«™ä¸Šå‘ç”Ÿçš„æ¯ä¸€ä»¶äº‹ã€‚æ‚¨å¯ä»¥æ±‡æ€»å¹¶æŠ¥å‘Šæœ‰é—®é¢˜çš„GraphQLè¯·æ±‚ï¼Œä»¥å¿«é€Ÿäº†è§£æ ¹æœ¬åŸå› ï¼Œè€Œä¸æ˜¯çŒœæµ‹é—®é¢˜å‘ç”Ÿçš„åŸå› ã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥è·Ÿè¸ªApolloå®¢æˆ·æœºçŠ¶æ€å¹¶æ£€æŸ¥GraphQLæŸ¥è¯¢çš„é”®å€¼å¯¹ã€‚</p><p>LogRocketæ£€æµ‹æ‚¨çš„åº”ç”¨ç¨‹åºä»¥è®°å½•åŸºçº¿æ€§èƒ½è®¡æ—¶ï¼Œå¦‚é¡µé¢åŠ è½½æ—¶é—´ã€åˆ°è¾¾ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æ—¶é—´ã€æ…¢é€Ÿç½‘ç»œè¯·æ±‚ï¼Œè¿˜è®°å½•Reduxã€NgRxå’ŒVuexæ“ä½œ/çŠ¶æ€ã€‚</p><a class="signup" href="https://lp.logrocket.com/blg/graphql-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a><p>.</p></div>


</div>
<a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer">Try it for free</a><p>.</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>