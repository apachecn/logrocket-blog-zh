<html>
<head>
<title>Building an Express-style API in Go with Fiber - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>ç”¨Fiber - LogRocketåšå®¢åœ¨Goä¸­æ„å»ºä¸€ä¸ªExpressé£æ ¼çš„API</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/express-style-api-go-fiber/#0001-01-01">https://blog.logrocket.com/express-style-api-go-fiber/#0001-01-01</a></blockquote><div><article class="article-post">
<h2>ä»‹ç»</h2>
<p>å¦‚æœä½ ç†Ÿæ‚‰<a href="https://expressjs.com/"> Express </a>ï¼Œä½ å¯èƒ½ä¼šè®¤å‡º<a href="https://gofiber.io/"> Fiber </a>çš„çµæ„Ÿæ¥æºäºç‰›é€¼çš„Node.jsæ¡†æ¶â€”â€”åªä¸è¿‡å®ƒæ˜¯ç”¨Goç¼–å†™çš„ã€‚ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>å—¯ï¼Œå› ä¸ºGoéå¸¸å¿«ï¼Œå ç”¨å†…å­˜å°‘ï¼Œå¯¹äºæ„å»ºå¯ä¼¸ç¼©çš„webæœåŠ¡å™¨å’Œåº”ç”¨ç¨‹åºæ¥è¯´æ€§èƒ½å¾ˆé«˜ã€‚</p>
<p>å…‰çº¤å……åˆ†åˆ©ç”¨äº†è¿™äº›æ€§èƒ½ä¼˜åŠ¿å’Œç‰¹æ€§ã€‚é¦–å…ˆï¼Œå®ƒåŸºäº<a href="https://github.com/valyala/fasthttp"> fasthttp </a>åŒ…ï¼Œè¿™æ˜¯Goç”Ÿæ€ç³»ç»Ÿä¸­æœ€å¿«çš„httpå®¢æˆ·ç«¯åº“ã€‚ä»<a href="https://github.com/valyala/fasthttp#http-server-performance-comparison-with-nethttp">åŸºå‡†æµ‹è¯•ç»“æœ</a>æ¥çœ‹ï¼Œfasthttpæ¯”<code>net/http</code> native Goå®¢æˆ·ç«¯åŒ…å¿«10å€ã€‚</p>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡ç ”ç©¶Fiberçš„ç‰¹æ€§å’Œç»„ä»¶æ¥æ¢ç´¢å®ƒï¼Œæ¯”å¦‚è·¯ç”±ã€ä¸­é—´ä»¶æ”¯æŒå’Œä¸Šä¸‹æ–‡ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¤Ÿåº”ç”¨è¿™äº›ç‰¹æ€§ï¼Œå¹¶æ„å»ºä¸€ä¸ªä¸æˆ‘ä»¬é€‰æ‹©çš„æ•°æ®åº“äº¤äº’çš„æ¼”ç¤ºåº”ç”¨ç¨‹åºã€‚</p>
<h2>å…ˆå†³æ¡ä»¶</h2>
<p>ä¸ºäº†å®¹æ˜“åœ°ç†è§£æœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬è‡³å°‘åº”è¯¥æœ‰Goç¼–ç¨‹è¯­è¨€çš„åŸºç¡€çŸ¥è¯†ã€‚äº†è§£ä¸€ç‚¹Expressä¹Ÿæ˜¯æœ‰ç›Šçš„ï¼Œå› ä¸ºè¿™æœ‰åŠ©äºä»ä½“ç³»ç»“æ„çš„è§’åº¦å¿«é€Ÿç†è§£çº¤ç¨‹ã€‚</p>
<p>æ­¤å¤–ï¼Œç¡®ä¿ä½ æœ‰ä½ é€‰æ‹©çš„æ“ä½œç³»ç»Ÿçš„Postgres.appä½ å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½ã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥ä¸ºPostgreså®‰è£…ä»»ä½•GUIå®¢æˆ·ç«¯ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Posticoï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½<a href="https://eggerapps.at/postico/"/>ã€‚</p>
<p>æœ€åï¼Œç¡®ä¿ä½ çš„æœºå™¨ä¸Šå®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„Goã€‚å¯ä»¥åœ¨<a href="https://golang.org/doc/install#install">æ–‡æ¡£</a>ä¸­æ‰¾åˆ°è¿™æ ·åšçš„è¯´æ˜ã€‚</p>
<p>åœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†ç®€å•åœ°è°ˆè°ˆçº¤ç»´èƒŒåçš„åŠ¨æœºã€‚æˆ‘ä»¬èµ°å§ã€‚</p>
<h2>Go FiberèƒŒåçš„åŠ¨æœº</h2>
<p>æ­£å¦‚æˆ‘ä»¬å‰é¢æåˆ°çš„ï¼ŒFiberçš„çµæ„Ÿæ¥è‡ªäºExpressï¼Œå¹¶é‡‡ç”¨äº†å‡ ä¹ç›¸åŒçš„è®¾è®¡å’Œæ€æƒ³ã€‚ä¾‹å¦‚ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•çš„å…‰çº¤åº”ç”¨ç¨‹åº:</p>
<pre>package main 

import "github.com/gofiber/fiber"

func main() { 
  // Fiber instance
  app := fiber.New()  

  // Routes
  app.Get("/", hello)

  // start server
  app.Listen(3000) 
}

  // Handler
  func hello(c *fiber.Ctx){
    c.send("Hello, world!")
  }

// Note: we can pass any other native listerner using the Serve method.</pre>
<p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å¿«é€Ÿåº”ç”¨ç¨‹åº:</p>
<pre>const express = require('express') 

// Express instance
const app = express()

// Routes
app.get('/', hello)

// Start server
app.listen(3000)

// Handler
function hello(req, res) { 
  res.send('hello world!')
})</pre>
<p>å°±åƒExpressä¸€æ ·ï¼Œä¸Šé¢è¿™ä¸ªç®€å•çš„Fiberåº”ç”¨ç¨‹åºåæ˜ äº†å¯åŠ¨ä¸€ä¸ªç®€å•æœåŠ¡å™¨æ‰€éœ€çš„æœ€ä½é™åº¦ã€‚ä¸€ä¸ªéå¸¸æœ‰è¶£çš„ç‰¹æ€§æ˜¯ä½¿ç”¨äº†fasthttp <code>RequestCtx</code> <a href="https://pkg.go.dev/github.com/valyala/fasthttp?tab=doc#RequestCtx">åŒ…</a>ï¼Œå®ƒä¸»è¦å¸®åŠ©å¤„ç†å¸¸è§„çš„httpè¯·æ±‚å’Œå“åº”ï¼Œä½¿ç”¨äº†æˆ‘ä»¬å·²ç»çŸ¥é“çš„æ‰€æœ‰æ–¹æ³•:<code>req.query</code>ã€<code>req.params</code>ã€<code>req.body</code>ç­‰ç­‰ã€‚</p>
<p>æ³¨æ„ï¼Œè¦åœ¨æˆ‘ä»¬çš„å¼€å‘æœºå™¨ä¸Šè¿è¡Œä¸Šé¢çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯ç¡®ä¿æˆ‘ä»¬å·²ç»å®‰è£…äº†Goã€‚ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­åˆ›å»ºä¸€ä¸ªæ–°çš„goæ¨¡å—:</p>
<pre>go init github.com/firebase007/go-rest-api</pre>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶â€”â€”å§‘ä¸”ç§°ä¹‹ä¸º<code>sample.go</code>ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„ä»£ç ç²˜è´´åˆ°æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„æ–‡ä»¶ä¸­ï¼Œå¹¶è¿è¡Œ<code>go run sample.go</code>å‘½ä»¤æ¥å¯åŠ¨æˆ‘ä»¬çš„ç¨‹åºã€‚è¾“å‡ºå¦‚ä¸‹æ‰€ç¤º:</p>
<pre><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e99b8c9d808788a988858c91">[emailÂ protected]</a> go-rest-api % go mod init github.com/firebase007/go-rest-api-with-fiber
go: creating new go.mod: module github.com/firebase007/go-rest-api-with-fiber
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="097b6c7d6067684968656c71">[emailÂ protected]</a> go-rest-api % go get -u github.com/gofiber/fiber                       
go: finding github.com/gofiber/fiber v1.9.6
go: downloading github.com/gofiber/fiber v1.9.6
go: extracting github.com/gofiber/fiber v1.9.6
go: updates to go.mod needed, but contents have changed
<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="790b1c0d1017183918151c01">[emailÂ protected]</a> go-rest-api % go run sample.go                                         
        _______ __
  ____ / ____(_) /_  ___  _____
_____ / /_  / / __ \/ _ \/ ___/
  __ / __/ / / /_/ /  __/ /
    /_/   /_/_.___/\___/_/ v1.9.6
Started listening on 0.0.0.0:3000</pre>
<blockquote><p><strong>æ³¨æ„</strong>:ä¸è¦å¿˜è®°å°†FiberåŒ…å¯¼å…¥åˆ°æˆ‘ä»¬çš„å·¥ä½œç©ºé—´ä¸­ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œ:</p>
<pre>go get -u github.com/gofiber/fiber</pre>
</blockquote>
<p>å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code>port 3000</code>ä¸Šè®¿é—®æˆ‘ä»¬çš„æµè§ˆå™¨ï¼ŒæŸ¥çœ‹æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ˜¯å¦æ­£å¸¸å·¥ä½œã€‚æµè§ˆå™¨å‘ˆç°å¦‚ä¸‹æ‰€ç¤ºçš„è¾“å‡º:</p>
<pre>Hello, World!</pre>
<p>è®°ä½å¯¼å…¥çº¤ç¨‹åŒ…åï¼Œ<code>app := fiber.New()</code>åŸºæœ¬ä¸Šè°ƒç”¨ä½äº<code>app.go</code>æ–‡ä»¶ä¸­çš„<code><a href="https://docs.gofiber.io/application#new">New</a></code>å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªå¯é€‰çš„<code><a href="https://docs.gofiber.io/application#settings">settings</a></code>æŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶å°†å®ƒä½œä¸ºå‚æ•°ä¼ é€’ç»™æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬è¿˜å¯ä»¥åœ¨è¿™ä¸€è¡Œä¸Šçœ‹çœ‹<code>newServer</code>æ–¹æ³•æ˜¯å¦‚ä½•åˆå§‹åŒ–<code>fasthttp</code>æœåŠ¡å™¨<a href="https://github.com/gofiber/fiber/blob/99f95b2561b89376ee83ab23a9a199e14e7ecf12/app.go#L150">çš„ã€‚</a></p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä½œä¸ºåœ¨Goä¸­æ„å»ºwebæœåŠ¡å™¨å’Œåº”ç”¨ç¨‹åºçš„æ¡†æ¶ï¼ŒFiberæ­£è¿…é€Ÿå˜å¾—éå¸¸æµè¡Œã€‚å®ƒé€æ¸ä»Goç¤¾åŒºå’Œå¼€å‘äººå‘˜é‚£é‡Œè·å¾—äº†å·¨å¤§çš„åŠ¨åŠ›å’Œå¸å¼•åŠ›ï¼ŒåŒ…æ‹¬ä»–ä»¬çš„APIï¼Œä»¥åŠå‘Goè¿ç§»çš„Node.jså¼€å‘äººå‘˜ã€‚</p>
<p>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œåˆ›å»ºä¸€ä¸ªç®€å•çš„Fiber appæ˜¯ç›¸å½“å®¹æ˜“å’Œå¿«é€Ÿçš„ï¼Œå°±åƒExpressä¸€æ ·ã€‚ç°åœ¨è®©æˆ‘ä»¬é€šè¿‡æ¢ç´¢Fiberçš„ä¸»è¦ç»„ä»¶ç‰¹æ€§ä»¥åŠå®ƒä»¬åœ¨Goä¸­æ˜¯å¦‚ä½•å®ç°çš„æ¥äº†è§£æ›´å¤šå…³äºFiberçš„çŸ¥è¯†ã€‚</p>
<h2>çº¤ç»´çš„æˆåˆ†ç‰¹å¾</h2>
<h3>æŒ‰æŒ‡å®šè·¯çº¿å‘é€</h3>
<p>å°±åƒExpressä¸€æ ·ï¼ŒFiberä¹Ÿé™„å¸¦äº†ä¸€ä¸ªé«˜æ€§èƒ½çš„è·¯ç”±å™¨ï¼Œå®ƒä¹ŸåƒExpressè·¯ç”±å™¨ä¸€æ ·ï¼Œæœ‰ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä¸ºæ¯ä¸ªåŒ¹é…æˆ‘ä»¬æœåŠ¡å™¨ä¸Šç‰¹å®šè·¯å¾„çš„è¯·æ±‚è¿è¡Œã€‚è®©æˆ‘ä»¬çœ‹çœ‹ç­¾å:</p>
<pre>// Function signature
app.Method(path string, ...func(*fiber.Ctx))</pre>
<p>æ³¨æ„ï¼Œ<code>Method</code>ä»£è¡¨å¸¸è§„çš„<a href="https://docs.gofiber.io/application#http-methods"> HTTPæ–¹æ³•</a> â€” <code>GET</code>ã€<code>POST</code>ã€<code>HEAD</code>ã€<code>PUT</code>ç­‰ç­‰ã€‚<code>Path</code>è¡¨ç¤ºæˆ‘ä»¬æƒ³è¦åŒ¹é…çš„è·¯ç”±ï¼Œ<code>...func(*fiber.Ctx)</code>è¡¨ç¤ºä¸ºè¯¥ç‰¹å®šè·¯ç”±è¿è¡Œçš„å¤„ç†ç¨‹åºæˆ–å›è°ƒã€‚åŒæ ·é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¸€ä¸ªç‰¹å®šçš„è·¯ç”±ä½¿ç”¨å¤šä¸ªå¤„ç†ç¨‹åºï¼Œè¿™ä¸»è¦åœ¨æˆ‘ä»¬æ‰“ç®—ä¸ºä»»ä½•ç›®çš„ä¼ é€’ä¸­é—´ä»¶å‡½æ•°æ—¶æœ‰ç”¨ã€‚</p>
<p>å’Œå¾€å¸¸ä¸€æ ·ï¼Œ<code>app</code>æ˜¯ä¸€ä¸ªFiber appçš„å®ä¾‹ã€‚ä¸ºäº†<a href="https://docs.gofiber.io/application#static">æœåŠ¡é™æ€æ–‡ä»¶</a>ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>app.Static()</code>æ–¹æ³•ã€‚æœ‰å…³å…‰çº¤å¸ƒçº¿çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§<a href="https://docs.gofiber.io/routing">æ–‡æ¡£</a>ã€‚å®ç°å¯ä»¥åœ¨<a href="https://github.com/gofiber/fiber/blob/master/router.go"> GitHub repo </a>ä¸­çš„<code>Layer.go</code>ã€<code>router.go</code>ã€<code>app.go</code>æ–‡ä»¶ä¸­æ‰¾åˆ°ã€‚</p>
<blockquote><p><strong>æ³¨æ„</strong>:æˆ‘ä»¬å¯ä»¥æŠŠä¸€æ¡è·¯çº¿æƒ³è±¡æˆä¸€ä¸ªå¤§çš„æœ‰åºåˆ‡ç‰‡ã€‚å½“è¯·æ±‚è¿›æ¥æ—¶ï¼Œç¬¬ä¸€ä¸ªåŒ¹é…æ–¹æ³•åã€è·¯å¾„å’Œæ¨¡å¼çš„å¤„ç†ç¨‹åºå°†è¢«æ‰§è¡Œã€‚æ­¤å¤–ï¼ŒåŸºäºåœ¨ä»»ä½•ç‰¹å®šæ—¶é—´åŒ¹é…çš„è·¯ç”±ï¼Œæˆ‘ä»¬å€¾å‘äºçŸ¥é“æ¥ä¸‹æ¥å°†æ‰§è¡Œå“ªä¸ªä¸­é—´ä»¶ã€‚</p></blockquote>
<h3>ä¸­é—´ä»¶æ”¯æŒ</h3>
<p>Fiberå·²ç»é™„å¸¦äº†ä¸€äº›é¢„æ„å»ºçš„ä¸­é—´ä»¶ã€‚æ¦‚æ‹¬åœ°è¯´ï¼Œä¸­é—´ä»¶æœ‰åŠ©äºåœ¨è¯·æ±‚åˆ°è¾¾ä¸»å¤„ç†å™¨æˆ–æ§åˆ¶å™¨ä¹‹å‰æ‹¦æˆªå’Œæ“çºµè¯·æ±‚ã€‚ä¸­é—´ä»¶åŠŸèƒ½åŸºæœ¬ä¸Šæ˜¯è¯·æ±‚å‘¨æœŸ/ä¸Šä¸‹æ–‡çš„ä¸€éƒ¨åˆ†ï¼Œé€šå¸¸ç”¨äºæ‰§è¡ŒæŸäº›åŠ¨ä½œã€‚</p>
<p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹GitHubä¸ŠGo Fiber<a href="https://github.com/gofiber/recipes">R</a>T3ã€‘ECI pes repoçš„ä¸€ä¸ªéå¸¸ç®€å•çš„ä¸­é—´ä»¶ç¤ºä¾‹:</p>
<pre>package main

import "github.com/gofiber/fiber"

// handler function 
func handler() func(*fiber.Ctx) {
        return func(c *fiber.Ctx) {
                <del>c.Send("This is a dummy route")
        }</del>
}

func main() {
        // Create new Fiber instance
        app := fiber.New()

        // Create new sample GET routes
        app.Get("/demo", handler())
        app.Get("/list", handler())

        // Last middleware to match anything
        app.Use(func(c *fiber.Ctx) {
                c.SendStatus(404) // =&gt; 404 "Not Found"
        })

        // Start server on http://localhost:3000
        app.Listen(3000)
}</pre>
<p>è¿™æ˜¯ä¸­é—´ä»¶çš„ä¸€ä¸ªéå¸¸ç®€å•çš„ç”¨æ³•ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä¸­é—´ä»¶æ£€æŸ¥ä¸æ³¨å†Œçš„è·¯ç”±ä¸åŒ¹é…çš„è·¯ç”±ã€‚å°±åƒExpressä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒæ˜¯æœ€åä¸€ä¸ªç”¨<code>app.Use()</code>æ–¹æ³•ä¸ºæˆ‘ä»¬çš„appæ³¨å†Œçš„ä¸œè¥¿ã€‚æ³¨æ„ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸Šå¯¼èˆªåˆ°ä¸æ˜¯<code>/demo</code>æˆ–<code>list</code>çš„è·¯çº¿ï¼Œæˆ‘ä»¬å°†å¾—åˆ°é”™è¯¯<code>Not Found</code>ã€‚</p>
<p>æ³¨å†Œä¸­é—´ä»¶è·¯ç”±çš„<code>Use</code>æ–¹æ³•çš„ç­¾åå¦‚ä¸‹æ‰€ç¤º:</p>
<pre>func (*fiber.App).Use(args ...interface{}) *fiber.App</pre>
<p>è¿™è¡¨ç¤ºä¸€ä¸ªFiberåº”ç”¨ç¨‹åºçš„å®ä¾‹ï¼Œå¸¦æœ‰æ¥å—ç©ºæ¥å£ä½œä¸ºå‚æ•°çš„<code>Use</code>æ–¹æ³•ã€‚åŒæ ·ï¼Œä¸­é—´ä»¶å°†åŒ¹é…ä»¥æ‰€æä¾›çš„å‰ç¼€å¼€å§‹çš„è¯·æ±‚ï¼Œå¦‚æœæ²¡æœ‰æä¾›å‰ç¼€ï¼Œåˆ™é»˜è®¤ä¸º<code>"/"</code>ã€‚æœ€åï¼Œåœ¨<a href="https://docs.gofiber.io/middleware">æ–‡æ¡£çš„è¿™ä¸€éƒ¨åˆ†</a>ä¸­è¿˜æœ‰è®¸å¤šå…¶ä»–çš„ä¸­é—´ä»¶åŠŸèƒ½ã€‚æ‚¨å¯ä»¥æŸ¥çœ‹å®ƒä»¬ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p>
<h3>è¯­å¢ƒ</h3>
<p>æ­£å¦‚æˆ‘ä»¬å‰é¢æåˆ°çš„ï¼Œä¸Šä¸‹æ–‡åŒ…å«HTTPè¯·æ±‚å’Œå“åº”ï¼Œä»¥åŠè¯·æ±‚æŸ¥è¯¢ã€å‚æ•°ã€ä¸»ä½“ç­‰æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥å¿«é€Ÿè”æƒ³åˆ°çš„æœ€åŸºæœ¬çš„ä¾‹å­æ˜¯ä½¿ç”¨<code><a href="https://docs.gofiber.io/context#body">Body</a></code>æ–¹æ³•â€”â€”å°±åƒæˆ‘ä»¬åœ¨Expressä¸­ä½¿ç”¨<code>req.body</code>ä¸€æ ·ã€‚</p>
<p>åœ¨çº¤ç¨‹ä¸­ï¼Œä¸Šä¸‹æ–‡<code>Body</code>æ–¹æ³•çš„ç­¾åå¦‚ä¸‹æ‰€ç¤º:</p>
<pre>c.Body() string // type string</pre>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ç”¨ä¾‹:</p>
<pre>// curl -X POST http://localhost:8080 -d user=john
app.Post("/", func(c *fiber.Ctx) {
// Get raw body from POST request
c.Body() // user=john
})</pre>
<p>å…³äºä¸Šä¸‹æ–‡åŒ…ä¸­å…¶ä»–å¯ç”¨æ–¹æ³•çš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨<a href="https://docs.gofiber.io/context">æ–‡æ¡£</a>ä¸­æ‰¾åˆ°ã€‚</p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»æ¢ç´¢äº†<code>routing</code>åœ¨Fiberä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜ç ”ç©¶äº†ä¸­é—´ä»¶æ”¯æŒå’Œä¸Šä¸‹æ–‡ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨æ‰€æœ‰è¿™äº›ç‰¹æ€§ï¼Œæ„å»ºä¸€ä¸ªä¸æ•°æ®åº“äº¤äº’çš„Fiberåº”ç”¨ç¨‹åºã€‚</p>
<h2>ç”¨çº¤ç¨‹æ„å»ºä¸€ä¸ªæ¼”ç¤ºåº”ç”¨</h2>
<p>åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢è‡ªå·±æ„å»ºå¯ä¼¸ç¼©çº¤ç¨‹åº”ç”¨ç¨‹åºçš„æ–¹æ³•ï¼Œå¹¶åœ¨æ­¤è¿‡ç¨‹ä¸­äº†è§£å¦‚ä½•å®ç°çº¤ç¨‹çš„æ ¸å¿ƒç‰¹æ€§ã€‚åœ¨è¿™ä¸ªæ¼”ç¤ºä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<code>pq</code>åŒ…ï¼Œå®ƒæ˜¯<code>database/sql</code>åŒ…çš„çº¯Go Postgresé©±åŠ¨ç¨‹åºã€‚æˆ‘ä»¬å¯ä»¥åœ¨Goçš„<a href="https://pkg.go.dev/github.com/lib/pq?tab=doc">åŒ…åº“</a>æŸ¥çœ‹ã€‚</p>
<p>æ­¤å¤–ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸¤ä¸ªä¸­é—´ä»¶åŒ…ï¼Œ<code>basicauth</code>å’Œ<code>logger</code>ï¼Œå®ƒä»¬æ˜¯Fiberæ”¯æŒçš„å†…ç½®ä¸­é—´ä»¶çš„ä¸€éƒ¨åˆ†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¸‹é¢çš„å‘½ä»¤åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„Goæ¨¡å—:</p>
<pre>go init github.com/firebase007/go-rest-api-with-fiber</pre>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥ç»§ç»­ä½¿ç”¨<code>go get</code>å‘½ä»¤å®‰è£…ä¸‹é¢çš„åŒ…ã€‚æœ€åï¼Œæˆ‘ä»¬çš„<code>go.mod</code>æ–‡ä»¶åº”è¯¥æ˜¯è¿™æ ·çš„:</p>
<pre>module github.com/firebase007/go-rest-api-with-fiber

go 1.13

require (
    github.com/gofiber/basicauth v0.0.3
    github.com/gofiber/fiber v1.9.6
    github.com/gofiber/logger v0.0.8
    github.com/joho/godotenv v1.3.0
    github.com/klauspost/compress v1.10.5 // indirect
    github.com/lib/pq v1.5.2
)</pre>
<p>ç°åœ¨æˆ‘ä»¬å‡†å¤‡å¼€å§‹æ–°çš„å…‰çº¤é¡¹ç›®ã€‚å¯¼èˆªåˆ°æˆ‘ä»¬çš„æ¨¡å—ç›®å½•åï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­åœ¨æ ¹è·¯å¾„ä¸­åˆ›å»ºä¸€ä¸ª<code>main.go</code>æ–‡ä»¶ã€‚å®ƒåº”è¯¥æ˜¯è¿™æ ·çš„:</p>
<pre>package main 

import (
"github.com/gofiber/fiber" // import the fiber package
"log"
"github.com/gofiber/fiber/middleware"
"github.com/firebase007/go-rest-api-with-fiber/database"
"github.com/firebase007/go-rest-api-with-fiber/router"

_ "github.com/lib/pq"
)

  // entry point to our program
func main() { 
  // Connect to database
  if err := database.Connect(); err != nil {
      log.Fatal(err)
    }

 // call the New() method - used to instantiate a new Fiber App
  app := fiber.New()

  // Middleware
  app.Use(middleware.Logger())

  router.SetupRoutes(app)

  // listen on port 3000
  app.Listen(3000) 

}</pre>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†å¯¼å…¥FiberåŒ…å’Œæˆ‘ä»¬åœ¨é¡¹ç›®ç›®å½•ä¸­åˆ›å»ºçš„å¦å¤–ä¸¤ä¸ªåŒ…:<code>router</code>å’Œ<code>database</code>ã€‚åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œè¿™é‡Œæ˜¯æˆ‘ä»¬çš„é¡¹ç›®ç›®å½•çš„æˆªå›¾:</p>
<figure id="attachment_19973" aria-describedby="caption-attachment-19973" class="wp-caption aligncenter"><img data-attachment-id="19973" data-permalink="https://blog.logrocket.com/express-style-api-go-fiber/api-folder-structure/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure.png" data-orig-size="300,783" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="API folder structure" data-image-description="" data-image-caption="&lt;p&gt;Folder structure for our API.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure-115x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure.png" decoding="async" class="size-full wp-image-19973 jetpack-lazy-image" src="../Images/178ff218cd3e015e271f9f9061aefd84.png" alt="Folder Structure For Our API" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure-115x300.png 115w" data-lazy-sizes="(max-width: 300px) 100vw, 300px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="19973" data-permalink="https://blog.logrocket.com/express-style-api-go-fiber/api-folder-structure/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure.png" data-orig-size="300,783" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="API folder structure" data-image-description="" data-image-caption="&lt;p&gt;Folder structure for our API.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure-115x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure.png" decoding="async" loading="lazy" class="size-full wp-image-19973" src="../Images/178ff218cd3e015e271f9f9061aefd84.png" alt="Folder Structure For Our API" srcset="https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure.png 300w, https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure-115x300.png 115w" sizes="(max-width: 300px) 100vw, 300px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/api-folder-structure.png"/></noscript><figcaption id="caption-attachment-19973" class="wp-caption-text">Folder structure for our API.</figcaption></figure>
<p>åœ¨<code>main</code>å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä»<code>database</code>åŒ…ä¸­å®ä¾‹åŒ–äº†<code>Connect</code>å‡½æ•°ã€‚æˆ‘ä»¬çš„æ•°æ®åº“åŒ…çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤º:</p>
<pre>package database
import (
    "database/sql"
    "fmt"
    "strconv"
    "github.com/firebase007/go-rest-api-with-fiber/config" 
)

// Database instance
var DB *sql.DB

// Connect function
func Connect() error {
    var err error
    p := config.Config("DB_PORT")
    // because our config function returns a string, we are parsing our str to int here 
    port,err := strconv.ParseUint(p, 10, 32) 
    if err != nil {
        fmt.Println("Error parsing str to int")
    }
    DB, err = sql.Open("postgres", fmt.Sprintf("host=%s port=%d user=%s password=%s dbname=%s sslmode=disable", config.Config("DB_HOST"), port, config.Config("DB_USER"), config.Config("DB_PASSWORD"), config.Config("DB_NAME")))

    if err != nil {
        return err
    }
    if err = DB.Ping(); err != nil {
        return err
    }
    CreateProductTable()
    fmt.Println("Connection Opened to Database")
    return nil
}</pre>
<p>å®ƒä½¿ç”¨<code>pg</code>é©±åŠ¨ç¨‹åºåŒ…å¯¼å‡ºä¸€ä¸ªè¿æ¥åˆ°æˆ‘ä»¬çš„SQLæ•°æ®åº“çš„æ–¹æ³•ã€‚æ³¨æ„ï¼Œåœ¨æˆ‘ä»¬æˆåŠŸè¿æ¥åˆ°æ•°æ®åº“ä¹‹åï¼Œæˆ‘ä»¬è°ƒç”¨äº†ä¸€ä¸ª<code>CreateProductTable()</code>å‡½æ•°ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒä¸ºæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ•°æ®åº“è¡¨ã€‚æ–‡ä»¶<code>schema.go</code>çš„å†…å®¹ä»ç„¶åœ¨æˆ‘ä»¬çš„æ•°æ®åº“åŒ…ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre>package database

// CreateProductTable ...
func CreateProductTable() {
    DB.Query(`CREATE TABLE IF NOT EXISTS products (
    id SERIAL PRIMARY KEY,
    amount integer,
    name text UNIQUE,
    description text,
    category text NOT NULL
)
`)
}</pre>
<p>æ³¨æ„ï¼Œè¿™ä¸ªå‡½æ•°æœ‰åŠ©äºåœ¨æˆ‘ä»¬çš„æ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªæ–°è¡¨(å¦‚æœå®ƒè¿˜ä¸å­˜åœ¨çš„è¯)ã€‚åœ¨æˆ‘ä»¬çš„æ•°æ®åº“æ–‡ä»¶çš„å‰é¢ï¼Œæˆ‘ä»¬å¯¼å…¥äº†<code>config</code>åŒ…ï¼Œå®ƒè´Ÿè´£æ ¹æ®å„è‡ªçš„é”®è¿”å›envå€¼ã€‚è¯¥æ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤º:</p>
<pre>package config

import (
    "github.com/joho/godotenv"
    "os"
    "fmt"
)

// Config func to get env value from key ---
func Config(key string) string{
    // load .env file
    err := godotenv.Load(".env")
    if err != nil {
        fmt.Print("Error loading .env file")
    }
    return os.Getenv(key)

}</pre>
<p><code>sample.env</code>æ–‡ä»¶åŒ…å«æˆ‘ä»¬çš„æ•°æ®åº“è¿æ¥æ‰€éœ€çš„ç§˜å¯†ï¼Œä»¥åŠæˆ‘ä»¬çš„basic-authä¸­é—´ä»¶åŒ…æ‰€éœ€çš„<code>username</code>å’Œ<code>password</code>ç§˜å¯†å¯†é’¥(ç”¨äºè®¤è¯æˆ‘ä»¬çš„è·¯ç”±)ã€‚ä½ å¯ä»¥åœ¨ä¸‹é¢çœ‹åˆ°å®ƒçš„å†…å®¹:</p>
<pre>DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=
DB_NAME=
USERNAME=
PASSWORD=</pre>
<p>åœ¨æˆ‘ä»¬å®Œæˆè®¾ç½®å¹¶è¿æ¥åˆ°æˆ‘ä»¬çš„æ•°æ®åº“ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä¹Ÿåœ¨å¯¼å…¥å¹¶åˆå§‹åŒ–æˆ‘ä»¬çš„<code>main</code>åŒ…ä¸­çš„<code>SetupRoutes</code>å‡½æ•°ã€‚è¯¥åŠŸèƒ½æœ‰åŠ©äºè®¾ç½®æˆ‘ä»¬çš„è·¯çº¿ã€‚<code>router</code>åŒ…çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤º:</p>
<pre>package router

import (
    "github.com/firebase007/go-rest-api-with-fiber/handler"
    "github.com/firebase007/go-rest-api-with-fiber/middleware"
    "github.com/gofiber/fiber"
)

// SetupRoutes func
func SetupRoutes (app *fiber.App) { 
    // Middleware
    api := app.Group("/api", logger.New(), middleware.AuthReq())  

    // routes
    api.Get("/", handler.GetAllProducts)
    api.Get("/:id", handler.GetSingleProduct)
    api.Post("/", handler.CreateProduct)
    api.Delete("/:id", handler.DeleteProduct)
}</pre>
<p>æ­£å¦‚æˆ‘ä»¬ä»ä¸Šé¢çš„åŒ…æ–‡ä»¶ä¸­çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬æ­£åœ¨å¯¼å…¥ä¸¤ä¸ªåŒ…:<code>handler</code>å’Œ<code>middleware</code>åŒ…ã€‚<code>middleware</code>åŒ…åŒ…å«ä¸€ä¸ª<code>AuthReq</code>å‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªbasic-authé…ç½®ã€‚åŒ…çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤º:</p>
<pre>package middleware
import (
    "github.com/gofiber/fiber"
    "github.com/gofiber/basicauth"
    "github.com/firebase007/go-rest-api-with-fiber/config"
)

// AuthReq middleware
func AuthReq() func(*fiber.Ctx) {
    cfg := basicauth.Config{
        Users: map[string]string{
          config.Config("USERNAME"): config.Config("PASSWORD"),
        },
      }
    err := basicauth.New(cfg);
    return err
}</pre>
<p>æ³¨æ„ï¼Œ<code>app.Group()</code>æ–¹æ³•ç”¨äºé€šè¿‡åˆ›å»ºä¸€ä¸ª<code>*Group</code>ç»“æ„æ¥å¯¹è·¯ç”±è¿›è¡Œåˆ†ç»„ã€‚ç­¾åå¦‚ä¸‹æ‰€ç¤º:</p>
<pre>app.Group(prefix string, handlers ...func(*Ctx)) *Group</pre>
<p>ä»ä¸Šé¢çš„routesæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬è¿˜è°ƒç”¨äº†æˆ‘ä»¬çš„<code>handler</code>åŒ…ï¼Œå®ƒåŒ…å«äº†å½“routeåŒ¹é…ä¸€ä¸ªé€‚å½“çš„è·¯å¾„æ—¶å°†è¢«è°ƒç”¨çš„å‡½æ•°ã€‚<code>handler</code>åŒ…çš„å†…å®¹å¦‚ä¸‹æ‰€ç¤º:</p>
<pre>package handler

import (
    "log"
    "database/sql"
    "github.com/gofiber/fiber"
    "github.com/firebase007/go-rest-api-with-fiber/model"
    "github.com/firebase007/go-rest-api-with-fiber/database"
)

// GetAllProducts from db
func GetAllProducts(c *fiber.Ctx) {
    // query product table in the database
    rows, err := database.DB.Query("SELECT name, description, category, amount FROM products order by name")
    if err != nil {
        c.Status(500).JSON(&amp;fiber.Map{
            "success": false,
            "error": err,
          })
        return
    }
    defer rows.Close()
    result := model.Products{}
    for rows.Next() {
        product := model.Product{}
        err := rows.Scan(&amp;product.Name, &amp;product.Description, &amp;product.Category, &amp;product.Amount)
        // Exit if we get an error
        if err != nil {
            c.Status(500).JSON(&amp;fiber.Map{
                "success": false,
                "error": err,
              })
            return
        }
        // Append Product to Products
        result.Products = append(result.Products, product)
    }
    // Return Products in JSON format
    if err := c.JSON(&amp;fiber.Map{
        "success": true,
        "product":  result,
        "message": "All product returned successfully",
      }); err != nil {
        c.Status(500).JSON(&amp;fiber.Map{
            "success": false,
            "message": err,
          })
        return
    }
}

// GetSingleProduct from db
func GetSingleProduct(c *fiber.Ctx) {
    id := c.Params("id")
    product := model.Product{}
    // query product database
    row, err := database.DB.Query("SELECT * FROM products WHERE id = $1", id)
    if err != nil {
        c.Status(500).JSON(&amp;fiber.Map{
            "success": false,
            "message": err,
          })
        return
    }
    defer row.Close()
    // iterate through the values of the row
    for row.Next() {
    switch err := row.Scan(&amp;id, &amp;product.Amount, &amp;product.Name, &amp;product.Description, &amp;product.Category ); err {
        case sql.ErrNoRows:
              log.Println("No rows were returned!")
              c.Status(500).JSON(&amp;fiber.Map{
                "success": false,
                "message": err,
              })
        case nil:
            log.Println(product.Name, product.Description, product.Category, product.Amount)
        default:
            //   panic(err)
              c.Status(500).JSON(&amp;fiber.Map{
                "success": false,
                "message": err,
              })
    }
}

    // return product in JSON format
    if err := c.JSON(&amp;fiber.Map{
        "success": false,
        "message": "Successfully fetched product",
        "product": product,
      }); err != nil {
        c.Status(500).JSON(&amp;fiber.Map{
            "success": false,
            "message":  err,
          })
        return
    }

}

// CreateProduct handler
func CreateProduct(c *fiber.Ctx) {
    // Instantiate new Product struct
    p := new(model.Product)
    //  Parse body into product struct
    if err := c.BodyParser(p); err != nil {
        log.Println(err)
        c.Status(400).JSON(&amp;fiber.Map{
            "success": false,
            "message": err,
          })
        return
    }
    // Insert Product into database
    res, err := database.DB.Query("INSERT INTO products (name, description, category, amount) VALUES ($1, $2, $3, $4)" , p.Name, p.Description, p.Category, p.Amount )
    if err != nil {
        c.Status(500).JSON(&amp;fiber.Map{
            "success": false,
            "message": err,
          })
        return
    }
    // Print result
    log.Println(res)

    // Return Product in JSON format
    if err := c.JSON(&amp;fiber.Map{
        "success": true,
        "message": "Product successfully created",
        "product": p,
      }); err != nil {
        c.Status(500).JSON(&amp;fiber.Map{
            "success": false,
            "message":  "Error creating product",
          })
        return
    }
}

// DeleteProduct from db 
func DeleteProduct(c *fiber.Ctx) {
        id := c.Params("id")
        // query product table in database
        res, err := database.DB.Query("DELETE FROM products WHERE id = $1", id)
        if err != nil {
            c.Status(500).JSON(&amp;fiber.Map{
                "success": false,
                "error": err,
              })
            return
        }
        // Print result
        log.Println(res)
        // return product in JSON format
        if err := c.JSON(&amp;fiber.Map{
            "success": true,
            "message": "product deleted successfully",
          }); err != nil {
            c.Status(500).JSON(&amp;fiber.Map{
                "success": false,
                "error": err,
              })
            return
        }
}</pre>
<p>æˆ‘ä»¬ä¹Ÿä»ä¸Šé¢çš„<code>handler</code>åŒ…ä¸­å¯¼å…¥æˆ‘ä»¬çš„<code>database</code>å’Œ<code>model</code>åŒ…ã€‚éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼ŒFiberé™„å¸¦äº†<code>fiber.Map()</code>æ–¹æ³•ï¼Œè¿™åŸºæœ¬ä¸Šæ˜¯<code>map[string]interface{}</code>çš„æ·å¾„ã€‚å…³äºè¯¥é¡¹ç›®çš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨<a href="https://github.com/firebase007/go-rest-api-with-fiber"> GitHub repo </a>ä¸Šæ‰¾åˆ°ã€‚</p>
<p>è¦å¯åŠ¨APIï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œ<code>go run main.go</code>ã€‚æ­¤å¤–ï¼Œå¦‚æœæ‚¨æ‰“ç®—å°è¯•æˆ‘ä»¬APIçš„ç«¯ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ª<a href="https://www.getpostman.com/collections/72bda22b880bdce64276"> POSTMANé›†åˆ</a>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä½¿ç”¨POSTMANåˆ›å»ºæ–°äº§å“å¦‚ä¸‹æ‰€ç¤º:</p>
<figure id="attachment_19975" aria-describedby="caption-attachment-19975" class="wp-caption aligncenter"><img data-attachment-id="19975" data-permalink="https://blog.logrocket.com/express-style-api-go-fiber/creating-product-postman/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman.png" data-orig-size="730,473" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Creating a new product" data-image-description="" data-image-caption="&lt;p&gt;Creating a new product from POSTMAN.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman-300x194.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman.png" decoding="async" class="size-full wp-image-19975 jetpack-lazy-image" src="../Images/0debc5dbabdb922425788c294ce0ee1a.png" alt="Creating A New Product From POSTMAN" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman-300x194.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="19975" data-permalink="https://blog.logrocket.com/express-style-api-go-fiber/creating-product-postman/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman.png" data-orig-size="730,473" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Creating a new product" data-image-description="" data-image-caption="&lt;p&gt;Creating a new product from POSTMAN.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman-300x194.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman.png" decoding="async" loading="lazy" class="size-full wp-image-19975" src="../Images/0debc5dbabdb922425788c294ce0ee1a.png" alt="Creating A New Product From POSTMAN" srcset="https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman-300x194.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/creating-product-postman.png"/></noscript><figcaption id="caption-attachment-19975" class="wp-caption-text">Creating a new product from POSTMAN.</figcaption></figure>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨Posticoå¯è§†åŒ–æˆ‘ä»¬çš„æ•°æ®åº“è®°å½•å’Œæ–°åˆ›å»ºçš„äº§å“ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<figure id="attachment_19977" aria-describedby="caption-attachment-19977" class="wp-caption aligncenter"><img data-attachment-id="19977" data-permalink="https://blog.logrocket.com/express-style-api-go-fiber/showing-db-records/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records.png" data-orig-size="730,426" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Showing our DB records" data-image-description="" data-image-caption="&lt;p&gt;Showing our DB records with Postico.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records.png" decoding="async" class="size-full wp-image-19977 jetpack-lazy-image" src="../Images/d1b118667525041f58cc0deeaea67d8c.png" alt="Showing Our Database Records With Postico" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records-300x175.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="19977" data-permalink="https://blog.logrocket.com/express-style-api-go-fiber/showing-db-records/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records.png" data-orig-size="730,426" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Showing our DB records" data-image-description="" data-image-caption="&lt;p&gt;Showing our DB records with Postico.&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records.png" decoding="async" loading="lazy" class="size-full wp-image-19977" src="../Images/d1b118667525041f58cc0deeaea67d8c.png" alt="Showing Our Database Records With Postico" srcset="https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records.png 730w, https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records-300x175.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2020/06/showing-db-records.png"/></noscript><figcaption id="caption-attachment-19977" class="wp-caption-text">Showing our DB records with Postico.</figcaption></figure>
<h2>ç»“è®º</h2>
<p>éšç€Goå¼€å‘äººå‘˜å’ŒNode.jså¼€å‘äººå‘˜å°†Goä½œä¸ºä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼ŒFiberæ­£åœ¨è·å¾—ä¸€äº›åšå®çš„åŠ¨åŠ›ï¼Œå¹¶æ‰¾åˆ°äº†ç‰µå¼•åŠ›ã€‚</p>
<p>æ­£å¦‚æˆ‘ä»¬æ‰€è§ï¼ŒFiberéå¸¸å®¹æ˜“ä½¿ç”¨ï¼Œå°±åƒExpressä¸€æ ·ã€‚å®ƒè¿˜é™„å¸¦äº†fasthttpæ–¹æ³•ï¼Œè¿™ä½¿å®ƒåœ¨æ€§èƒ½æ–¹é¢å…·æœ‰ä¼˜åŠ¿ã€‚æˆ‘ä»¬è¿˜æ¢è®¨äº†Fiberçš„ä¸€äº›æœ€é‡è¦çš„ç‰¹æ€§ï¼ŒåŒ…æ‹¬å¯¹ä¸­é—´ä»¶(åŒ…æ‹¬ç¬¬ä¸‰æ–¹)çš„æ”¯æŒï¼Œå°±åƒExpressä¸€æ ·ã€‚</p>
<p>æœ€åï¼ŒFiberé’ˆå¯¹Goçš„é«˜é€Ÿåç«¯APIå¼€å‘è¿›è¡Œäº†ä¼˜åŒ–ã€‚å®ƒæ”¯æŒ<a href="https://docs.gofiber.io/#static-files">é™æ€æ–‡ä»¶</a>ã€ä¸€ä¸ª<a href="https://docs.gofiber.io/application#settings">å‰ç½®åŠŸèƒ½</a>è®¾ç½®ã€<a href="https://docs.gofiber.io/middleware#template">æ¨¡æ¿å¼•æ“</a>ã€<a href="https://docs.gofiber.io/middleware#websocket"> WebSockets </a>ã€<a href="https://docs.gofiber.io/application#test">æµ‹è¯•</a>ç­‰ç­‰ã€‚<a href="https://docs.gofiber.io/">æ–‡æ¡£</a>æ˜¯æ£€éªŒè¿™äº›ä»¤äººæ•¬ç•çš„ç‰¹æ€§çš„æœ€ä½³åœ°æ–¹ã€‚</p>
<p>å†æ¬¡æ„Ÿè°¢ï¼Œå¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·é€šè¿‡<a href="https://twitter.com/alex_nnakwue"> Twitter </a>è”ç³»æˆ‘ï¼Œæˆ–è€…ä½¿ç”¨ä¸‹é¢çš„è¯„è®ºæ¡†ã€‚æˆ‘å¾ˆä¹æ„å›ç­”è¿™äº›é—®é¢˜ã€‚ğŸ™‚</p><div class="code-block code-block-2">
<div class="blog-plug base-cta"><h2>ä½¿ç”¨<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ¶ˆé™¤ä¼ ç»Ÿé”™è¯¯æŠ¥å‘Šçš„å¹²æ‰°</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ˜¯ä¸€ä¸ªæ•°å­—ä½“éªŒåˆ†æè§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªå‡é˜³æ€§é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å‡ ä¸ªçœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocketä¼šå‘Šè¯‰æ‚¨åº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„bugå’ŒUXé—®é¢˜ã€‚</p>
<p>ç„¶åï¼Œä½¿ç”¨å…·æœ‰æ·±å±‚æŠ€æœ¯é¥æµ‹çš„ä¼šè¯é‡æ”¾æ¥ç¡®åˆ‡åœ°æŸ¥çœ‹ç”¨æˆ·çœ‹åˆ°äº†ä»€ä¹ˆä»¥åŠæ˜¯ä»€ä¹ˆå¯¼è‡´äº†é—®é¢˜ï¼Œå°±åƒä½ åœ¨ä»–ä»¬èº«åçœ‹ä¸€æ ·ã€‚</p>
<p>LogRocketè‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€JSå¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶åLogRocketä½¿ç”¨æœºå™¨å­¦ä¹ æ¥å‘Šè¯‰ä½ å“ªäº›é—®é¢˜æ­£åœ¨å½±å“å¤§å¤šæ•°ç”¨æˆ·ï¼Œå¹¶æä¾›ä½ éœ€è¦ä¿®å¤å®ƒçš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>å…³æ³¨é‡è¦çš„bugâ€”<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">ä»Šå¤©å°±è¯•è¯•LogRocketã€‘ã€‚</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>