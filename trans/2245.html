<html>
<head>
<title>Testing TypeScript apps using Jest - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>ä½¿ç”¨ Jest - LogRocket åšå®¢æµ‹è¯• TypeScript åº”ç”¨ç¨‹åº</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/testing-typescript-apps-using-jest/#0001-01-01">https://blog.logrocket.com/testing-typescript-apps-using-jest/#0001-01-01</a></blockquote><div><article class="article-post">
<p>æµ‹è¯•ï¼Œæµ‹è¯•ï¼Œä¸€ï¼ŒäºŒï¼Œä¸‰â€¦ğŸ¤</p>
<p>æµ‹è¯•æ˜¯è½¯ä»¶å·¥ç¨‹çš„ä¸€ä¸ªé‡è¦æ–¹é¢ã€‚åœ¨æµ‹è¯•æœŸé—´ï¼Œæˆ‘ä»¬ç¡®å®šåº”ç”¨ç¨‹åºçš„æœŸæœ›å’Œæµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶æ£€æŸ¥å®ƒä»¬æ˜¯å¦å¾—åˆ°æ»¡è¶³ã€‚</p>
<p>JavaScript æœ‰å¾ˆå¤šå¯ç”¨çš„æµ‹è¯•æ¡†æ¶ï¼Œå¯ä»¥è·¨ç”¨ Reactã€Angularã€Node.js å’Œ TypeScript å¼€å‘çš„é¡¹ç›®ä½¿ç”¨ï¼›ä½†æ˜¯ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ç‰¹åˆ«å…³æ³¨ä¸€ä¸ªå«åš<a href="https://jestjs.io/" target="_blank" rel="noopener"> Jest </a>çš„æµ‹è¯•æ¡†æ¶ã€‚</p>
<p>Jest æ˜¯ä¸€ä¸ªç®€å•çš„è½»é‡çº§æµ‹è¯•æ¡†æ¶ï¼Œä¸º JavaScript å’Œ TypeScript é¡¹ç›®æä¾›äº†å¤šç§æµ‹è¯•åŠŸèƒ½ã€‚å®ƒæä¾›äº†æ–­è¨€ã€å˜²è®½ã€é—´è°ã€å¹¶è¡Œè¿è¡Œæµ‹è¯•ã€å¤±è´¥æµ‹è¯•ä¼˜å…ˆçº§æ’åºå’Œè¦†ç›–åˆ†æç­‰åŠŸèƒ½ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å®ç° Jest å¿…é¡»æä¾›çš„ä¸€äº›åŠŸèƒ½ã€‚</p>
<h2>å…ˆå†³æ¡ä»¶</h2>
<p>ä¸ºäº†å±•ç¤º Jest çš„æµ‹è¯•èƒ½åŠ›ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥å‰çš„ LogRocket æ–‡ç« ä¸­çš„é¡¹ç›®ï¼Œæ ‡é¢˜ä¸ºä½¿ç”¨ Sequelize å’Œ TypeScript ã€‚</p>
<p>è¦ç»§ç»­å­¦ä¹ ï¼Œæ‚¨éœ€è¦å®‰è£…:</p>

<p>ä¸€æ—¦æˆ‘ä»¬å®‰è£…äº†æ‰€æœ‰è¿™äº›ï¼Œæˆ‘ä»¬å°†é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å…‹éš†æˆ‘ä»¬çš„<a href="https://github.com/ibywaks/cookbook" target="_blank" rel="noopener">ç±»å‹è„šæœ¬/åºåˆ—é¡¹ç›®</a>:</p>
<pre class="language-bash hljs">$ git clone <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="482f213c082f213c203d2a662b2725">[emailÂ protected]</a>:ibywaks/cookbook.git 
</pre>
<p>æ—¢ç„¶æˆ‘ä»¬å·²ç»å…‹éš†äº†æˆ‘ä»¬çš„<a href="https://blog.logrocket.com/tag/typescript" target="_blank" rel="noopener"> TypeScript é¡¹ç›®</a>ï¼Œæˆ‘ä»¬å°†æ·»åŠ å’Œé…ç½®æˆ‘ä»¬çš„æµ‹è¯•æ¡†æ¶ã€‚</p>
<h2>è®¾ç½®æˆ‘ä»¬çš„æµ‹è¯•ä¾èµ–é¡¹</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†å®‰è£…æµ‹è¯•åº“ä½œä¸ºå¼€å‘ä¾èµ–é¡¹ã€‚</p>
<pre class="language-bash hljs">$ yarn add -D jest @types/jest ts-jest
</pre>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€šè¿‡åˆ›å»ºä¸€ä¸ªåä¸º<code>jest.config.ts</code>çš„æ–‡ä»¶å¹¶å‘å…¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹æ¥ä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºé…ç½® Jest:</p>
<pre class="language-typescript hljs"># jest.config.ts

import type {Config} from '@jest/types';
// Sync object
const config: Config.InitialOptions = {
  verbose: true,
  transform: {
  â€˜^.+\\.tsx?$â€™: â€˜ts-jestâ€™,
  },
};
export default config;
</pre>
<p>æ ¹æ®æ‚¨çš„åå¥½ï¼Œè¿˜æœ‰å…¶ä»–å‡ ä¸ªé…ç½® Jest çš„é€‰é¡¹ï¼Œæ¯”å¦‚è¿è¡Œ<code>jest --init</code>åˆ›å»ºä¸€ä¸ªå¸¦æœ‰é»˜è®¤é…ç½®çš„<code>jest.config.js</code>æ–‡ä»¶ï¼Œæˆ–è€…åœ¨<code>package.json</code>ä¸­æ·»åŠ é…ç½®ã€‚<a href="https://jestjs.io/docs/configuration" target="_blank" rel="noopener"> Jest </a> <a href="https://jestjs.io/docs/configuration" target="_blank" rel="noopener">æ”¯æŒå¾ˆå¤šé…ç½®é€‰é¡¹</a>ï¼Œä½†æ˜¯å¯¹ä½ é€‰æ‹©çš„ä»»ä½•é…ç½®é€‰é¡¹éƒ½æ²¡æœ‰é¢å¤–çš„å¥½å¤„ã€‚</p>
<p>æˆ‘ä»¬è¿˜å°†åœ¨<code>package.json</code>æ–‡ä»¶çš„è„šæœ¬éƒ¨åˆ†æ·»åŠ ä¸€ä¸ª Yarn å‘½ä»¤æ¥è¿è¡Œæˆ‘ä»¬çš„æµ‹è¯•ã€‚</p>
<pre class="language-typescript hljs"># package.json

{
  "name": "cookbook",
  "version": "1.0.0",
  "description": "A simple recipe app using typescript and sequelize",
  "main": "dist/index.js",
  "scripts": {
    "test": "jest",
    ...
</pre>
<p>æ—¢ç„¶æˆ‘ä»¬å·²ç»é…ç½®äº† Jest åº“ï¼Œæˆ‘ä»¬å°†ä¸ºæˆ‘ä»¬çš„æµ‹è¯•å®šä¹‰ä¸€äº›ç»“æ„ã€‚</p>
<h2>è®¾ç½®æˆ‘ä»¬çš„é¡¹ç›®æµ‹è¯•ç»“æ„</h2>
<p>å¯¹äºæˆ‘ä»¬çš„é¡¹ç›®ï¼Œæˆ‘ä»¬å°†å…³æ³¨ä¸¤ç§ç±»å‹çš„åŠŸèƒ½æµ‹è¯•:</p>
<ul>
<li>é›†æˆæµ‹è¯•â€”â€”è¿™äº›æµ‹è¯•ä¾§é‡äºæˆ‘ä»¬çš„åº”ç”¨ç»„ä»¶å¦‚ä½•ç›¸äº’äº¤äº’ä»¥å®ç°é¢„æœŸç»“æœï¼Œå³æˆ‘ä»¬æµ‹è¯•æœåŠ¡ã€è·¯ç”±å’Œæ•°æ®è®¿é—®å±‚(dal)çš„ç»“æœ</li>
<li>å•å…ƒæµ‹è¯•â€”â€”è¿™äº›æµ‹è¯•å…³æ³¨ç‰¹å®šç»„ä»¶çš„åŠ¨ä½œï¼Œè€Œä¸å…³æ³¨å®ƒæ‰€å¼•ç”¨çš„å…¶ä»–ç»„ä»¶ï¼Œä¾‹å¦‚ï¼Œæ¨¡ä»¿å¤–éƒ¨ç»„ä»¶ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ç‹¬ç«‹æµ‹è¯•ç»„ä»¶</li>
</ul>
<p>åŠŸèƒ½æµ‹è¯•å…³æ³¨åº”ç”¨ç¨‹åºçš„åŠŸèƒ½å’Œç»“æœã€‚è¿˜æœ‰ä¸€äº›éåŠŸèƒ½æ€§æµ‹è¯•ï¼Œå…³æ³¨æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„å„ä¸ªæ–¹é¢ï¼Œå¦‚æ€§èƒ½ã€è´Ÿè½½æµ‹è¯•ã€æ­£å¸¸è¿è¡Œæ—¶é—´ç­‰ã€‚â€”ä½†æ˜¯è¿™äº›ä¸åŒ…æ‹¬åœ¨ Jest çš„èŒƒå›´å†…ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è¿™é‡Œä¸æ¶‰åŠå®ƒä»¬ã€‚</p>
<p>è®©æˆ‘ä»¬ç”¨é›†æˆæµ‹è¯•å’Œå•å…ƒæµ‹è¯•çš„æ–‡ä»¶å¤¹åˆ›å»ºæˆ‘ä»¬çš„<code>tests</code>ç›®å½•ã€‚</p>
<pre class="language-plaintext hljs">/tests
  /integration
  /unit
</pre>
<h2>å®ç° Jest çš„æ¦‚å¿µå’Œæµ‹è¯•åŠŸèƒ½</h2>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»ä¸ºæˆ‘ä»¬çš„æµ‹è¯•åˆ›å»ºäº†ä¸€ä¸ªç»“æ„ï¼Œæˆ‘ä»¬å°†ä»”ç»†æ£€æŸ¥å¯ç”¨çš„ Jest æ¦‚å¿µï¼Œä»¥åŠå¦‚ä½•åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ä½¿ç”¨å®ƒä»¬ã€‚</p>
<h3>å®‰è£…å’Œæ‹†å¸</h3>
<p>è¿™æ˜¯æŒ‡æˆ‘ä»¬éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä»¥ä¾¿è®©æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¤„äºå¿…è¦çš„æµ‹è¯•çŠ¶æ€ï¼Œä¾‹å¦‚å¡«å……æˆ–æ¸…é™¤è¡¨æ ¼ã€‚Jest æä¾›äº†é€šè¿‡<code>beforeAll</code>ã€<code>beforeEach</code>ã€<code>afterAll</code>å’Œ<code>afterEach</code>ç­‰å‡½æ•°æ‰§è¡Œè¿™äº›ä»»åŠ¡çš„èƒ½åŠ›ã€‚</p>
<p>é¡¾åæ€ä¹‰ï¼Œ<code>beforeAll</code>å’Œ<code>afterAll</code>åœ¨ç‰¹å®šèŒƒå›´å†…çš„å…¶ä»–æµ‹è¯•è¿è¡Œä¹‹å‰å’Œä¹‹åè¿è¡Œä¸€äº›ä»»åŠ¡ï¼Œè€Œ<code>beforeEach</code>å’Œ<code>afterEach</code>åœ¨å…¶èŒƒå›´å†…çš„æ¯ä¸ªæµ‹è¯•ä¹‹å‰å’Œä¹‹åè¿è¡Œä»»åŠ¡ã€‚</p>
<p>è¿™é‡Œçš„â€œèŒƒå›´â€æŒ‡çš„æ˜¯è¿™äº›å‡½æ•°å½±å“çš„æµ‹è¯•éƒ¨åˆ†â€”â€”ä¾‹å¦‚ï¼Œå½“åœ¨å®šä¹‰äº†ä¸€ç»„ç›¸å…³æµ‹è¯•çš„<code>describe</code>å—ä¸­è°ƒç”¨<code>beforeAll</code>æ—¶ï¼Œå®ƒé€‚ç”¨äºè¯¥å—ä¸­çš„æ‰€æœ‰æµ‹è¯•ã€‚</p>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸ºæˆ‘ä»¬çš„<code>Ingredient</code> DAL ç¼–å†™æµ‹è¯•æ¥æµ‹è¯•è¿™ä¸€ç‚¹ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬æˆªæ–­äº†æˆ‘ä»¬çš„<code>Ingredient</code>è¡¨ï¼Œå¹¶åœ¨è¿è¡Œæ‰€æœ‰æµ‹è¯•ä¹‹å‰ä¸ºæˆ‘ä»¬çš„æµ‹è¯•åˆ›å»ºäº†ä¸€äº›éœ€è¦å®ƒä»¬çš„<code>Ingredient</code>è¡¨æ¡ç›®ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†åœ¨<code>tests/integrations</code>ä¸­åˆ›å»ºä¸€ä¸ª<code>dal</code>ç›®å½•ï¼Œç„¶åæ·»åŠ æˆ‘ä»¬çš„æµ‹è¯•æ–‡ä»¶<code>ingredient.test.ts</code>ã€‚</p>
<pre class="language-typescript hljs"># tests/integration/dal/ingredient.test.ts

import {Ingredient} from '../../../src/db/models'
import * as ingredientDal from '../../../src/db/dal/ingredient'

const dbTeardown = async () =&gt; {
    await Ingredient.sequelize?.query("SET FOREIGN_KEY_CHECKS = 0")
    await Ingredient.truncate({force: true})
    await Ingredient.sequelize?.query("SET FOREIGN_KEY_CHECKS = 1")
}

describe('Ingredient DAL', () =&gt; {
    let ingredientId: number
    beforeAll(async () =&gt; {
        await dbTeardown()
        ;({id: ingredientId} = await Ingredient.create({
            name: 'Beans',
            slug: 'beans',
        }))
    })
    afterAll(async () =&gt; {
        await dbTeardown()
    })

    describe('Create method', () =&gt; {
        it('should create and return an object of ingredient details', async () =&gt; {
            const payload = {
                name: 'Pasta',
                slug: 'pasta',
                description: 'abcd make some pasta'
            }

            const ingredient = await ingredientDal.create(payload)
            expect(ingredient).not.toBeNull()
        })
    })

    describe('findOrCreate method', () =&gt; {
        beforeAll(async () =&gt; {
            await Ingredient.create({
                name: 'Brown Rice',
                slug: 'brown-rice'
            })
        })
        it('should create a new entry when none with matching name exists', async () =&gt; {
            const payload = {
                name: 'Rice',
                slug: 'rice',
            }
            await ingredientDal.findOrCreate(payload)
            const ingredientsFound = await Ingredient.findAll({where: {name: 'Rice'}})
            expect(ingredientsFound.length).toEqual(1)
        })
        it('should return an existing entry where one with same name exists without updating it', async () =&gt; {
            const payload = {
                name: 'Brown Rice',
                slug: 'brownrice',
                description: 'test'
            }
            await ingredientDal.findOrCreate(payload)
            const ingredientsFound = await Ingredient.findAll({where: {name: 'Brown Rice'}})

            expect(ingredientsFound.length).toEqual(1)
            expect(ingredientsFound[0].slug).toEqual('brown-rice')
            expect(ingredientsFound[0].description).toBeNull()
        })
    })

    describe('Update method', () =&gt; {
        it('should update a specific existing Ingredient entry', async () =&gt; {
            await ingredientDal.update(ingredientId, {
                description: 'A legume'
            })
            const ingredient = await Ingredient.findByPk(ingredientId)
            expect(ingredient?.description).toEqual('A legume')
        })
    })
})
</pre>
<p>åœ¨æˆ‘ä»¬ä¸Šé¢çš„æˆåˆ† DAL æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†å‡½æ•°<code>dbTeardown</code>ï¼Œæˆ‘ä»¬åœ¨æ ¹<code>describe</code>çš„<code>beforeAll</code>å’Œ<code>afterAll</code>ä¸­è°ƒç”¨å®ƒã€‚è¿™æ„å‘³ç€å®ƒå°†åœ¨æ‰€æœ‰æµ‹è¯•æ‰§è¡Œä¹‹å‰è¿è¡Œï¼Œå¹¶åœ¨æ‰€æœ‰æµ‹è¯•æ‰§è¡Œä¹‹åå†æ¬¡è¿è¡Œã€‚</p>
<p>æˆ‘ä»¬å¿…é¡»è€ƒè™‘åˆ°æˆ‘ä»¬çš„ä¸€äº›æµ‹è¯•å°†è¦†ç›–åœ¨æˆ‘ä»¬çš„æ•°æ®åº“ä¸Šè¿è¡ŒæŸ¥è¯¢çš„æ–¹æ³•ã€‚ä¸ºäº†é˜²æ­¢æ‰­æ›²ç”Ÿäº§æˆ–å¼€å‘æ•°æ®ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨å•ç‹¬çš„æ•°æ®åº“ä¸“é—¨ç”¨äºæµ‹è¯•ã€‚</p>
<p>åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨æˆ‘ä»¬çš„<code>.env</code>ä¸­å®šä¹‰ä¸€ä¸ªåä¸º<code>TEST_DB_NAME</code>çš„å˜é‡æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬åœ¨æµ‹è¯•è¿è¡ŒæœŸé—´å°†è¿™ä¸ªå˜é‡ä¼ é€’ç»™æˆ‘ä»¬çš„ Sequelize å®ä¾‹ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-typescript hljs"># src/db/config.ts

require('dotenv').config()

import { Dialect, Sequelize } from 'sequelize'

const isTest = process.env.NODE_ENV === 'test'

const dbName = isTest 
                  ? process.env.TEST_DB_NAME as string 
                  : process.env.DB_NAME as string
const dbUser = process.env.DB_USER as string
const dbHost = process.env.DB_HOST
const dbDriver = process.env.DB_DRIVER as Dialect
const dbPassword = process.env.DB_PASSWORD

const sequelizeConnection = new Sequelize(dbName, dbUser, dbPassword, {
  host: dbHost,
  dialect: dbDriver,
  logging: false,
})

export default sequelizeConnection
</pre>
<p>æ³¨æ„ï¼ŒJest åœ¨æµ‹è¯•æ‰§è¡ŒæœŸé—´å°†ç¯å¢ƒå˜é‡<code>NODE_ENV</code>è®¾ç½®ä¸ºå€¼<code>'``test``'</code>ã€‚</p><div class="code-block code-block-54">
<hr/>
<h3>æ›´å¤šæ¥è‡ª LogRocket çš„ç²¾å½©æ–‡ç« :</h3>

<hr/></div>
<h2>åœ¨ç©ç¬‘ä¸­ç†è§£åª’äºº</h2>
<p><a href="https://jestjs.io/docs/using-matchers" target="_blank" rel="noopener">åŒ¹é…å™¨</a>æ˜¯ Jest çš„å‡½æ•°ï¼Œç”¨äºæµ‹è¯•æˆ‘ä»¬çš„æµ‹è¯•ä¸­äº§ç”Ÿçš„å€¼ã€‚é¦–å…ˆï¼Œè¿™æŒ‡çš„æ˜¯æˆ‘ä»¬é™„åŠ åˆ°<code>expect()</code>çš„å‡½æ•°ï¼Œæ¯”å¦‚<code>toEqual</code>å’Œ<code>toBeNull</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨<code>ingredient.test.ts</code>ä¸­ï¼Œæˆ‘ä»¬ç¼–å†™äº†è¦†ç›–<code>findOrCreate</code>æ–¹æ³•çš„æµ‹è¯•ï¼Œæˆ‘ä»¬æœŸæœ›å®ƒè¿”å›ä¸€ä¸ªåŒåçš„ç°æœ‰æ¡ç›®ï¼Œè€Œä¸æ›´æ–°å®ƒã€‚</p>
<pre class="language-typescript hljs"># tests/integration/dal/ingredient.test.ts

describe('findOrCreate method', () =&gt; {
        beforeAll(async () =&gt; {
            await Ingredient.create({
                name: 'Brown Rice',
                slug: 'brown-rice'
            })
        })

        ...

        it('should return an existing entry where one with same name exists without updating it', async () =&gt; {
            const payload = {
                name: 'Brown Rice',
                slug: 'brownrice',
                description: 'test'
            }
            await ingredientDal.findOrCreate(payload)
            const ingredientsFound = await Ingredient.findAll({where: {name: 'Brown Rice'}})

            expect(ingredientsFound.length).toEqual(1)
            expect(ingredientsFound[0].slug).toEqual('brown-rice')
            expect(ingredientsFound[0].description).toBeNull()
        })
    })
</pre>
<p><code>expect</code>å‡½æ•°è¿”å› Jest è°ƒç”¨çš„ expect å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥è°ƒç”¨ expect å¯¹è±¡ä¸Šçš„åŒ¹é…å™¨æ¥æ–­è¨€è¾¾åˆ°äº†é¢„æœŸçš„å€¼ã€‚</p>
<h2>ç”¨ Jest å’Œ SuperTest æµ‹è¯•è·¯ç”±å’Œ http è¯·æ±‚</h2>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Jest å’Œ<a href="https://github.com/visionmedia/supertest#readme" target="_blank" rel="noopener"> SuperTest </a>æ¥æµ‹è¯• API ä¸­å®šä¹‰çš„è·¯ç”±ã€‚æˆ‘ä»¬å°†ç”¨è¿™äº›æ¥æµ‹è¯•æˆ‘ä»¬çš„<code>/recipes</code>è·¯çº¿ã€‚é¦–å…ˆï¼Œé€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… SuperTest:</p>
<pre class="language-bash hljs">$ yarn add -D supertest @types/supertest
</pre>
<p>æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ª SuperTest è¯·æ±‚ä»£ç†çš„å®ä¾‹æ¥è°ƒç”¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„è·¯ç”±ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª helper æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åˆ›å»ºä¸€ä¸ª SuperTest ä»£ç†å®ä¾‹ï¼Œå¹¶ä¸æ‰€æœ‰éœ€è¦å®ƒçš„æµ‹è¯•å…±äº«å®ƒã€‚</p>
<pre class="language-typescript hljs"># src/index.ts

import express, { Application, Request, Response } from 'express'
import routes from './api/routes'
import dbInit from './db/init'

dbInit()

const port = process.env.PORT || 3000

export const get = () =&gt; {
    const app: Application = express()

    // Body parsing Middleware
    app.use(express.json());
    app.use(express.urlencoded({ extended: true }));

    app.get('/', async(req: Request, res: Response): Promise&lt;Response&gt; =&gt; {
        return res.status(200).send({ message: `Welcome to the cookbook API! \n Endpoints available at http://localhost:${port}/api/v1` })
    })

    app.use('/api/v1', routes)
    return app
}


# tests/helpers.ts

import { agent as _request } from "supertest"
import {get as getApplication} from '../src/index'

export const request = _request(getApplication())
</pre>
<p>SuperTest å°†æˆ‘ä»¬çš„ Express åº”ç”¨ç¨‹åºå®ä¾‹ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œå®ƒæ˜¯ä»æˆ‘ä»¬çš„<code>src/index.ts</code>ä¸­æ£€ç´¢çš„ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å°†åœ¨<code>tests/integration</code>ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code>routes</code>çš„æ–‡ä»¶å¤¹ï¼Œå¹¶æ·»åŠ æˆ‘ä»¬çš„æµ‹è¯•æ–‡ä»¶ï¼Œæˆ‘ä»¬å°†å…¶å‘½åä¸º<code>recipe.test.ts</code>ã€‚</p>
<pre class="language-typescript hljs"># /tests/integration/routes/recipe.test.ts

import Recipe, { RecipeOutput } from "../../../src/db/models/Recipe"
import { request } from "../../helpers"

const dbTeardown = async () =&gt; {
    await Recipe.sequelize?.query("SET FOREIGN_KEY_CHECKS = 0")
    await Recipe.destroy({ cascade: true, truncate: true, force: true });
    await Recipe.sequelize?.query("SET FOREIGN_KEY_CHECKS = 1")
}

describe('Recipe routes', () =&gt; {
    let recipeId: number
    let recipe: RecipeOutput

    beforeAll(async () =&gt; {
         = await Promise.all([
            Recipe.create({title: 'Pesto pasta', slug: 'pesto-pasta'}),
            Recipe.create({title: 'Caesar salad', slug: 'caesar-salad'}),
        ])
        ;({id: recipeId} = recipe)
    })

    afterAll(async () =&gt; {
        await dbTeardown()
    })

    describe('Get All', () =&gt; {
        it('should return an array of existing recipes', async () =&gt; {
            const {body: data} = await request.get('/api/v1/recipes').expect(200)
            expect(data?.length).toEqual(2)
        })
    })

    describe('Get single recipe', () =&gt; {
        it('should return a single recipe with specified id', async () =&gt; {
            const {body: data} = await request.get(`/api/v1/recipes/${recipeId}`).expect(200)

            expect(data.id).toEqual(recipeId)
            expect(data.title).toEqual(recipe.title)
        })
    })
})
</pre>
<h2>ä½¿ç”¨æ¨¡æ‹Ÿå¯¹è±¡è¿›è¡Œæµ‹è¯•</h2>
<p>æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡å•å…ƒæµ‹è¯•ï¼Œå•å…ƒæµ‹è¯•å…³æ³¨äºå•ç‹¬æµ‹è¯•å•ä¸ªç»„ä»¶ï¼Œå¿½ç•¥äº†å®ƒè°ƒç”¨çš„å¤–éƒ¨æ–‡ä»¶æˆ–æœåŠ¡ã€‚ä¸ºäº†æœ‰æ•ˆåœ°åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬åˆ›å»ºæ¨¡æ‹Ÿå¯¹è±¡æ¥æ›¿æ¢é‚£äº›å¤–éƒ¨æ–‡ä»¶å’ŒæœåŠ¡ã€‚</p>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸ºæˆ‘ä»¬çš„å®¡æŸ¥æœåŠ¡ç¼–å†™æµ‹è¯•æ¥æ¼”ç¤ºè¿™ä¸€ç‚¹ï¼ŒåŒæ—¶æ¨¡ä»¿å®ƒè°ƒç”¨çš„ DAL æ–¹æ³•ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨æˆ‘ä»¬çš„<code>unit tests</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code>services</code>ç›®å½•ï¼Œå¹¶å°†æˆ‘ä»¬çš„æµ‹è¯•æ–‡ä»¶<code>review.test.ts</code>æ·»åŠ åˆ°å…¶ä¸­ã€‚</p>
<pre class="language-typescript hljs"># /tests/unit/services/review.test.ts

import {publishReview} from '../../../src/db/services/ReviewService'
import {update as reviewDalUpdate} from '../../../src/db/dal/review'

const reviewId = 10

jest.mock('../../../src/db/dal/review', () =&gt; ({
    update: jest.fn(),
}))

const mockDate = new Date('10 Oct 2021').toISOString()
const dateSpy = jest.spyOn(global, 'Date')
    .mockImplementation(() =&gt; mockDate)

describe('Review Service', () =&gt; {
    afterAll(() =&gt; {
        dateSpy.mockRestore()
    })

    describe('Publish', () =&gt; {
        it('should accept a payload and call the review dal with it', async () =&gt; {
            await publishReview(reviewId)
            expect(reviewDalUpdate).toBeCalledTimes(1)
            expect(reviewDalUpdate).toHaveBeenCalledWith(reviewId, {isPublished: true, publishedOn: new Date() })
        })
    })
})
</pre>
<p>åœ¨è¿™ä¸ªæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬æµ‹è¯•äº† Review æœåŠ¡çš„<code>publish</code>æ–¹æ³•ï¼Œå¹¶æ¨¡æ‹Ÿäº† Review DAL çš„ update æ–¹æ³•ã€‚ä½¿ç”¨æ¨¡æ‹Ÿï¼Œæˆ‘ä»¬å¯ä»¥ç¡®è®¤å¤–éƒ¨æ–¹æ³•è¢«è°ƒç”¨çš„æ¬¡æ•°å’Œæ–¹å¼æ˜¯æˆ‘ä»¬æœŸæœ›çš„ã€‚</p>
<h2>ç›‘è§†å’Œè¦†ç›–å¯¹è±¡å±æ€§</h2>
<p>ä½¿ç”¨ Jestï¼Œæˆ‘ä»¬å¯ä»¥ç›‘è§†å¹¶è¦†ç›–å¯¹è±¡å±æ€§çš„å®ç°ã€‚ä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬çš„å®¡æŸ¥æœåŠ¡å•å…ƒæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬ç›‘è§†äº†<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener">æ—¥æœŸç±»</a>ï¼Œå®ƒæ˜¯èŠ‚ç‚¹çš„<a href="https://nodejs.org/api/globals.html#globals_global" target="_blank" rel="noopener">å…¨å±€å¯¹è±¡</a>çš„ä¸€ä¸ªå±æ€§ã€‚</p>
<p>åœ¨ä¸Šé¢çš„æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>jest.spyOn</code>æ¥è¦†ç›– Date ç±»ï¼Œå¹¶å®šä¹‰å…¶æ„é€ å‡½æ•°çš„æ¨¡æ‹Ÿå®ç°ï¼Œä»¥ä¾¿æ¯æ¬¡éƒ½è¿”å›ç‰¹å®šçš„å€¼ã€‚è®°å¾—åœ¨ä½ ç”¨<code>jest.spyOn</code>è¦†ç›–çš„ç±»ä¸Šåº”ç”¨<code>mockRestore</code>ã€‚</p>
<h2>è¿è¡Œç‰¹å®šçš„æµ‹è¯•æˆ–æµ‹è¯•ç»„</h2>
<p>Jest æä¾›äº†ä½¿ç”¨å‡½æ•°<code>only</code>å’Œ<code>skip</code>è¿è¡Œæˆ–è·³è¿‡ç‰¹å®šæµ‹è¯•å’Œæµ‹è¯•ç»„çš„èƒ½åŠ›ã€‚åœ¨ä½¿ç”¨ä¸­ï¼Œå®ƒä»¬çœ‹èµ·æ¥å¦‚ä¸‹:</p>
<ul>
<li><code>describe.only('xxxx')</code></li>
<li><code>describe.skip('xxxx')</code></li>
<li><code>test.only('xxx')</code></li>
<li><code>it.only('xxxx')</code></li>
<li><code>it.skip('xxxx')</code></li>
</ul>
<p>æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡åœ¨æµ‹è¯•è¿è¡Œå‘½ä»¤ä¸­æ·»åŠ æµ‹è¯•æ–‡ä»¶çš„è·¯å¾„æ¥è¿è¡Œå•ä¸ªæµ‹è¯•æ–‡ä»¶ã€‚</p>
<pre class="language-bash hljs">$ yarn test tests/integration/dal/ingredient.test.ts
</pre>
<h2>ä½¿ç”¨ Jest æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡</h2>
<p>æˆ‘ä»¬å¯ä»¥è®© Jest é€šè¿‡åœ¨æˆ‘ä»¬çš„<code>package.json</code>ä¸­å°†<code>--coverage</code>æ·»åŠ åˆ°æˆ‘ä»¬çš„æµ‹è¯•è„šæœ¬ä¸­æ¥æ£€æŸ¥æˆ‘ä»¬çš„æµ‹è¯•è¦†ç›–ç‡ã€‚</p>
<pre class="language-typescript hljs"># package.json

...
"main": "dist/index.js",
"scripts": {
  "test": "jest --coverage",
  "dev": "nodemon src/index.ts",
  "build": "npx tsc"
},
</pre>
<p><a href="https://blog.logrocket.com/tag/jest/" target="_blank" rel="noopener"> Jest çš„è¦†ç›–ç‡</a>è¡¨æ˜åœ¨æˆ‘ä»¬ä½¿ç”¨æ¯ä¸ªæ–‡ä»¶çš„æŒ‡æ ‡è¿›è¡Œçš„æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºè¢«è¦†ç›–äº†å¤šå°‘ã€‚è¿™äº›è¦†ç›–ç‡æŒ‡æ ‡æ˜¯:</p>
<ul>
<li>è¯­å¥è¦†ç›–ç‡(<code>% Stmts</code>):è¿™è¡¨ç¤ºæµ‹è¯•è¿è¡Œæ—¶æ‰§è¡Œçš„è¯­å¥çš„ç™¾åˆ†æ¯”</li>
<li>åˆ†æ”¯è¦†ç›–(<code>% Branch</code>):è¿™è¡¨ç¤ºåœ¨æµ‹è¯•è¿è¡ŒæœŸé—´ï¼Œåœ¨æ¯ä¸ªæ–‡ä»¶ä¸­æ‰§è¡Œçš„æ§åˆ¶ç»“æ„è·¯å¾„(å³ if å’Œ case è¯­å¥è·¯å¾„)çš„ç™¾åˆ†æ¯”</li>
<li>å‡½æ•°è¦†ç›–ç‡(<code>% Funcs</code>):è¿™è¡¨ç¤ºåœ¨æµ‹è¯•è¿è¡ŒæœŸé—´æ¯ä¸ªæ–‡ä»¶æ‰§è¡Œçš„å‡½æ•°çš„ç™¾åˆ†æ¯”</li>
<li>è¡Œè¦†ç›–ç‡(<code>% Lines</code>):è¿™è¡¨ç¤ºæˆ‘ä»¬çš„æµ‹è¯•åœ¨è¿è¡Œæ—¶æ‰§è¡Œçš„ä»£ç è¡Œ(LOC)çš„ç™¾åˆ†æ¯”</li>
<li>æœªè¦†ç›–çš„è¡Œå·(<code>Uncovered Line</code> <code>[#s](<a href="https://paper.dropbox.com/?q=%23s" rel="nofollow">https://paper.dropbox.com/?q=%23s</a>)</code>):è¿™è¡¨ç¤ºåœ¨æˆ‘ä»¬çš„æµ‹è¯•è¿è¡ŒæœŸé—´æ¯ä¸ªæ–‡ä»¶ä¸­æœªè¦†ç›–çš„ç‰¹å®šè¡Œ</li>
</ul>
<p><img data-attachment-id="71532" data-permalink="https://blog.logrocket.com/testing-typescript-apps-using-jest/jest-test-coverage-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example.png" data-orig-size="730,310" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="jest-test-coverage-example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example-300x127.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example.png" decoding="async" class="aligncenter size-full wp-image-71532 jetpack-lazy-image" src="../Images/d86986f5df97febf0642f169e3e7da6e.png" alt="View of our example's Jest test coverage" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example-300x127.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="71532" data-permalink="https://blog.logrocket.com/testing-typescript-apps-using-jest/jest-test-coverage-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example.png" data-orig-size="730,310" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="jest-test-coverage-example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example-300x127.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-71532" src="../Images/d86986f5df97febf0642f169e3e7da6e.png" alt="View of our example's Jest test coverage" srcset="https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example-300x127.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/jest-test-coverage-example.png"/></noscript>
<p>Jest è¿˜ä½¿ç”¨ä¸‰ç§é¢œè‰²å¯¹è¿™äº›æŒ‡æ ‡è¿›è¡Œé¢œè‰²ç¼–ç :</p>
<ul>
<li>çº¢è‰²ä»£è¡¨è¦†ç›–ç‡ä½</li>
<li>é»„è‰²ä»£è¡¨å¹³å‡è¦†ç›–ç‡</li>
<li>ç»¿è‰²ä»£è¡¨è¦†ç›–è‰¯å¥½</li>
</ul>
<p>æˆ‘ä»¬é¡¹ç›®å½“å‰çš„æµ‹è¯•è¦†ç›–éœ€è¦è¿›ä¸€æ­¥æ”¹è¿›ï¼Œå› ä¸º</p>
<ul>
<li>æˆ‘ä»¬æ²¡æœ‰åœ¨æµ‹è¯•ä¸­è¦†ç›–æ‰€æœ‰çš„è·¯ç”±ã€æœåŠ¡æˆ– dal(æ‚¨ä¼šæ³¨æ„åˆ°æŠ¥å‘Šçš„æ–‡ä»¶æ•°é‡æ¯”æˆ‘ä»¬æ‹¥æœ‰çš„æ–‡ä»¶æ•°é‡å°‘å¾—å¤š)</li>
<li>æˆ‘ä»¬åœ¨æµ‹è¯•ä¸­è¦†ç›–çš„æ–‡ä»¶ä»ç„¶æœ‰å‡ ä¸ªè¯­å¥ã€åˆ†æ”¯ã€å‡½æ•°å’Œè¡Œæœªè¢«è¦†ç›–</li>
</ul>
<h2>ç»“è®º</h2>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»å‘ API æ·»åŠ äº†ä¸€äº›æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>yarn test</code>è¿è¡Œå®ƒä»¬ï¼Œæˆ‘ä»¬å°†å¾—åˆ°å¦‚ä¸‹è¾“å‡º:</p>
<p><img data-attachment-id="71535" data-permalink="https://blog.logrocket.com/testing-typescript-apps-using-jest/finished-jest-implementation-running-tests/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/10/finished-jest-implementation-running-tests.gif" data-orig-size="730,561" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="finished-jest-implementation-running-tests" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/10/finished-jest-implementation-running-tests-300x231.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/10/finished-jest-implementation-running-tests.gif" decoding="async" class="aligncenter size-full wp-image-71535 jetpack-lazy-image" src="../Images/df60c47855210f53fae73a1f6d546806.png" alt="Our finished Jest implementation runs the tests and checks coverage" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/finished-jest-implementation-running-tests.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/finished-jest-implementation-running-tests.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="71535" data-permalink="https://blog.logrocket.com/testing-typescript-apps-using-jest/finished-jest-implementation-running-tests/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/10/finished-jest-implementation-running-tests.gif" data-orig-size="730,561" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="finished-jest-implementation-running-tests" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/10/finished-jest-implementation-running-tests-300x231.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/10/finished-jest-implementation-running-tests.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-71535" src="../Images/df60c47855210f53fae73a1f6d546806.png" alt="Our finished Jest implementation runs the tests and checks coverage" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/finished-jest-implementation-running-tests.gif"/></noscript>
<p>æœ¬æ–‡çš„æ‰€æœ‰ä»£ç éƒ½å¯ä»¥åœ¨æˆ‘çš„ GitHub ä¸Šæ‰¾åˆ°ã€‚è¯·åœ¨è¯„è®ºä¸­åˆ†äº«ä½ åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä½¿ç”¨çš„æµ‹è¯•åº“ä¸­çš„ä»»ä½•é…·çš„å‘ç°å’ŒæŠ€å·§ï¼</p><div class="code-block code-block-21">
<div class="blog-plug inline-plug typescript-plug"><h2><a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>:å…¨é¢äº†è§£æ‚¨çš„ç½‘ç»œå’Œç§»åŠ¨åº”ç”¨</h2>
<a href="https://lp.logrocket.com/blg/typescript-signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p>LogRocket æ˜¯ä¸€ä¸ªå‰ç«¯åº”ç”¨ç¨‹åºç›‘æ§è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥è®©æ‚¨å›æ”¾é—®é¢˜ï¼Œå°±åƒé—®é¢˜å‘ç”Ÿåœ¨æ‚¨è‡ªå·±çš„æµè§ˆå™¨ä¸­ä¸€æ ·ã€‚LogRocket ä¸éœ€è¦çŒœæµ‹é”™è¯¯å‘ç”Ÿçš„åŸå› ï¼Œä¹Ÿä¸éœ€è¦å‘ç”¨æˆ·è¯¢é—®æˆªå›¾å’Œæ—¥å¿—è½¬å‚¨ï¼Œè€Œæ˜¯è®©æ‚¨é‡æ”¾ä¼šè¯ä»¥å¿«é€Ÿäº†è§£å“ªé‡Œå‡ºé”™äº†ã€‚å®ƒå¯ä»¥ä¸ä»»ä½•åº”ç”¨ç¨‹åºå®Œç¾é…åˆï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæ¡†æ¶ï¼Œå¹¶ä¸”æœ‰æ’ä»¶å¯ä»¥è®°å½•æ¥è‡ª Reduxã€Vuex å’Œ@ngrx/store çš„é¢å¤–ä¸Šä¸‹æ–‡ã€‚</p>
<p>é™¤äº†è®°å½• Redux æ“ä½œå’ŒçŠ¶æ€ï¼ŒLogRocket è¿˜è®°å½•æ§åˆ¶å°æ—¥å¿—ã€JavaScript é”™è¯¯ã€å †æ ˆè·Ÿè¸ªã€å¸¦æœ‰å¤´+æ­£æ–‡çš„ç½‘ç»œè¯·æ±‚/å“åº”ã€æµè§ˆå™¨å…ƒæ•°æ®å’Œè‡ªå®šä¹‰æ—¥å¿—ã€‚å®ƒè¿˜ä½¿ç”¨ DOM æ¥è®°å½•é¡µé¢ä¸Šçš„ HTML å’Œ CSSï¼Œç”šè‡³ä¸ºæœ€å¤æ‚çš„å•é¡µé¢å’Œç§»åŠ¨åº”ç”¨ç¨‹åºé‡æ–°åˆ›å»ºåƒç´ çº§å®Œç¾è§†é¢‘ã€‚</p>
<a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer">Try it for free</a><p>.</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>