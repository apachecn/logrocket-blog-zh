<html>
<head>
<title>Building a pomodoro timer with Tauri using React and Vite - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>ä½¿ç”¨Reactå’ŒVite - LogRocket Blogç”¨Tauriæ„å»ºç•ªèŒ„å®šæ—¶å™¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/build-pomodoro-timer-tauri-using-react-and-vite/#0001-01-01">https://blog.logrocket.com/build-pomodoro-timer-tauri-using-react-and-vite/#0001-01-01</a></blockquote><div><article class="article-post">
<p>Tauriæ˜¯ä¸€å¥—å·¥å…·ï¼Œå¯ä»¥è®©ä½ ä½¿ç”¨å‰ç«¯æ¡†æ¶æ„å»ºè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ã€‚å½“ä¸Reactå’Œ<a href="https://blog.logrocket.com/vite-3-vs-create-react-app-comparison-migration-guide/"> Vite </a>ç»“åˆä½¿ç”¨æ—¶ï¼Œå®ƒå¯ä»¥ç”¨äºä¸ºæ‰€æœ‰æ¡Œé¢å¹³å°æ„å»ºé€Ÿåº¦æå¿«çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<p>å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨Tauriç¼–å†™å®‰å…¨ã€ç²¾ç®€ã€å¿«é€Ÿçš„è·¨å¹³å°æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œå¹¶ä½¿ç”¨webæŠ€æœ¯ã€‚å¯¹äºè®¸å¤šå¼€å‘äººå‘˜æ¥è¯´ï¼ŒElectron é€šå¸¸æ˜¯è¿™äº›åº”ç”¨çš„é¦–é€‰æ¡†æ¶ï¼Œä½†Tauriç°åœ¨å·²ç»åšå¥½äº†ç«äº‰çš„å‡†å¤‡ã€‚</p>
<p>åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªç®€å•çš„ç•ªèŒ„å®šæ—¶å™¨ï¼Œæˆ‘é‚€è¯·ä½ æŒ‰ç…§è‡ªå·±çš„è¿›åº¦è·Ÿéšè¿™ä¸ªæ•™ç¨‹ã€‚</p>

<h2 id="what-is-tauri">Tauriæ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>æ˜¯â€œ<a href="https://tauri.app/about/benchmarks/" target="_blank" rel="noopener">å¿«å¾—æƒŠäºº</a>â€(ä»–ä»¬çš„è¯ï¼Œä¸æ˜¯æˆ‘çš„ï¼›ä½†è¯·ç‚¹å‡»é“¾æ¥æŸ¥çœ‹åŸºå‡†å¹¶è‡ªè¡Œå†³å®š),å› ä¸ºå®ƒä½¿ç”¨Rustä½œä¸ºåç«¯(ä¸Nodeç›¸æ¯”),ç”Ÿæˆæ›´å°çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¹¶ä¸”æ¯”Nodeæ›´å®‰å…¨ã€‚</p>
<p>å®ƒä½¿ç”¨åº•å±‚æ“ä½œç³»ç»Ÿæä¾›çš„WebViewæ¥å‘ˆç°åº”ç”¨ç¨‹åºçš„UIâ€”â€”è¿™æ˜¯åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶è¾ƒå°(ä¸electronicç›¸æ¯”)çš„åŸå› ä¹‹ä¸€ã€‚Tauriå·¥å…·åŒ…ä¸­çš„WRYåº“æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ¥ä¸ä¸åŒæ“ä½œç³»ç»Ÿæä¾›çš„WebViewsè¿›è¡Œäº¤äº’ã€‚WRYåº“ä½¿ç”¨Taoæ¿æ¡ç®±è¿›è¡Œè·¨å¹³å°çª—å£ç®¡ç†ã€‚</p>
<p>Tauriå°†æ‰€æœ‰è¿™äº›ç»“åˆåœ¨ä¸€èµ·ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿç¼–å†™å¼ºå¤§çš„é«˜æ€§èƒ½æ¡Œé¢åº”ç”¨ç¨‹åºã€‚</p>
<h2 id="prerequisites">å…ˆå†³æ¡ä»¶</h2>
<p>åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ä¸€äº›ä¸œè¥¿ã€‚</p>
<h3 id="rust">é”ˆ</h3>
<p>è¦å®‰è£…Rustï¼Œè¯·æ‰“å¼€æ‚¨çš„ç»ˆç«¯å¹¶è¿è¡Œ:</p>
<pre class="language-shell hljs">curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
</pre>
<p>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Windowsï¼Œè¯·éµå¾ªè¿™äº›è¯´æ˜<a href="https://forge.rust-lang.org/infra/other-installation-methods.html" target="_blank" rel="noopener">ã€‚</a></p>
<h3 id="npm">npm</h3>
<p>npmæ˜¯èŠ‚ç‚¹çš„ç¨‹åºåŒ…ç®¡ç†å™¨ã€‚å®ƒæ˜¯ä¸Nodeæ†ç»‘åœ¨ä¸€èµ·çš„ï¼Œæ‰€ä»¥å¦‚æœæ‚¨çš„ç³»ç»Ÿä¸Šå®‰è£…äº†Nodeï¼Œæ‚¨å¾ˆå¯èƒ½ä¹Ÿå®‰è£…äº†npmã€‚</p>
<p>å¦‚æœä½ æ²¡æœ‰Nodeï¼Œç”¨<a href="https://brew.sh/" target="_blank" rel="noopener">è‡ªåˆ¶è½¯ä»¶</a>å®‰è£…å®ƒï¼Œ</p>
<pre class="language-shell hljs">brew install node
</pre>
<p>å®‰è£…äº†npmå’ŒRustä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ä½¿ç”¨Tauriå¼€å‘åº”ç”¨äº†ï¼</p>
<h2 id="scaffold-a-tauri-app-with-create-tauri-app">ç”¨create-tauri-appæ­å»ºTauriåº”ç”¨ç¨‹åº</h2>
<p>æ—¢ç„¶å…ˆå†³æ¡ä»¶ç°åœ¨å·²ç»å®‰è£…å¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹å¼€å‘pomodoro timeræ¡Œé¢åº”ç”¨ç¨‹åºäº†ã€‚Tauriçš„äººä»¬ç”¨<a href="https://www.npmjs.com/package/create-tauri-app" target="_blank" rel="noopener"><strong>create-Tauri-app</strong></a>NPMåŒ…è®©æ­å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºå˜å¾—è¶…çº§ç®€å•ã€‚</p>
<p>è¦å¼€å§‹ï¼Œè¯·è¿è¡Œ:</p>
<pre class="language-shell hljs">npx create-tauri-app
</pre>
<p>è¿è¡Œæ­¤å‘½ä»¤åï¼Œæ‚¨éœ€è¦è¾“å…¥ä¸€äº›ä¿¡æ¯:</p>
<ul>
<li>é¡¹ç›®çš„åç§°</li>
<li>å°†åœ¨å…¶ä¸­åŠ è½½åº”ç”¨ç¨‹åºçš„çª—å£çš„æ ‡é¢˜</li>
<li>UIé…æ–¹</li>
<li>è¦ä½¿ç”¨çš„æ¨¡æ¿</li>
</ul>
<p>å¯¹äºè¿™ä¸ªæ•™ç¨‹åº”ç”¨ç¨‹åºï¼Œæˆ‘ç”¨ä¸‹é¢çš„ï¼Œå‘ç°å¦‚ä¸‹ğŸ‘‡</p>
<ul>
<li>é¡¹ç›®åç§°ä¸º<code>pomodoro</code></li>
<li>çª—å£æ ‡é¢˜ä¸º<code>Pomodoro Timer App</code></li>
<li>UIé…æ–¹ä¸º<code>create-vite</code></li>
<li>è¦ä½¿ç”¨çš„æ¨¡æ¿<code>react-ts</code></li>
</ul>
<p><img data-attachment-id="130833" data-permalink="https://blog.logrocket.com/build-pomodoro-timer-tauri-using-react-and-vite/attachment/tauri-project-dependecies-installation/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation.png" data-orig-size="730,313" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="tauri-project-dependecies-installation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation-300x129.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation.png" decoding="async" class="aligncenter wp-image-130833 size-full jetpack-lazy-image" src="../Images/16d3f0f2c60df579e28c1a10b58e6f91.png" alt="Tauri Project Dependencies Installation" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation-300x129.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="130833" data-permalink="https://blog.logrocket.com/build-pomodoro-timer-tauri-using-react-and-vite/attachment/tauri-project-dependecies-installation/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation.png" data-orig-size="730,313" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="tauri-project-dependecies-installation" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation-300x129.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation.png" decoding="async" loading="lazy" class="aligncenter wp-image-130833 size-full" src="../Images/16d3f0f2c60df579e28c1a10b58e6f91.png" alt="Tauri Project Dependencies Installation" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation-300x129.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/tauri-project-dependecies-installation.png"/></noscript>
<p>ç‚¹å‡»â€œEnterâ€å°†å®‰è£…æ‰€æœ‰å¿…éœ€çš„åŒ…ï¼Œå¹¶åœ¨ä¸é¡¹ç›®åç§°åŒåçš„æ–‡ä»¶å¤¹ä¸‹è¾“å‡ºä¸€ä¸ªè„šæ‰‹æ¶é¡¹ç›®ã€‚</p>
<p>æˆ‘ä»¬ç°åœ¨å·²ç»å‡†å¤‡å¥½ç¬¬ä¸€æ¬¡è¿è¡Œè¿™ä¸ªé¡¹ç›®äº†ï¼</p>
<p>è¦è¿è¡Œé¡¹ç›®ï¼Œè¯·è¿è¡Œ:</p>
<pre class="language-shell hljs">cd pomodoro // cding into the project folder
npm run tauri dev //running the app
</pre>
<p>è¿™å°†é¦–å…ˆå¯åŠ¨å‰ç«¯æœåŠ¡å™¨ï¼Œç„¶åå°†ä¸‹è½½æ¿æ¡ç®±(å¦‚æœ‰å¿…è¦)å¹¶ç¼–è¯‘Ruståç«¯ã€‚ä¸€æ—¦ç¼–è¯‘æ²¡æœ‰ä»»ä½•é”™è¯¯ï¼Œåº”ç”¨ç¨‹åºå°†å¯åŠ¨ï¼Œä½ ä¼šçœ‹åˆ°è¿™æ ·çš„é—®å€™:</p>
<p><img data-attachment-id="130835" data-permalink="https://blog.logrocket.com/build-pomodoro-timer-tauri-using-react-and-vite/attachment/vite-and-react-app-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example.png" data-orig-size="730,555" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vite-and-react-app-example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example-300x228.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example.png" decoding="async" class="aligncenter wp-image-130835 size-full jetpack-lazy-image" src="../Images/756afe9a43302f89b08cac64de439ccb.png" alt="Vite And React App Example" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example-300x228.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="130835" data-permalink="https://blog.logrocket.com/build-pomodoro-timer-tauri-using-react-and-vite/attachment/vite-and-react-app-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example.png" data-orig-size="730,555" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="vite-and-react-app-example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example-300x228.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example.png" decoding="async" loading="lazy" class="aligncenter wp-image-130835 size-full" src="../Images/756afe9a43302f89b08cac64de439ccb.png" alt="Vite And React App Example" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example-300x228.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/vite-and-react-app-example.png"/></noscript>
<p>é¡¹ç›®æ–‡ä»¶å¤¹åŒ…å«è®¸å¤šé‡è¦çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚æˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹ä¸­å¤„ç†çš„ä¸¤ä¸ªé—®é¢˜æ˜¯:</p>
<ul>
<li><code>src</code>æ–‡ä»¶å¤¹</li>
<li><code>src-tauri/tauri.config.json</code>æ–‡ä»¶</li>
</ul>
<p>ç¬¬ä¸€æ¬¡è¿è¡Œåº”ç”¨ç¨‹åºéœ€è¦ä¸€äº›æ—¶é—´ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºéœ€è¦ä¸‹è½½å’Œç¼–è¯‘å¿…è¦çš„rust cratesã€‚</p>
<p>(æ³¨:<span>å¯¹äºä½¿ç”¨macOSè¿›è¡Œå¼€å‘çš„äºº:å¦‚æœä½ è¿è¡Œå‘½ä»¤å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œè€Œåº”ç”¨ç¨‹åºçª—å£å‡ºç°åœ¨å…¨å±åº”ç”¨ç¨‹åºä¸Šï¼Œä½ å°†æ— æ³•ç§»åŠ¨åº”ç”¨ç¨‹åºçª—å£ã€‚è¿™æ˜¯ä¸€ä¸ªå·²çŸ¥çš„bugï¼Œå¯ä»¥åœ¨è¿™é‡Œ</span> <a href="https://github.com/tauri-apps/tauri/issues/4310" target="_blank" rel="noopener">è¿½è¸ª</a></p>
<h2 id="building-the-frontend">æ„å»ºå‰ç«¯</h2>
<p>æˆ‘ä»¬å°†ä½¿ç”¨<a href="https://chakra-ui.com/" target="_blank" rel="noopener"> ChakraUI </a>ä½œä¸ºUIç»„ä»¶å’Œæ ·å¼ã€‚è¦è®¾ç½®ChakraUIï¼Œè¯·éµå¾ªä»–ä»¬çš„<a href="https://chakra-ui.com/getting-started" target="_blank" rel="noopener">å…¥é—¨æŒ‡å—</a>ã€‚</p>
<p>æˆ‘ä»¬å°†åœ¨ä¸‹é¢å»ºç«‹ç”¨æˆ·ç•Œé¢ã€‚</p>
<p><img data-attachment-id="130837" data-permalink="https://blog.logrocket.com/build-pomodoro-timer-tauri-using-react-and-vite/attachment/timer-app-ui-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example.png" data-orig-size="730,552" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="timer-app-ui-example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example-300x227.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example.png" decoding="async" class="aligncenter wp-image-130837 size-full jetpack-lazy-image" src="../Images/3d661f59dbba591d23329cae86d94624.png" alt="Timer App UI Example" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example-300x227.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="130837" data-permalink="https://blog.logrocket.com/build-pomodoro-timer-tauri-using-react-and-vite/attachment/timer-app-ui-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example.png" data-orig-size="730,552" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="timer-app-ui-example" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example-300x227.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example.png" decoding="async" loading="lazy" class="aligncenter wp-image-130837 size-full" src="../Images/3d661f59dbba591d23329cae86d94624.png" alt="Timer App UI Example" srcset="https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example-300x227.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/timer-app-ui-example.png"/></noscript>
<p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„è¦æ±‚:</p>
<ul>
<li>åº”è¯¥æœ‰ä¸€ä¸ªâ€œå¼€å§‹â€å’Œâ€œæš‚åœâ€æŒ‰é’®ï¼Œå¯åŠ¨å’Œåœæ­¢è®¡æ—¶å™¨</li>
<li>ä¸€æ—¦è®¡æ—¶å™¨è¾¾åˆ°â€œ0â€ï¼Œè§¦å‘é€šçŸ¥ç”¨æˆ·</li>
<li>é€‰æ‹©é—´éš”é•¿åº¦çš„é€‰é¡¹ï¼Œå³15åˆ†é’Ÿã€‚ï¼Œ30åˆ†é’Ÿã€‚ã€å’Œ60åˆ†é’Ÿã€‚</li>
<li>â€œé‡ç½®â€æŒ‰é’®ï¼Œå°†è®¡æ—¶å™¨é‡ç½®ä¸ºåˆå§‹å€¼</li>
</ul>
<p>é¦–å…ˆï¼Œå‰å¾€<code>src/App.tsx</code>ã€‚</p>
<pre class="language-typescript hljs">// src/App.tsx
import { Button, Flex, Text } from "@chakra-ui/react";
import { useEffect, useState } from "react";

function App() {
  const [time, setTime] = useState(0);
  const [timerStart, setTimerStart] = useState(false);
  const buttons = [
    {
      value: 900,
      display: "15 minutes",
    },
    {
      value: 1800,
      display: "30 minutes",
    },
    {
      value: 3600,
      display: "60 minutes",
    },
  ];
  const toggleTimer = () =&gt; {
    setTimerStart(!timerStart);
  };
  useEffect(() =&gt; {
    const interval = setInterval(() =&gt; {
      if (timerStart) {
        if (time &gt; 0) {
          setTime(time - 1);
        } else if (time === 0) {
          // TODO: Send notification to user.
          clearInterval(interval);
        }
      }
    }, 1000);
    return () =&gt; clearInterval(interval);
  }, [timerStart, time]);
  return (
    &lt;div className="App" style={{ height: "100%" }}&gt;
      &lt;Flex
        background="gray.700"
        height="100%"
        alignItems="center"
        flexDirection="column"
      &gt;
        &lt;Text color="white" fontWeight="bold" marginTop="20" fontSize="35"&gt;
          Pomodoro Timer
        &lt;/Text&gt;
        &lt;Text fontWeight="bold" fontSize="7xl" color="white"&gt;
          {`${
            Math.floor(time / 60) &lt; 10
              ? `0${Math.floor(time / 60)}`
              : `${Math.floor(time / 60)}`
          }:${time % 60 &lt; 10 ? `0${time % 60}` : time % 60}`}
        &lt;/Text&gt;
        &lt;Flex&gt;
          &lt;Button
            width="7rem"
            background="tomato"
            color="white"
            onClick={toggleTimer}
          &gt;
            {!timerStart ? "Start" : "Pause"}
          &lt;/Button&gt;
          {/* TODO: Add Button to reset timer */}
        &lt;/Flex&gt;
        &lt;Flex marginTop={10}&gt;
          {buttons.map(({ value, display }) =&gt; (
            &lt;Button
              marginX={4}
              background="green.300"
              color="white"
              onClick={() =&gt; {
                setTimerStart(false);
                setTime(value);
              }}
            &gt;
              {display}
            &lt;/Button&gt;
          ))}
        &lt;/Flex&gt;
      &lt;/Flex&gt;
    &lt;/div&gt;
  );
}
export default App;
</pre>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ChakraUIçš„å†…ç½®ç»„ä»¶æ¥è®¾ç½®æŒ‰é’®å’Œæ–‡æœ¬çš„å¸ƒå±€ã€‚<code>useEffect</code>é’©å­ä¸­çš„<code>setTimeout</code>é€šè¿‡æ¯ç§’è®¾ç½®çŠ¶æ€æ¥é©±åŠ¨UIã€‚</p>
<p>æ•ˆæœé‡æ–°è¿è¡Œ:</p>
<ul>
<li>å½“ç”¨æˆ·ç‚¹å‡»æŒç»­æ—¶é—´æŒ‰é’®æ—¶(è¿™å°†è®¾ç½®<code>timerStart</code>å’Œ<code>time</code>çŠ¶æ€å€¼)</li>
<li>å½“ç”¨æˆ·ç‚¹å‡»å¼€å§‹/æš‚åœæŒ‰é’®æ—¶(è¿™å°†è®¾ç½®<code>timerStart</code>çŠ¶æ€å€¼)</li>
<li>æ¯è¿‡ä¸€ç§’é’Ÿ(<code>setTimeout</code>è§¦å‘å¯¹<code>time</code>å€¼çš„æ›´æ–°ï¼Œè§ç¬¬29è¡Œ)</li>
</ul>
<p>ä¸ºäº†ä»¥ä¸€è‡´çš„æ ¼å¼(mm:ss)æ˜¾ç¤ºæ—¶é—´ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›æ•°å­¦è¿ç®—ã€‚è¿™å½“ç„¶ä¸æ˜¯å®Œç¾çš„ï¼Œä½†å®ƒåšçš„å·¥ä½œã€‚</p>
<p>è¿™é‡Œæœ‰ä¸¤ä¸ªå¾…åŠäº‹é¡¹:</p>
<ul>
<li><strong>æ·»åŠ å¤ä½æŒ‰é’®</strong><ul>
<li>ç‚¹å‡»è¿™ä¸ªæŒ‰é’®ï¼Œä¼šè§¦å‘ä¸€ä¸ªæœ¬åœ°å¯¹è¯æ¡†ï¼Œè¦æ±‚ç”¨æˆ·ç¡®è®¤æ“ä½œ</li>
</ul>
</li>
<li><strong>æ·»åŠ é€šçŸ¥è§¦å‘å™¨</strong><ul>
<li>å½“è®¡æ—¶å™¨è®¡æ—¶åˆ°0æ—¶ï¼Œéœ€è¦å‘ç”¨æˆ·å‘é€é€šçŸ¥</li>
</ul>
</li>
</ul>
<p>ä½†æ˜¯ï¼Œåœ¨æˆ‘ä»¬å¼€å§‹å¤„ç†è¿™äº›é¡¹ç›®ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ æˆ‘ä»¬å°†åœ¨<code>src-tauri/tauri.config.json</code>æ–‡ä»¶ä¸­è°ƒç”¨çš„æœ¬åœ°APIã€‚å¦‚æœæˆ‘ä»¬ä¸åšè¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å°†æ— æ³•è§¦å‘åŸç”Ÿå…ƒç´ ã€‚</p>
<p>æ‰€ä»¥ï¼Œè½¬åˆ°<code>src-tauri/tauri.config.json</code>å¹¶æŠŠè¿™ä¸ªåŠ åˆ°<code>tauri.allowlist</code>:</p>
<pre class="language-json hljs">  "tauri": {
    "allowlist": {
      // other allowed items
      "notification": {
        "all": true
      },
      "dialog": {
        "all": true
      }
    }    
  }
</pre>
<p>(æ³¨:ä¸ºäº†ç®€å•èµ·è§ï¼Œ<code>dialog</code>å’Œ<code>notification</code>éƒ½æ˜¯å…è®¸çš„ã€‚æˆ‘ä»¬å¯ä»¥æ›´å…·ä½“åœ°é¿å…ä¸å¿…è¦çš„è®¿é—®)</p>
<h2 id="triggering-a-notification-and-adding-a-reset-timer-button">è§¦å‘é€šçŸ¥å¹¶æ·»åŠ é‡ç½®è®¡æ—¶å™¨æŒ‰é’®</h2>
<pre class="language-typescript hljs">// src/App.tsx
import { Button, Flex, Text } from "@chakra-ui/react";
import { useEffect, useState } from "react";
+ import { sendNotification } from "@tauri-apps/api/notification";
+ import { ask } from "@tauri-apps/api/dialog";
function App() {
  const [time, setTime] = useState(0);
  const [timerStart, setTimerStart] = useState(false);
  const buttons = [
    {
      value: 900,
      display: "15 minutes",
    },
    {
      value: 1800,
      display: "30 minutes",
    },
    {
      value: 3600,
      display: "60 minutes",
    },
  ];
  const toggleTimer = () =&gt; {
    setTimerStart(!timerStart);
  };
+ const triggerResetDialog = async () =&gt; {
+   let shouldReset = await ask("Do you want to reset timer?", {
+     title: "Pomodoro Timer App",
+     type: "warning",
+   });
+   if (shouldReset) {
+     setTime(900);
+     setTimerStart(false);
+   }
+ };
  useEffect(() =&gt; {
    const interval = setInterval(() =&gt; {
      if (timerStart) {
        if (time &gt; 0) {
          setTime(time - 1);
        } else if (time === 0) {
+         sendNotification({
+           title: `Time's up!`,
+           body: `Congrats on completing a session!ğŸ‰`,
+         });
          clearInterval(interval);
        }
      }
    }, 1000);
    return () =&gt; clearInterval(interval);
  }, [timerStart, time]);
  return (
    &lt;div className="App" style={{ height: "100%" }}&gt;
      &lt;Flex
        background="gray.700"
        height="100%"
        alignItems="center"
        flexDirection="column"
      &gt;
        &lt;Text color="white" fontWeight="bold" marginTop="20" fontSize="35"&gt;
          Pomodoro Timer
        &lt;/Text&gt;
        &lt;Text fontWeight="bold" fontSize="7xl" color="white"&gt;
          {`${
            Math.floor(time / 60) &lt; 10
              ? `0${Math.floor(time / 60)}`
              : `${Math.floor(time / 60)}`
          }:${time % 60 &lt; 10 ? `0${time % 60}` : time % 60}`}
        &lt;/Text&gt;
        &lt;Flex&gt;
          &lt;Button
            width="7rem"
            background="tomato"
            color="white"
            onClick={toggleTimer}
          &gt;
            {!timerStart ? "Start" : "Pause"}
          &lt;/Button&gt;
+         &lt;Button
+           background="blue.300"
+           marginX={5}
+           onClick={triggerResetDialog}
+         &gt;
+           Reset
+         &lt;/Button&gt;
        &lt;/Flex&gt;
        &lt;Flex marginTop={10}&gt;
          {buttons.map(({ value, display }) =&gt; (
            &lt;Button
              marginX={4}
              background="green.300"
              color="white"
              onClick={() =&gt; {
                setTimerStart(false);
                setTime(value);
              }}
            &gt;
              {display}
            &lt;/Button&gt;
          ))}
        &lt;/Flex&gt;
      &lt;/Flex&gt;
    &lt;/div&gt;
  );
}
export default App;
</pre>
<p>Tauriæä¾›äº†ä¸€ä¸ª<a href="https://www.npmjs.com/package/@tauri-apps/api" target="_blank" rel="noopener"> JS/TS API </a>åŒ…ï¼Œç”¨äºä»Ruståç«¯è°ƒç”¨å‡½æ•°ã€‚å¿…è¦çš„åŒ…å·²ç»è¢«<code>create-tauri-app</code>å®ç”¨ç¨‹åºå®‰è£…å¥½äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥å¯¼å…¥npmåŒ…å¹¶åœ¨æˆ‘ä»¬çš„å‰ç«¯ä»£ç ä¸­ä½¿ç”¨å®ƒã€‚</p>
<p>è¦è§¦å‘é€šçŸ¥:</p>
<ul>
<li>ä»é€šçŸ¥æ¨¡å—å¯¼å…¥<code>sendNotification</code>å‡½æ•°</li>
<li>è°ƒç”¨å‰ç«¯ä»£ç ä¸­çš„å‡½æ•°(è§ç¬¬42è¡Œ)ã€‚æ›´å¤šå…³äºAPI <a href="https://tauri.app/v1/api/js/modules/notification#sendnotification" target="_blank" rel="noopener">çš„ä¿¡æ¯ï¼Œè¯·ç‚¹å‡»è¿™é‡Œ</a></li>
</ul>
<p>è¦è§¦å‘å¯¹è¯:</p>
<ul>
<li>ä»å¯¹è¯æ¡†æ¨¡å—å¯¼å…¥<code>ask</code>åŠŸèƒ½</li>
<li>è°ƒç”¨å‰ç«¯ä»£ç ä¸­çš„å‡½æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å°†å‡ºç°åœ¨å¯¹è¯æ¡†ä¸­çš„æ–‡æœ¬(è§ç¬¬27è¡Œ)ã€‚æ›´å¤šå…³äºAPI <a href="https://tauri.app/v1/api/js/modules/dialog#ask" target="_blank" rel="noopener">çš„ä¿¡æ¯ï¼Œè¯·ç‚¹å‡»è¿™é‡Œ</a></li>
<li>å› ä¸ºå®ƒéœ€è¦ç”¨æˆ·è¾“å…¥ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå¸¦æœ‰å¸ƒå°”å€¼çš„æ‰¿è¯ºï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥<code>await</code>å®ƒæ¥è·å¾—ç”¨æˆ·ç‚¹å‡»çš„å€¼</li>
<li>å¦‚æœç”¨æˆ·æ¥å—ï¼Œæˆ‘ä»¬å°†æ—¶é—´å€¼é‡ç½®ä¸º15åˆ†é’Ÿã€‚å¹¶ä¸”å¦‚æœè®¡æ—¶å™¨å·²ç»åœ¨è¿è¡Œï¼Œåˆ™åœæ­¢è®¡æ—¶å™¨</li>
</ul>
<p>æœ€åï¼Œè¦è¿è¡Œåº”ç”¨ç¨‹åºï¼Œè¿è¡Œ<code>npm run tauri dev</code>ã€‚</p>
<p><img data-attachment-id="130839" data-permalink="https://blog.logrocket.com/build-pomodoro-timer-tauri-using-react-and-vite/attachment/pomodoro-timer-final/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pomodoro-timer-final.gif" data-orig-size="730,552" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="pomodoro-timer-final" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pomodoro-timer-final-300x227.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pomodoro-timer-final.gif" decoding="async" class="aligncenter wp-image-130839 size-full jetpack-lazy-image" src="../Images/1041e5e2e611b7c086a6aaea84226917.png" alt="Pomodoro Timer Final" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/09/pomodoro-timer-final.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/pomodoro-timer-final.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="130839" data-permalink="https://blog.logrocket.com/build-pomodoro-timer-tauri-using-react-and-vite/attachment/pomodoro-timer-final/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pomodoro-timer-final.gif" data-orig-size="730,552" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="pomodoro-timer-final" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pomodoro-timer-final-300x227.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/09/pomodoro-timer-final.gif" decoding="async" loading="lazy" class="aligncenter wp-image-130839 size-full" src="../Images/1041e5e2e611b7c086a6aaea84226917.png" alt="Pomodoro Timer Final" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/09/pomodoro-timer-final.gif"/></noscript>
<h2 id="building-th-eapp">æ„å»ºåº”ç”¨ç¨‹åº</h2>
<p>å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ„å»ºç”¨äºåˆ†å‘çš„åº”ç”¨ç¨‹åº:</p>
<pre class="language-shell hljs">cargo tauri build
</pre>
<p>è¿™å°†æ„å»ºåº”ç”¨ç¨‹åºå¹¶åœ¨<code>src-tauri/target/release</code>ä¸‹åˆ›å»ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<p>ç°åœ¨ï¼Œappå‡†å¤‡<a href="https://tauri.app/v1/guides/distribution/publishing/" target="_blank" rel="noopener">å‘å¸ƒ</a>ï¼</p>
<h2 id="conclusion">ç»“è®º</h2>
<p>å°±æ˜¯è¿™æ ·ï¼æ„Ÿè°¢æ‚¨é˜…è¯»æˆ‘å…³äºä½¿ç”¨Tauriä¸Viteå’ŒReactæ„å»ºåº”ç”¨ç¨‹åºçš„æ¼”ç»ƒã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜/å»ºè®®ï¼Œè¯·éšæ—¶é€šè¿‡Twitter <a href="https://twitter.com/rahulnpadalkar" target="_blank" rel="noopener"> @rahulnpadalkar </a>è”ç³»æˆ‘ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°GitHub repoä¸<a href="https://github.com/rahulnpadalkar/PomodoroTimer" target="_blank" rel="noopener">çš„æ‰€æœ‰ä»£ç </a>ã€‚</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">ä½¿ç”¨LogRocketæ¶ˆé™¤ä¼ ç»Ÿååº”é”™è¯¯æŠ¥å‘Šçš„å™ªéŸ³</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>æ˜¯ä¸€æ¬¾React analyticsè§£å†³æ–¹æ¡ˆï¼Œå¯ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªè¯¯æŠ¥é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å°‘æ•°çœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocketå‘Šè¯‰æ‚¨Reactåº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„bugå’ŒUXé—®é¢˜ã€‚</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>è‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€ååº”é”™è¯¯è¾¹ç•Œã€è¿˜åŸçŠ¶æ€ã€ç¼“æ…¢çš„ç»„ä»¶åŠ è½½æ—¶é—´ã€JSå¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶åï¼ŒLogRocketä½¿ç”¨æœºå™¨å­¦ä¹ æ¥é€šçŸ¥æ‚¨å½±å“å¤§å¤šæ•°ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„é—®é¢˜ï¼Œå¹¶æä¾›æ‚¨ä¿®å¤å®ƒæ‰€éœ€çš„ä¸Šä¸‹æ–‡ã€‚</p><p vwo-el-id="28675661060">å…³æ³¨é‡è¦çš„React bugâ€”<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">ä»Šå¤©å°±è¯•è¯•LogRocketã€‘ã€‚</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>