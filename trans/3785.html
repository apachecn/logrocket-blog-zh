<html>
<head>
<title>Automate image optimization using the TinyPNG API </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>ä½¿ç”¨TinyPNG APIè‡ªåŠ¨ä¼˜åŒ–å›¾åƒ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/automate-image-optimization-tinypng-api/#0001-01-01">https://blog.logrocket.com/automate-image-optimization-tinypng-api/#0001-01-01</a></blockquote><div><article class="article-post">
<p>å¦‚æœæ‚¨æƒ³å­¦ä¹ è‡ªåŠ¨åŒ–å›¾åƒä¼˜åŒ–ï¼Œé‚£ä¹ˆæ‚¨æ¥å¯¹åœ°æ–¹äº†ï¼Œå› ä¸ºæ‚¨å¯ä»¥ä½¿ç”¨TinyPNG APIæ¥å®ç°è¿™ä¸€ç‚¹ï¼è¿™ç¯‡æ–‡ç« å°†æ¸…æ¥šåœ°å±•ç¤ºå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨ä½ çš„é¡¹ç›®ä¸­è½»æ¾åœ°ä¼˜åŒ–ä½ çš„å›¾åƒã€‚</p>
<p><em>å‘å‰è·³è½¬:</em></p>

<h2 id="images-and-optimisation">å›¾åƒå’Œä¼˜åŒ–</h2>
<p>å›¾åƒæ˜¯ç½‘ç»œçš„ä¸€å¤§éƒ¨åˆ†â€”â€”å®ƒä»¬ä¹Ÿæ˜¯ç½‘ç»œæœ‰æ•ˆè½½è·çš„ä¸€å¤§éƒ¨åˆ†ã€‚å¦‚æœæˆ‘ä»¬ä¸å°å¿ƒçš„è¯ï¼Œæˆ‘ä»¬æœ€ç»ˆä¼šå¾—åˆ°ä¸€ä¸ªåŠ è½½ç¼“æ…¢ä¸”æ‰˜ç®¡è´¹ç”¨æ˜‚è´µçš„ç½‘ç«™ï¼›ä¸€ä¸ªéå¸¸ç³Ÿç³•çš„ç»„åˆï¼</p>
<p>æˆ‘åœ¨æˆ‘çš„åšå®¢ä¸Šè¿è¡Œ<a href="https://developer.chrome.com/docs/lighthouse/overview/"> Lighthouse </a>ï¼Œæˆ‘ä¸€ç›´åœ¨å¯»æ‰¾æé«˜ç½‘ç«™æ€§èƒ½çš„æ–¹æ³•ï¼›Lighthouseæ ‡è®°çš„äº‹æƒ…ä¹‹ä¸€æ˜¯å›¾åƒä¼˜åŒ–ã€‚æœ€å¥½<a href="https://blog.logrocket.com/ux-design/optimizing-images-mobile-browsers-ux-mindset/">ä¼˜åŒ–æˆ‘ä»¬çš„å›¾ç‰‡</a>ï¼Œä»¥ç¡®ä¿å®ƒä»¬ä¸ä¼šæ— ç”¨åœ°å˜å¤§ï¼Œå¦¨ç¢æˆ‘ä»¬é¡¹ç›®çš„<a href="https://blog.logrocket.com/top-5-web-apis-performance-based-analysis/">è¡¨ç°</a>ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åƒ<a href="https://tinypng.com/"> TinyPNG </a>æˆ–<a href="https://squoosh.app/"> Squoosh </a>è¿™æ ·çš„å·¥å…·æ‰‹åŠ¨å®Œæˆè¿™ä¸ªè¿‡ç¨‹ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¯èƒ½å®Œå…¨è‡ªåŠ¨åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨TinyPNG APIè‡ªåŠ¨ä¼˜åŒ–å›¾åƒã€‚</p>
<h2 id="tiny-png-api">TinyPNG API</h2>
<p>TinyPNG API æ˜¯ä¸€ä¸ªä»˜è´¹æœåŠ¡ã€‚æˆ‘ä»¬å¯ä»¥è·å¾—ä¸€ä¸ªå…è´¹çš„APIå¯†é’¥ï¼Œå…è®¸æˆ‘ä»¬æ¯æœˆä¼˜åŒ–500å¼ å›¾åƒã€‚å¦‚æœæˆ‘ä»¬éœ€è¦æ›´å¤šçš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬éœ€è¦ä»˜è´¹è®¢é˜…ã€‚æˆ‘ä¸ªäººå¾ˆå°‘å‘ç°æˆ‘æ¯æœˆä¼˜åŒ–è¶…è¿‡500å¼ å›¾ç‰‡ï¼Œæ‰€ä»¥æˆ‘å¯¹å…è´¹è®¡åˆ’å¾ˆæ»¡æ„ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œâ€œTinyPNGâ€è¿™ä¸ªåå­—æœ‰ç‚¹ç”¨è¯ä¸å½“ã€‚è¯¥APIæ”¯æŒå¤šç§å›¾åƒæ ¼å¼ï¼ŒåŒ…æ‹¬PNGã€JPEGå’ŒWebPï¼Œå› æ­¤å®ƒä¸ä»…ä»…é€‚ç”¨äºPNGâ€”â€”äº‹å®ä¸Šï¼Œåœ¨æœ¬æ–‡ä¸­æˆ‘ä»¬å°†ä½¿ç”¨WebPæ ¼å¼ã€‚</p>
<p>å¦‚æœæ‚¨æ„¿æ„ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨APIï¼Œä½†æ˜¯æˆ‘æ›´å–œæ¬¢ä½¿ç”¨å®¢æˆ·ç«¯åº“â€”â€”æˆ‘ä»¬å°†ä½¿ç”¨<a href="https://tinypng.com/developers/reference/nodejs"> Node.js </a>åº“ã€‚</p>

<p>æˆ‘ä»¬å°†ä½¿ç”¨<a href="https://www.typescriptlang.org/">ç±»å‹è„šæœ¬</a>å’Œ<a href="https://typestrong.org/ts-node/"> <code>ts-node</code> </a>åˆå§‹åŒ–ä¸€ä¸ªåä¸ºtinifyçš„ç®€å•Node.jsæ§åˆ¶å°åº”ç”¨ç¨‹åº:</p>
<pre class="language-bash hljs">mkdir tinify
cd tinify
npm init -y
npm install @types/node tinify ts-node typescript
npx tsc --init
</pre>
<p>ä½ ä¼šæ³¨æ„åˆ°æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯åœ¨è¿™é‡Œå¼€å‘çš„<code>tinify</code> npmåŒ…<a href="https://github.com/tinify/tinify-nodejs">ã€‚å¾ˆæ–¹ä¾¿ï¼Œè¿™ä¸ªåŒ…é™„å¸¦äº†TypeScriptå®šä¹‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦å®‰è£…å•ç‹¬çš„ç±»å‹åŒ…ã€‚</a></p>
<p>åœ¨æˆ‘ä»¬çš„<code>package.json</code>æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ª<code>start</code>è„šæœ¬æ¥è¿è¡Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åº:</p>
<pre class="language-json hljs">  "scripts": {
    "start": "ts-node index.ts"
  },
</pre>
<p>åœ¨æˆ‘ä»¬çš„<code>tsconfig.json</code>æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬è¿˜å°†æŠŠ<code>target</code>å‡çº§åˆ°æ–°çš„<a href="https://blog.logrocket.com/typescript-4-7-ecmascript-module-support/"> ECMAScript </a> emitç‰ˆæœ¬ï¼Œä»¥å…è®¸æˆ‘ä»¬ä½¿ç”¨ä¸€äº›æ›´æ–°çš„è¯­è¨€ç‰¹æ€§ã€‚å¯¹äºTinyPNGï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿™ä¸ªï¼Œä½†æ˜¯ä½¿ç”¨æ–°çš„ç‰¹æ€§å¾ˆå¥½:</p>
<pre class="language-json hljs">{
  "compilerOptions": {
    "target": "es2021"
  }
}
</pre>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºæˆ‘ä»¬çš„<code>index.ts</code>æ–‡ä»¶:</p>
<pre class="language-typescript hljs">import fs from 'fs';
import path from 'path';
import tinify from 'tinify';

function setUpTinify() {
  if (!process.env.TINIFY_KEY) {
    console.log(
      'Run with: TINIFY_KEY=$YOUR_API_KEY IMAGE_DIR=$YOUR_IMAGE_DIRECTORY yarn start'
    );
    process.exit(1);
  }

  tinify.key = process.env.TINIFY_KEY;
}

function getImageFilesFromDirectory(dir: string) {
  return fs
    .readdirSync(dir)
    .filter(
      (file) =&gt;
        file.endsWith('.jpg') ||
        file.endsWith('.jpeg') ||
        file.endsWith('.webp') ||
        file.endsWith('.png')
    )
    .map((file) =&gt; path.resolve(dir, file))
    .filter((file) =&gt; fs.statSync(file).size &gt; 0);
}

async function processImageFiles(imageFiles: string[]) {
  let processed = 0;
  let totalOriginalSizeKb = 0n;
  let totalNewSizeKb = 0n;
  let failed: string[] = [];

  for (const imageFilePath of imageFiles) {
    try {
      console.log(`
ğŸ–¼ï¸  Processing ${imageFilePath}
`);
      const originalImageFilePrefix = imageFilePath.substring(
        0,
        imageFilePath.lastIndexOf('.')
      );

      const originalStats = await fs.promises.stat(imageFilePath, {
        bigint: true,
      });
      const originalSizeKb = originalStats.size / 1024n;

      const source = tinify.fromFile(imageFilePath);
      const converted = source.convert({ type: ['image/webp', 'image/png'] });
      const convertedExtension = await converted.result().extension();
      const newImageFilePath = `${originalImageFilePrefix}.${convertedExtension}`;
      await converted.toFile(newImageFilePath);

      const newStats = await fs.promises.stat(newImageFilePath, {
        bigint: true,
      });
      const newSizeKb = newStats.size / 1024n;

      const imageFileName = path.basename(imageFilePath);
      const newImageFileName = path.basename(newImageFilePath);

      totalOriginalSizeKb += originalSizeKb;
      totalNewSizeKb += newSizeKb;

      console.log(`- ğŸ”´ ${originalSizeKb}kb - ${imageFileName}
- ğŸŸ¢ ${newSizeKb}kb - ${newImageFileName}
- ğŸ”½ ${calculatePercentageReduction({ originalSizeKb, newSizeKb }).toFixed(
        2
      )}% reduction

âœ… Processed! (${++processed} of ${imageFiles.length})

----------------------`);
    } catch (e) {
      console.log(`\nâŒ Failed to process ${imageFilePath}`);
      failed.push(imageFilePath);
    }
  }

  console.log(`
************************************************
* Total savings for ${imageFiles.length} images 
- ğŸ”´ ${totalOriginalSizeKb}kb
- ğŸŸ¢ ${totalNewSizeKb}kb
- ğŸ”½ ${calculatePercentageReduction({
    originalSizeKb: totalOriginalSizeKb,
    newSizeKb: totalNewSizeKb,
  }).toFixed(2)}% reduction
************************************************
`);

  if (failed.length &gt; 0) console.log('Failed to process', failed);
}

function calculatePercentageReduction({
  originalSizeKb,
  newSizeKb,
}: {
  originalSizeKb: bigint;
  newSizeKb: bigint;
}) {
  return (
    ((Number(originalSizeKb) - Number(newSizeKb)) / Number(originalSizeKb)) *
    100
  );
}

async function run() {
  setUpTinify();

  let directory = process.env.IMAGE_DIR;

  if (!directory) {
    console.log('No directory specified!');
    process.exit(1);
  }

  const imageFiles = getImageFilesFromDirectory(directory);
  console.log(`Found ${imageFiles.length} image files in ${directory}`);
  await processImageFiles(imageFiles);
}

// do it!
run();
</pre>
<p>è¿™é‡Œå‘ç”Ÿäº†å¾ˆå¤šäº‹æƒ…ï¼Œæ‰€ä»¥è®©æˆ‘æ›´è¯¦ç»†åœ°ä»‹ç»ä¸€ä¸‹ã€‚</p>
<p>æ¯æ¬¡è¿è¡Œå®ƒæ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šæ£€æŸ¥æ˜¯å¦æŒ‡å®šäº†TinyPNG APIé”®å’Œå›¾åƒç›®å½•ã€‚å¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä»¬å°†é€€å‡ºå¹¶æ˜¾ç¤ºä¸€æ¡é”™è¯¯æ¶ˆæ¯ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬ä»æŒ‡å®šçš„ç›®å½•ä¸­è·å–å›¾åƒæ–‡ä»¶çš„åˆ—è¡¨ã€‚æˆ‘ä»¬æœç´¢æ‰©å±•åä¸º<code>.jpg</code>ã€<code>.jpeg</code>ã€<code>.webp</code>å’Œ<code>.png</code>(TinyPNGæ”¯æŒçš„æ ¼å¼)çš„æ–‡ä»¶ï¼Œå¹¶è¿‡æ»¤æ‰ä»»ä½•ç©ºæ–‡ä»¶ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†éå†å›¾åƒæ–‡ä»¶å¹¶é€ä¸ªå¤„ç†å®ƒä»¬ã€‚æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨<code>tinify</code>åŒ…æ¥ç¼©å°å›¾åƒï¼Œæˆ‘ä»¬è¯´æˆ‘ä»¬å°†æ¥å—<code>webp</code>æˆ–<code>png</code>ä½œä¸ºæˆ‘ä»¬çš„ç›®æ ‡æ ¼å¼ã€‚Tinifyå°†æ ¹æ®æ¯ä¸ªè¯·æ±‚å†³å®šå“ªç§æ ¼å¼æ˜¯æœ€ä½³çš„ï¼Œå¹¶ç›¸åº”åœ°è¿›è¡Œå‘ˆç°ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬å°†æ–°æ–‡ä»¶ä¿å­˜åˆ°ä¸åŸå§‹æ–‡ä»¶ç›¸åŒçš„ç›®å½•ä¸­ï¼Œå¹¶è®¡ç®—æ–‡ä»¶å¤§å°å‡å°‘çš„ç™¾åˆ†æ¯”ã€‚</p>
<p>ä¸ºäº†äº†è§£è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹è¿›è¡Œè½¬æ¢çš„ä»£ç :</p>
<pre class="language-typescript hljs">const source = tinify.fromFile(imageFilePath);
const converted = source.convert({ type: ['image/webp', 'image/png'] });
const convertedExtension = await converted.result().extension();
const newImageFilePath = `${originalImageFilePrefix}.${convertedExtension}`;
await converted.toFile(newImageFilePath);
</pre>

<p>å·¥å…·ç¼–å†™å®Œæˆåï¼Œæˆ‘ä»¬ç°åœ¨éœ€è¦æµ‹è¯•å®ƒã€‚æˆ‘æœ‰ä¸€ä¸ªè¦å‹ç¼©çš„å›¾åƒç›®å½•:</p>
<p><code>~/code/github/open-graph-sharing-previews/images-to-shrink</code></p>
<p><img data-attachment-id="154185" data-permalink="https://blog.logrocket.com/automate-image-optimization-tinypng-api/attachment/screenshot-of-images-before-optimization/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization.png" data-orig-size="730,320" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="screenshot-of-images-before-optimization" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization-300x132.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization.png" decoding="async" class="aligncenter wp-image-154185 size-full jetpack-lazy-image" src="../Images/9bc489a97459bec81580964aa0f662d8.png" alt="Screenshot Of Images Before Optimization" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization-300x132.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="154185" data-permalink="https://blog.logrocket.com/automate-image-optimization-tinypng-api/attachment/screenshot-of-images-before-optimization/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization.png" data-orig-size="730,320" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="screenshot-of-images-before-optimization" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization-300x132.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization.png" decoding="async" loading="lazy" class="aligncenter wp-image-154185 size-full" src="../Images/9bc489a97459bec81580964aa0f662d8.png" alt="Screenshot Of Images Before Optimization" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization-300x132.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/screenshot-of-images-before-optimization.png"/></noscript>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬é’ˆå¯¹è¯¥ç›®å½•è¿è¡Œæˆ‘ä»¬çš„å·¥å…·ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p>
<pre class="language-bash hljs">TINIFY_KEY=YOUR_API_KEY_GOES_HERE IMAGE_DIR=~/code/github/open-graph-sharing-previews/images-to-shrink yarn start

yarn run v1.22.18
$ ts-node index.ts
Found 6 image files in /home/john/code/github/open-graph-sharing-previews/images-to-shrink

ğŸ–¼ï¸  Processing /home/john/code/github/open-graph-sharing-previews/images-to-shrink/screenshot-of-demo-with-devtools-open.png

- ğŸ”´ 253kb - screenshot-of-demo-with-devtools-open.png
- ğŸŸ¢ 83kb - screenshot-of-demo-with-devtools-open.png
- ğŸ”½ 67.19% reduction

âœ… Processed! (1 of 6)

----------------------

ğŸ–¼ï¸  Processing /home/john/code/github/open-graph-sharing-previews/images-to-shrink/screenshot-of-email-demonstrating-sharing-with-a-non-cropped-image.png

- ğŸ”´ 158kb - screenshot-of-email-demonstrating-sharing-with-a-non-cropped-image.png
- ğŸŸ¢ 50kb - screenshot-of-email-demonstrating-sharing-with-a-non-cropped-image.png
- ğŸ”½ 68.35% reduction

âœ… Processed! (2 of 6)

----------------------

ğŸ–¼ï¸  Processing /home/john/code/github/open-graph-sharing-previews/images-to-shrink/screenshot-of-tweet-demonstrating-sharing-with-a-cropped-image.png

- ğŸ”´ 391kb - screenshot-of-tweet-demonstrating-sharing-with-a-cropped-image.png
- ğŸŸ¢ 64kb - screenshot-of-tweet-demonstrating-sharing-with-a-cropped-image.webp
- ğŸ”½ 83.63% reduction

âœ… Processed! (3 of 6)

----------------------

ğŸ–¼ï¸  Processing /home/john/code/github/open-graph-sharing-previews/images-to-shrink/screenshot-of-tweet-demonstrating-sharing.png

- ğŸ”´ 407kb - screenshot-of-tweet-demonstrating-sharing.png
- ğŸŸ¢ 78kb - screenshot-of-tweet-demonstrating-sharing.webp
- ğŸ”½ 80.84% reduction

âœ… Processed! (4 of 6)

----------------------

ğŸ–¼ï¸  Processing /home/john/code/github/open-graph-sharing-previews/images-to-shrink/screenshot-of-twitter-validator.png

- ğŸ”´ 162kb - screenshot-of-twitter-validator.png
- ğŸŸ¢ 49kb - screenshot-of-twitter-validator.webp
- ğŸ”½ 69.75% reduction

âœ… Processed! (5 of 6)

----------------------

ğŸ–¼ï¸  Processing /home/john/code/github/open-graph-sharing-previews/images-to-shrink/title-image.png

- ğŸ”´ 308kb - title-image.png
- ğŸŸ¢ 49kb - title-image.webp
- ğŸ”½ 84.09% reduction

âœ… Processed! (6 of 6)

----------------------

************************************************
* Total savings for 6 images
- ğŸ”´ 1679kb
- ğŸŸ¢ 373kb
- ğŸ”½ 77.78% reduction
************************************************

Done in 25.23s.
</pre>
<p>è¿™éš¾é“ä¸ä»¤äººå°è±¡æ·±åˆ»å—ï¼Ÿæˆ‘ä»¬å·²ç»å°†æ‰€æœ‰è¿™äº›å›¾åƒçš„æ–‡ä»¶å¤§å°å¹³å‡å‡å°‘äº†77.78%ï¼è¿™æ˜¯ä¸€ç¬”å·¨å¤§çš„èŠ‚çœï¼</p>
<p>å¦‚æœæˆ‘ä»¬ä»”ç»†è§‚å¯Ÿï¼Œæˆ‘ä»¬ä¼šå‘ç°åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œæ ¼å¼ä»ç„¶æ˜¯PNGæ–‡ä»¶ï¼Œå¹¶ä¸”å¤§å°ç¼©å°äº†ã€‚åœ¨å››ç§æƒ…å†µä¸‹ï¼Œæ ¼å¼å·²æ›´æ”¹ä¸ºWebPæ–‡ä»¶ã€‚å½“æˆ‘ä»¬å†æ¬¡æŸ¥çœ‹æˆ‘ä»¬çš„ç›®å½•æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ–‡ä»¶å·²ç»æ›´æ–°ï¼Œå¹¶ä¸”åˆ›å»ºäº†ä¸€äº›æ–°çš„WebPæ–‡ä»¶:</p>
<p><img data-attachment-id="154189" data-permalink="https://blog.logrocket.com/automate-image-optimization-tinypng-api/attachment/images-after-optimization-tinify-tiny-api-reduced-sizes/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes.png" data-orig-size="730,510" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="images-after-optimization-tinify-tiny-api-reduced-sizes" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes-300x210.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes.png" decoding="async" class="aligncenter wp-image-154189 size-full jetpack-lazy-image" src="../Images/7a425b0f3d857c17eb9e879866365334.png" alt="Images After Optimization Tinify Tiny API Reduced Sizes" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes-300x210.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="154189" data-permalink="https://blog.logrocket.com/automate-image-optimization-tinypng-api/attachment/images-after-optimization-tinify-tiny-api-reduced-sizes/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes.png" data-orig-size="730,510" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="images-after-optimization-tinify-tiny-api-reduced-sizes" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes-300x210.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes.png" decoding="async" loading="lazy" class="aligncenter wp-image-154189 size-full" src="../Images/7a425b0f3d857c17eb9e879866365334.png" alt="Images After Optimization Tinify Tiny API Reduced Sizes" srcset="https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes-300x210.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/01/images-after-optimization-tinify-tiny-api-reduced-sizes.png"/></noscript>
<h2 id="conclusion">ç»“è®º</h2>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¦‚ä½•ä½¿ç”¨TinyPNG APIæ¥ä¼˜åŒ–æˆ‘ä»¬çš„å›¾åƒã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜æ¼”ç¤ºäº†å¦‚ä½•æ„å»ºä¸€ä¸ªå·¥å…·ï¼Œä½¿ç”¨TinyPNG APIè‡ªåŠ¨ä¼˜åŒ–ç»™å®šç›®å½•ä¸­çš„å›¾åƒã€‚</p>
<p>è¿™ä¸€åˆ‡éƒ½æ˜¯è‡ªåŠ¨åŒ–çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨å¯ä»¥éšæ—¶éšåœ°è¿è¡Œè¿™ä¸ªè„šæœ¬æ¥ä¼˜åŒ–å›¾åƒï¼</p>
<p>å¦‚æœä½ æœ‰å…´è¶£å­¦ä¹ å…¶ä»–å›¾åƒä¼˜åŒ–çš„æ–¹æ³•ï¼Œä½ å¯èƒ½ä¼šå‘ç°<a href="https://johnnyreilly.com/2022/12/26/docusaurus-image-cloudinary-rehype-plugin">è¿™ç¯‡å…³äºä½¿ç”¨Cloudinaryä½œä¸ºä½ çš„å›¾åƒCDN </a>çš„æ–‡ç« å¾ˆæœ‰è¶£ã€‚</p><div class="code-block code-block-21">
<div class="blog-plug inline-plug typescript-plug"><h2><a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>:å…¨é¢äº†è§£æ‚¨çš„ç½‘ç»œå’Œç§»åŠ¨åº”ç”¨</h2>
<a href="https://lp.logrocket.com/blg/typescript-signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p>LogRocket æ˜¯ä¸€ä¸ªå‰ç«¯åº”ç”¨ç¨‹åºç›‘æ§è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥è®©æ‚¨å›æ”¾é—®é¢˜ï¼Œå°±åƒé—®é¢˜å‘ç”Ÿåœ¨æ‚¨è‡ªå·±çš„æµè§ˆå™¨ä¸­ä¸€æ ·ã€‚LogRocketä¸éœ€è¦çŒœæµ‹é”™è¯¯å‘ç”Ÿçš„åŸå› ï¼Œä¹Ÿä¸éœ€è¦å‘ç”¨æˆ·è¯¢é—®æˆªå›¾å’Œæ—¥å¿—è½¬å‚¨ï¼Œè€Œæ˜¯è®©æ‚¨é‡æ”¾ä¼šè¯ä»¥å¿«é€Ÿäº†è§£å“ªé‡Œå‡ºé”™äº†ã€‚å®ƒå¯ä»¥ä¸ä»»ä½•åº”ç”¨ç¨‹åºå®Œç¾é…åˆï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæ¡†æ¶ï¼Œå¹¶ä¸”æœ‰æ’ä»¶å¯ä»¥è®°å½•æ¥è‡ªReduxã€Vuexå’Œ@ngrx/storeçš„é¢å¤–ä¸Šä¸‹æ–‡ã€‚</p>
<p>é™¤äº†è®°å½•Reduxæ“ä½œå’ŒçŠ¶æ€ï¼ŒLogRocketè¿˜è®°å½•æ§åˆ¶å°æ—¥å¿—ã€JavaScripté”™è¯¯ã€å †æ ˆè·Ÿè¸ªã€å¸¦æœ‰å¤´+æ­£æ–‡çš„ç½‘ç»œè¯·æ±‚/å“åº”ã€æµè§ˆå™¨å…ƒæ•°æ®å’Œè‡ªå®šä¹‰æ—¥å¿—ã€‚å®ƒè¿˜ä½¿ç”¨DOMæ¥è®°å½•é¡µé¢ä¸Šçš„HTMLå’ŒCSSï¼Œç”šè‡³ä¸ºæœ€å¤æ‚çš„å•é¡µé¢å’Œç§»åŠ¨åº”ç”¨ç¨‹åºé‡æ–°åˆ›å»ºåƒç´ çº§å®Œç¾è§†é¢‘ã€‚</p>
<a class="signup" href="https://lp.logrocket.com/blg/typescript-signup" target="_blank" rel="noopener noreferrer">Try it for free</a><p>.</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>