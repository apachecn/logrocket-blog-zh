<html>
<head>
<title>Building a CRUD application using Svelte and Firebase - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>ä½¿ç”¨ Svelte å’Œ Firebase æ„å»º CRUD åº”ç”¨ç¨‹åº</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/building-crud-application-svelte-firebase/#0001-01-01">https://blog.logrocket.com/building-crud-application-svelte-firebase/#0001-01-01</a></blockquote><div><article class="article-post">
<p>åˆ›å»ºäº 2017 å¹´çš„<a href="https://blog.logrocket.com/build-web-components-svelte/" target="_blank" rel="noopener"> Svelte </a>æ˜¯ä¸€æ¬¾åœ¨æ„å»ºæœŸé—´å°†ç»„ä»¶ç¼–è¯‘æˆ JavaScript çš„ç®€å•å·¥å…·ã€‚è¿™ä¸æˆ‘ä»¬ä¹ æƒ¯çš„ä¼ ç»Ÿæ¡†æ¶æˆªç„¶ä¸åŒï¼Œä¼ ç»Ÿæ¡†æ¶ä»æµè§ˆå™¨æ„å»ºåº”ç”¨ç¨‹åºã€‚é™¤äº†è¿™ç§ç‹¬ç‰¹çš„æ–¹æ³•ï¼ŒSvelte éå¸¸å°ï¼Œåªæœ‰ 4.1kbã€‚å®ƒä¸ºå‰ç«¯å¼€å‘äººå‘˜æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£ Svelte çš„ä¸€äº›å¥½å¤„ï¼ŒåŒæ—¶ä½¿ç”¨å®ƒæ„å»ºä¸€ä¸ªä»¥ Firebase ä¸ºåç«¯çš„ CRUD åº”ç”¨ç¨‹åºã€‚ä¸€èµ·ä½¿ç”¨ Svelte å’Œ Firebase å¯èƒ½ä¼šæœ‰ç‚¹æ£˜æ‰‹ï¼Œæ‰€ä»¥å¦‚æœä½ é‡åˆ°å›°éš¾ï¼Œå¸Œæœ›è¿™ç¯‡æ•™ç¨‹èƒ½æœ‰æ‰€å¸®åŠ©ã€‚</p>
<h3>å†…å®¹</h3>

<h2 id="building-svelte-application">æ„å»ºè‹—æ¡çš„åº”ç”¨ç¨‹åº</h2>
<p>è®©æˆ‘ä»¬ä»æ„å»ºä¸€ä¸ªå¤„ç†ä¸åŒæƒ…å†µçš„ç®€å•çš„åº”ç”¨ç¨‹åºå¼€å§‹ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Firebase åœ¨äº‘ä¸­ä¿å­˜æ•°æ®ã€‚</p>
<p>æˆ‘ä»¬è¿˜å°†ä½¿ç”¨ä¸€ä¸ªç®€å•çš„æ¡†æ¶æ¥å¼•å¯¼åº”ç”¨ç¨‹åºï¼›å®ƒå°†æœ‰åŠ©äºå¤„ç†æˆ‘ä»¬çš„è·¯ç”±å¹¶åœ¨æœ€åæ„å»ºåº”ç”¨ç¨‹åº:</p>
<pre class="language-shell hljs">npm init <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9fece9faf3ebfadff1fae7eb">[emailÂ protected]</a> bloggo // bloggo is the name of the app. You can change
</pre>
<p>è¯¥è¿‡ç¨‹å®Œæˆåï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…ä¾èµ–é¡¹:</p>
<pre class="language-shell hljs">npm install
</pre>
<p>å®Œæˆåï¼Œåƒè¿™æ ·è¿è¡Œå¼€å‘æœåŠ¡å™¨:</p>
<pre class="language-shell hljs">npm run dev â€” â€”open
</pre>
<p>æ‰“å¼€åï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹å†…å®¹ã€‚è¿™æ„å‘³ç€è‡ªä¸¾æˆåŠŸäº†ã€‚</p>
<p><img data-attachment-id="112303" data-permalink="https://blog.logrocket.com/building-crud-application-svelte-firebase/blank-sveltekit-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app.png" data-orig-size="730,456" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blank sveltekit app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app-300x187.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app.png" decoding="async" class="size-full wp-image-112303 aligncenter jetpack-lazy-image" src="../Images/f95590f99d11e2773038bdecaaa5b17e.png" alt="Blank sveltekit app" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app-300x187.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="112303" data-permalink="https://blog.logrocket.com/building-crud-application-svelte-firebase/blank-sveltekit-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app.png" data-orig-size="730,456" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blank sveltekit app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app-300x187.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app.png" decoding="async" loading="lazy" class="size-full wp-image-112303 aligncenter" src="../Images/f95590f99d11e2773038bdecaaa5b17e.png" alt="Blank sveltekit app" srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app-300x187.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/Blank-sveltekit-app.png"/></noscript>
<p>è¦å¤‡ä»½ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… Firebase:</p>
<pre class="language-shell hljs">npm install Firebase
</pre>
<p>æ‚¨çš„<code>package.json</code>åº”è¯¥æ˜¯è¿™æ ·çš„:</p>
<pre class="language-json hljs">{
  "name": "bloggo",
  "version": "0.0.1",
  "scripts": {
    "dev": "svelte-kit dev",
    "build": "svelte-kit build",
    "package": "svelte-kit package",
    "preview": "svelte-kit preview",
    "prepare": "svelte-kit sync",
    "test": "playwright test",
    "lint": "prettier --ignore-path .gitignore --check --plugin-search-dir=. .",
    "format": "prettier --ignore-path .gitignore --write --plugin-search-dir=. ."
  },
  "devDependencies": {
    "@playwright/test": "^1.20.0",
    "@sveltejs/adapter-auto": "next",
    "@sveltejs/kit": "next",
    "prettier": "^2.5.1",
    "prettier-plugin-svelte": "^2.5.0",
    "svelte": "^3.44.0"
  },
  "type": "module",
  "dependencies": {
    "Firebase": "^9.6.10"
  }
}
</pre>
<p>ç°åœ¨ï¼Œå¯¼èˆªåˆ° Firebase æ§åˆ¶å°ã€‚åˆ›å»ºä¸€ä¸ªæ–°åº”ç”¨ç¨‹åºï¼Œç„¶åç‚¹å‡»å·¦ä¸Šè§’çš„<strong>é¡¹ç›®è®¾ç½®</strong>ã€‚</p>
<p>ä¸€è·¯å‘ä¸‹æ»šåŠ¨ï¼Œåˆ›å»ºä¸€ä¸ª web åº”ç”¨ç¨‹åºï¼Œå¹¶è·å¾— Firebase é…ç½®ã€‚å¦‚æœæ‚¨æ‰¾ä¸åˆ°é…ç½®ä¿¡æ¯ï¼Œæ‚¨æ€»æ˜¯å¯ä»¥è¿”å›åˆ°é¡¹ç›®è®¾ç½®å¹¶ä»é‚£é‡Œè·å¾—å®ƒã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œåœ¨åº”ç”¨ç¨‹åºçš„ src ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¹¶å°†å…¶å‘½åä¸º<code>Firebase.js</code>ã€‚å°† Firebase é…ç½®ç²˜è´´åˆ°é‡Œé¢ã€‚</p>
<h2 id="connecting-firebase">è¿æ¥åˆ° Firebase</h2>
<p>Firebase å·²ç»è®¾ç½®å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦åˆå§‹åŒ–åº”ç”¨ç¨‹åºä»¥è¿æ¥åˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚ä»<code>Firebase.js</code>ä¸­å¯¼å…¥ä»¥ä¸‹å†…å®¹:</p>
<pre class="language-javascript hljs">import { initializeApp } from "Firebase/app"
</pre>
<p>ç„¶åï¼Œä½¿ç”¨ Firebase ä¸­çš„é…ç½®æˆæƒæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">// Initialize our Firebase for our application
 const app = initializeApp(FirebaseConfig);
</pre>
<p>ä¸ºäº†åˆ›å»ºæ›´å¥½çœ‹çš„ç”¨æˆ·ç•Œé¢ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a href="https://carbon-components-svelte.onrender.com/" target="_blank" rel="noopener"> Carbon Components Svelte </a>ï¼Œä¸€ä¸ªå®ç° Carbon è®¾è®¡ç³»ç»Ÿçš„ç»„ä»¶åº“:</p>
<pre class="language-shell hljs">npm i -D carbon-components-svelte
</pre>
<h2 id="authentication">è¯æ˜</h2>
<p>åœ¨<code>routes</code>ä¸­æ–°å»ºä¸€ä¸ªåä¸º<code>auth</code>çš„æ–‡ä»¶å¤¹ï¼Œå¹¶æ·»åŠ <code>login.svelte</code>å’Œ<code>register.svelte</code>ã€‚<br/>ç™»å½•ã€æ³¨å†Œå’Œä¸»é¡µå°†é‡ç”¨ç›¸åŒçš„å¸ƒå±€ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼›è¿™æ„å‘³ç€æ‰€æœ‰é¡µé¢çš„é¡µè„šå’Œå¯¼èˆªéƒ½æ˜¯ä¸€æ ·çš„</p>
<p>å¸ƒå±€å¦‚ä¸‹æ‰€ç¤ºã€‚é¡µé¢å°†è¢«æ³¨å…¥æ’æ§½:</p>
<pre class="language-html hljs">&lt;nav&gt;
    &lt;h2&gt;
        Bloggy
    &lt;/h2&gt;
    &lt;ul&gt;
        &lt;li&gt;
            &lt;a href="/auth/login"&gt;Login&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
            &lt;a href="/auth/register"&gt;Sign Up&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/nav&gt;
&lt;slot&gt;&lt;/slot&gt;
&lt;footer&gt;
    &lt;h2&gt;bloggo&lt;/h2&gt;
&lt;/footer&gt;
&lt;style&gt;
    nav {
        display: flex;
        justify-content: end;
        padding: 1.3em 2em;
        background-color: whitesmoke;
        box-shadow: 0 6px 8px #D7E1E9;
    }
    nav h2 {
        font-weight: bold;
        font-size: 18px;
        color: black;
    }
    nav ul li {
        list-style: none;
        display: inline-block;
        padding-right: 1em;
    }
    li a  {
        text-decoration: none;
        color: black;
    }
    li a:hover {
        color: orange;
    }
    footer {
        background-color: #D7E1E9;
        padding: 2em;
        height: 20vh;
        display: flex;
        justify-content: center;
    }
&lt;/style&gt;
</pre>
<p>è¯·æ³¨æ„ï¼Œå¸ƒå±€ä»¥ä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å§‹å‘½å:<code>__layout.svelte</code>ã€‚è¿™æ˜¯ä¸ºäº†å°†å…¶ä¸å…¶ä»–é¡µé¢åŒºåˆ†å¼€æ¥ã€‚</p>
<p>ä¸ºäº†ç¡®ä¿ä»£ç çš„å¯ç»´æŠ¤æ€§ï¼Œåœ¨<code>source</code>ä¸‹åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œå¹¶å°†å…¶å‘½åä¸º<code>components</code>ã€‚ç„¶åï¼Œåœ¨<code>components</code>ä¸‹æ–°å»ºä¸€ä¸ªåä¸º<code>auth</code>çš„æ–‡ä»¶å¤¹ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œæ·»åŠ ä¸¤ä¸ªåä¸º<code>sign_in.svelte</code>å’Œ<code>sign_up.svelte</code>çš„æ–°æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶å°†å¤„ç†æˆ‘ä»¬çš„è¡¨å•æäº¤ã€‚å›åˆ°<code>routing</code>ä¸‹çš„<code>auth</code>æ–‡ä»¶å¤¹ï¼Œå¯¼å…¥ç»„ä»¶ã€‚</p>
<p>ç°åœ¨ï¼Œç™»å½•æµç¨‹çš„ä»£ç å°†å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-html hljs">&lt;script&gt;
    import SignIn from "../../lib/auth/sign_in.svelte";
    import { Link } from "carbon-components-svelte";
&lt;/script&gt;
&lt;div&gt;
    &lt;div class="header"&gt;
        &lt;h4&gt;Login&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class="signin-form"&gt;
        &lt;SignIn /&gt;
        &lt;div&gt;Already have an account? &lt;Link href="/auth/register"&gt;Sign Up&lt;/Link&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
     .header {
         width: 100vw;
         padding: 2em 0;
         min-height: 20vh;
         display: flex;
         justify-content: center;
         align-items: center;
         background-color: #E5F0FF;
     }
     .header h4 {
         color: black;
         font-weight: 600;
         font-size: 3rem;
     }
     .signin-form {
         min-height: 80vh;
         display: grid;
         place-items: center;
     }
&lt;/style&gt;
</pre>
<p>åŒæ ·çš„é“ç†ä¹Ÿé€‚ç”¨äº<code>register.svelte</code>:</p>
<pre class="language-svelte hljs">&lt;script&gt;
    import SignUp from "../../lib/auth/sign_up.svelte";
    import { Link } from "carbon-components-svelte";
&lt;/script&gt;
&lt;div&gt;
    &lt;div class="header"&gt;
        &lt;h4&gt;Sign Up&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class="form-container"&gt;
        &lt;SignUp/&gt;
        &lt;div&gt;Already have an account? &lt;Link href="/auth/login"&gt;Sign In&lt;/Link&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
    .header {
         width: 100vw;
         padding: 2em 0;
         min-height: 20vh;
         display: flex;
         justify-content: center;
         align-items: center;
         background-color: #E5F0FF;
     }
     .header h4 {
         color: black;
         font-weight: 600;
         font-size: 3rem;
     }
     .form-container {
         min-height: 80vh;
         display: grid;
         place-items: center;
     }
&lt;/style&gt;
</pre>
<h2 id="adding-firebase-authentication">æ·»åŠ  Firebase èº«ä»½éªŒè¯</h2>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä» Firebase æ§åˆ¶å°å¯ç”¨ Firebase èº«ä»½éªŒè¯ã€‚è¿™å°†å…è®¸æˆ‘ä»¬å¯¹ä½¿ç”¨è„¸ä¹¦ã€è‹¹æœæˆ–åŒ¿åè´¦æˆ·çš„ç”¨æˆ·è¿›è¡Œä¸åŒçš„è®¤è¯æ£€æŸ¥ï¼Œä½†åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†è¿›è¡ŒåŸºæœ¬çš„ç”µå­é‚®ä»¶å’Œå¯†ç æ£€æŸ¥ã€‚</p>
<p>å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°åº”ç”¨ç¨‹åºæ ¹ç›®å½•ä¸‹çš„<code>Firebase.js</code>æ–‡ä»¶ä¸­:</p>
<pre class="language-javascript hljs">import { initializeApp } from "Firebase/app";
import { getAuth } from "Firebase/auth";
import { collection, doc, getFirestore } from "Firebase/firestore/lite";

// Our fireabase config goes here
//...

// Initialize our Firebase for our application
let app = initializeApp(FirebaseConfig);
const auth = getAuth(app);
let db = getFirestore(app);
const userDoc = (userId) =&gt; doc(db, "users", userId)
export {
    auth,
}
</pre>
<p>æˆ‘ä»¬é¦–å…ˆä½¿ç”¨å¸¦æœ‰ Firebase é…ç½®çš„<code>initializeApp</code>åˆå§‹åŒ– Firebaseã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>get[service]</code>è®¿é—®è®¤è¯å’Œ Firebase æœåŠ¡ï¼Œå¹¶ä¼ å…¥æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œå¦‚ä¸Šæ‰€ç¤ºã€‚</p>
<p>ç°åœ¨ï¼Œè½¬åˆ°<code>lib/auth</code>æ–‡ä»¶å¤¹ä¸­çš„<code>sign_up_form</code>ç»„ä»¶ã€‚æˆ‘ä»¬å°†ä½¿ç”¨äº‹ä»¶å°†æ³¨å†Œè¡¨å•æ•°æ®å‘é€åˆ°æˆ‘ä»¬çš„æ³¨å†Œé¡µé¢æ¥æ³¨å†Œç”¨æˆ·ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†è¡¨å•å€¼è¢«åŠ¨ç»‘å®šåˆ°å˜é‡ï¼Œå¹¶å°†æ³¨å†ŒæŒ‰é’®è¿æ¥åˆ°è°ƒåº¦å‡½æ•°:</p>
<pre class="language-javascript hljs">&lt;script&gt;
    import { Form, TextInput, PasswordInput, Button } from 'carbon-components-svelte';
    import { createEventDispatcher } from "svelte"
    let dispatch = createEventDispatcher()
    let username, email, password;

    function signup() {
        dispatch("signup", {
            username,
            email,
            password
        })
    }
&lt;/script&gt;

&lt;div class="form"&gt;
    &lt;Form&gt;
        &lt;TextInput bind:value={username} labelText="Username" placeholder="Enter your username" name="username"/&gt;
        &lt;div class="space" /&gt;
        &lt;TextInput bind:value={email} labelText="Email address" placeholder="Enter your email" type="email" name="email" /&gt;
        &lt;div class="space" /&gt;
        &lt;PasswordInput
            bind:value={password}
            tooltipAlignment="start"
            tooltipPosition="left"
            labelText="Password"
            placeholder="Enter password"
            name="password"
        /&gt;
        &lt;div class="space" /&gt;
        &lt;Button size="small" on:click={signup}&gt;Sign Up&lt;/Button&gt;
    &lt;/Form&gt;
&lt;/div&gt;
&lt;style&gt;
    .form {
        width: 400px;
    }
    .form .space {
        margin: .6em 0;
    }
&lt;/style&gt;
</pre>
<p>ä¸€æ—¦å‘é€äº†è¡¨å•æ•°æ®ï¼Œæˆ‘ä»¬å°±åœ¨æ³¨å†Œé¡µé¢ä¸­è®¾ç½®ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œå®ƒä½äº<code>routes</code>æ–‡ä»¶å¤¹ä¸­:</p>
<pre class="language-javascript hljs">&lt;svelte:head&gt;
    &lt;title&gt;Register&lt;/title&gt;
&lt;/svelte:head&gt;
&lt;div&gt;
    &lt;div class="header"&gt;
        &lt;h4&gt;Sign Up&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class="form-container"&gt;
        {#if errors}
            {#each errors as error, i (i)}
                &lt;div class="notification-block"&gt;
                    &lt;p&gt;{error}&lt;/p&gt;
                &lt;/div&gt;
            {/each}
        {/if}
        &lt;SignUp on:signup={signUp} /&gt;
        &lt;div&gt;Already have an account? &lt;Link href="/auth/login"&gt;Sign In&lt;/Link&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</pre>
<p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¼ é€’ç»™<code>signUp</code>çš„äº‹ä»¶å‚æ•°ä¸­è®¿é—®è°ƒåº¦çš„æ•°æ®:</p>
<pre class="language-javascript hljs">&lt;script&gt;
    import SignUp from '../../lib/auth/sign_up_form.svelte';
    import { Link } from 'carbon-components-svelte';
    import { createUserWithEmailAndPassword, updateProfile } from 'Firebase/auth';
    import { goto } from '$app/navigation';
    import { auth, userDoc } from '../../Firebase';
    import { setDoc } from 'Firebase/firestore/lite';
  let errors;
async function signUp(event) {
        try {
            let user = await createUserWithEmailAndPassword(
                auth,
                event.detail.email,
                event.detail.password
            );
            await updateProfile(user.user, { displayName: event.detail.username });
            await setDoc(userDoc(auth.currentUser.uid), {
                username: user.user.displayName,
                email: user.user.email
            });
            await goto('/admin');
        } catch (e) {
            console.log('error from creating user', e);
        }
    }
&lt;/script&gt;
</pre>
<p>ä¸€æ—¦ç”¨æˆ·æˆåŠŸæ³¨å†Œï¼Œæˆ‘ä»¬å°†æ›´æ–°ç”¨æˆ·èµ„æ–™ï¼Œå¹¶ä½¿ç”¨å¼‚æ­¥å‡½æ•°<code>goto</code>å°†ä»–ä»¬å¯¼èˆªåˆ°ç®¡ç†é¡µé¢ã€‚</p>
<p>ç™»å½•ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æˆ‘ä»¬åœ¨<code>sign_in_form</code>ç»„ä»¶ä¸­è®¾ç½®äº†ä¸€ä¸ªè°ƒåº¦å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">&lt;script&gt;
    import { Form, TextInput, PasswordInput, Button } from 'carbon-components-svelte';
import { createEventDispatcher } from 'svelte';
    let email, password;
    const dispatcher = createEventDispatcher()
    function login() {
        dispatcher('login', {
            email,
            password
        })
    }
&lt;/script&gt;
&lt;div class="form-container"&gt;
    &lt;Form&gt;
        &lt;TextInput bind:value={email} type="email" labelText="Email" placeholder="Enter your email" name="email"/&gt;
        &lt;div class="space" /&gt;
        &lt;PasswordInput
            labelText="Password"
            bind:value={password}
            placeholder="Enter password"
            tooltipAlignment="start"
            tooltipPosition="left"
            name="password"
        /&gt;
        &lt;div class="space"&gt;&lt;/div&gt;
        &lt;Button size="small" on:click={login}&gt;Sign In&lt;/Button&gt;
    &lt;/Form&gt;
&lt;/div&gt;
&lt;style&gt;
    .form-container {
        width: 30%;
    }
    .form-container .space {
        margin: 20px 0;
    }
&lt;/style&gt;
</pre>
<p>ä½¿ç”¨äº‹ä»¶å¾ˆæœ‰å¸®åŠ©ï¼Œå› ä¸ºå®ƒå…è®¸æ‚¨åœ¨æäº¤æ•°æ®ä¹‹å‰åšå…¶ä»–äº‹æƒ…ï¼Œæ¯”å¦‚éªŒè¯ã€‚è¿™æ ·å­©å­å’Œçˆ¶æ¯ä¹‹é—´çš„äº¤æµå°±å˜å¾—å®¹æ˜“å¤šäº†ã€‚</p>
<p>ç°åœ¨ï¼Œåœ¨ç™»å½•é¡µé¢ä¸­ï¼Œç¼–å†™ä»¥ä¸‹å†…å®¹:</p>
<pre class="language-javascript hljs">&lt;script&gt;
    import SignIn from "../../lib/auth/sign_in_form.svelte";
    import { Link } from "carbon-components-svelte";
    import { signInWithEmailAndPassword } from "Firebase/auth";
    import { auth, userDoc } from "../../Firebase";
    import { goto } from "$app/navigation";
    import { setDoc } from "Firebase/firestore/lite";
    let error;
    async function signIn(event) {
        try {
            let user = await signInWithEmailAndPassword(auth, event.detail.email, event.detail.password)
            await setDoc(userDoc(auth.currentUser.uid), { username: user.user.displayName, email: user.user.email })
            await goto("/admin")
        } catch (error) {
            console.log("error signin in", error.message)
          error = error.message
        }
    }
&lt;/script&gt;
&lt;svelte:head&gt;
    &lt;title&gt;
        Login
    &lt;/title&gt;
&lt;/svelte:head&gt;
&lt;div&gt;
    &lt;div class="header"&gt;
        &lt;h4&gt;Login&lt;/h4&gt;
    &lt;/div&gt;
    &lt;div class="signin-form"&gt;
        {#if error}
            &lt;div class="notification-block"&gt;
                &lt;p&gt;{error}&lt;/p&gt;
            &lt;/div&gt;
        {/if}
        &lt;SignIn on:login={signIn}/&gt;
        &lt;div&gt;Already have an account? &lt;Link href="/auth/register"&gt;Sign Up&lt;/Link&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
     .header {
         width: 100vw;
         padding: 2em 0;
         min-height: 20vh;
         display: flex;
         justify-content: center;
         align-items: center;
         background-color: #E5F0FF;
     }
     .header h4 {
         color: black;
         font-weight: 600;
         font-size: 3rem;
     }
     .signin-form {
         min-height: 80vh;
         display: grid;
         place-items: center;
     }
     .notification-block {
         min-width: 20vw;
         padding: 1.2em .75em;
         border-radius: 5px;
         background-color: #FE634E;
     }
     .notification-block p {
         color: white;
     }
&lt;/style&gt;
</pre>
<p>æˆ‘ä»¬çš„ç™»å½•å’Œæ³¨å†Œé€»è¾‘å·²ç»å®Œæˆï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦é˜²æ­¢ç”¨æˆ·åœ¨æœªç»èº«ä»½éªŒè¯çš„æƒ…å†µä¸‹è®¿é—®ç®¡ç†é¡µé¢ã€‚é˜»æ­¢è®¿é—®ä¸€ä¸ªç‰¹å®šçš„é¡µé¢æ„å‘³ç€æˆ‘ä»¬éœ€è¦åœ¨å®ƒè¢«åŠ è½½ä¹‹å‰å°±è¿™æ ·åšï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¨¡å—è„šæœ¬ä¸­çš„<code>load</code>å‡½æ•°ä¸­ä¸ºæ¯ä¸€ä¸ªè‹—æ¡çš„é¡µé¢æä¾›è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§ååº”å¼çš„æ–¹æ³•æ¥æ£€æŸ¥èº«ä»½éªŒè¯çš„æ›´æ”¹ã€‚å¹¸è¿çš„æ˜¯ï¼ŒFirebase ä½¿ç”¨<code>AuthStateChanged</code>å‡½æ•°æä¾›äº†è¿™ä¸ªåŠŸèƒ½ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ç›‘å¬è¿™ä¸ªï¼Œå¹¶åœ¨<code>getStores</code>ä¸­æ›´æ–°ä¼šè¯ã€‚</p>
<p>ä¸ºäº†ç¡®ä¿å®ƒèƒ½å¤Ÿå·¥ä½œï¼Œè®©æˆ‘ä»¬åœ¨<code>onMount</code>å‡½æ•°ä¸­åŠ è½½å®ƒã€‚è¿™å°†åœ¨é¡µé¢è£…è½½åè°ƒç”¨ï¼Œä½†ä¸ä¼šåœ¨å‘ˆç°ä¹‹å‰è°ƒç”¨ã€‚</p>
<p>å½“ç”¨æˆ·ç™»å½•æ—¶ï¼Œä¼šè¯å°†ä½¿ç”¨ç”¨æˆ·æ•°æ®è¿›è¡Œæ›´æ–°ï¼Œå¹¶åœ¨ç”¨æˆ·æ³¨é”€ååˆ é™¤ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¼šè¯æ˜¯è¢«åŠ¨çš„ï¼Œå°†æ›´æ–°æˆ‘ä»¬çš„<code>Nav</code>ç»„ä»¶:</p>
<pre class="language-javascript hljs">&lt;script&gt;
    import 'carbon-components-svelte/css/white.css';
    import Nav from '../lib/nav.svelte';
    import { onAuthStateChanged } from 'Firebase/auth';
    import { navigating } from '$app/stores';
    import { onMount } from 'svelte';
    import { auth } from '../Firebase';
    import { getStores } from '$app/stores';
    import { Loading } from 'carbon-components-svelte';
    let { session } = getStores();
    onMount(() =&gt; {
        onAuthStateChanged(
            auth,
            (user) =&gt; {
                session.set({ user });
            },
            (error) =&gt; {
                session.set({ user: null });
                console.log(error);
            }
        );
    });
&lt;/script&gt;
</pre>
<p>æˆ‘ä»¬çš„<code>Nav</code>ç°åœ¨å°†éšç€<code>auth</code>çŠ¶æ€çš„å˜åŒ–è€Œæ›´æ–°ã€‚Svelte æä¾›äº†ä¸€ç§ä¾¿æ·çš„æ–¹å¼æ¥è®¢é˜…æˆ‘ä»¬çš„ä¼šè¯å˜åŒ–ï¼Œä½¿ç”¨<code>$session</code>:</p>
<pre class="language-javascript hljs">&lt;script&gt;
    import { Button, Link } from 'carbon-components-svelte';
    import { getStores } from '$app/stores';
    import { signOut } from 'Firebase/auth';
    import { auth } from '../Firebase';
    import { goto } from '$app/navigation';
    let { session } = getStores();

    async function logOut() {
        await signOut(auth);
        await goto('/');
    }
&lt;/script&gt;
&lt;nav&gt;
    &lt;h2&gt;
        {#if $session['user'] != null}
            &lt;Link class="link" size="lg" href="/admin"&gt;Let's Create&lt;/Link&gt;
        {:else}
            &lt;Link class="link" size="lg" href="/"&gt;Bloggy&lt;/Link&gt;
        {/if}
    &lt;/h2&gt;
    &lt;ul&gt;
        {#if $session['user'] != null}

            &lt;li&gt;
                &lt;Button size="sm" kind="danger" on:click={logOut}&gt;Log Out&lt;/Button&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;Link href="/admin/create-blog"&gt;Create a new post&lt;/Link&gt;
            &lt;/li&gt;

        {:else}
            &lt;li&gt;
                &lt;Link href="/auth/login"&gt;Login&lt;/Link&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;Link href="/auth/register"&gt;Sign Up&lt;/Link&gt;
            &lt;/li&gt;
        {/if}
    &lt;/ul&gt;
&lt;/nav&gt;
</pre>
<p>è¿™ä¸æ˜¯æŒä¹…çš„ï¼Œå½“æ‚¨æ›´æ”¹é€‰é¡¹å¡æ—¶ï¼Œæ‚¨éœ€è¦æ·»åŠ å®‰å…¨å­˜å‚¨æ¥ä¿æŒç”¨æˆ·ç™»å½•ã€‚ä½†æ˜¯å¦‚æœç”¨æˆ·è¯•å›¾è®¿é—®ç®¡ç†é¡µé¢æˆ–å…¶å­é¡µé¢ï¼Œå®ƒä¼šé‡æ–°è·¯ç”±ç”¨æˆ·ã€‚</p><div class="code-block code-block-54">
<hr/>
<h3>æ›´å¤šæ¥è‡ª LogRocket çš„ç²¾å½©æ–‡ç« :</h3>

<hr/></div>
<h2 id="adding-crud-functionality">æ·»åŠ  CRUD åŠŸèƒ½</h2>
<p>ä¸€ä¸ªåŸºæœ¬çš„åº”ç”¨ç¨‹åºé€šå¸¸æœ‰å››ä¸ªä¸»è¦ç‰¹å¾:å®ƒå¯ä»¥åˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤æ•°æ®ã€‚åœ¨æ¥ä¸‹æ¥çš„å‡ èŠ‚ä¸­ï¼Œæˆ‘å°†æ¸…æ™°ç®€æ´åœ°è§£é‡Šæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ Svelte å’Œ JavaScript æ¥å¤„ç†è¿™äº›åœºæ™¯ã€‚</p>
<h3 id="creating">åˆ›é€ </h3>
<p>è¦æ·»åŠ æ–°æ–‡æ¡£ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆåˆ›å»ºé¡µé¢ã€‚åœ¨<code>admin</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª<code>index.svelte</code>æ–‡ä»¶ï¼›ä¸€æ—¦ç”¨æˆ·é€šè¿‡è®¤è¯ï¼Œè¿™å°†æ˜¯æˆ‘ä»¬çš„ä¸»é¡µã€‚ç°åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º<code>create-blog.svelte</code>çš„æ–°æ–‡ä»¶ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¡¨å•æ¥æ·»åŠ å…³äºæˆ‘ä»¬æ–°åšå®¢çš„ä¿¡æ¯ã€‚åœ¨<code>lib</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå‘½åä¸º<code>blog</code>ï¼›è¿™å°†åŒ…å«ä»»ä½•ä¸åšå®¢ç›¸å…³çš„ç»„ä»¶ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæ·»åŠ ä¸€ä¸ªåä¸º<code>blog-form.svelte</code>çš„æ–°æ–‡ä»¶ã€‚å°†è¡¨å•ä»é¡µé¢ä¸­åˆ†ç¦»å‡ºæ¥å¯ä»¥åˆ†ç¦»å…³æ³¨ç‚¹ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥é‡ç”¨åŒä¸€ä¸ªç»„ä»¶æ¥è¿›è¡Œæ›´æ–°ã€‚</p>
<p>æˆ‘ä»¬çš„åšå®¢è¡¨å•å°†å¦‚ä¸‹æ‰€ç¤ºã€‚å°±åƒç™»å½•è¡¨å•ä¸€æ ·ï¼Œæˆ‘ä»¬å°†è¡¨å•å€¼ç»‘å®šåˆ°å˜é‡ï¼Œå¹¶ä½¿ç”¨äº‹ä»¶å°†æ›´æ–°çš„æ•°æ®å‘é€åˆ°æˆ‘ä»¬çš„â€œåˆ›å»ºåšå®¢â€é¡µé¢:</p>
<pre class="language-javascript hljs">&lt;script&gt;
    import {Form, TextArea, TextInput, Button} from "carbon-components-svelte"
    import { createEventDispatcher } from "svelte";
    const dispatcher = createEventDispatcher()
    export let title, summary, description;
    function dispatchBlog() {
        dispatcher("sendBlogDetails", {
            title,
            summary,
            description
        })
        title = "", summary = "", description = ""
    }
&lt;/script&gt;
&lt;div class="form-container"&gt;
    &lt;Form&gt;
        &lt;TextInput bind:value={title} label="Blog title" placeholder="Enter the title of the blog" name="title" required/&gt;
        &lt;div class="space"&gt;&lt;/div&gt;
        &lt;TextInput bind:value={summary} label="Blog summary" placeholder="Summary" name="Summary" required/&gt;
        &lt;div class="space"&gt;&lt;/div&gt;
        &lt;TextArea bind:value={description} label="Blog description" placeholder="THE STORY!!!" name="description" required/&gt;
        &lt;div class="space"&gt;&lt;/div&gt;
        &lt;Button on:click={dispatchBlog}&gt;Submit&lt;/Button&gt;
    &lt;/Form&gt;
&lt;/div&gt;

&lt;style&gt;
    .form-container {
        max-width: 40%;
    }
    .space {
        margin: 1em 0;
    }
&lt;/style&gt;
</pre>
<p>åœ¨è¿™ä¸ªè¡¨å•ä¸­ï¼Œæˆ‘ä»¬å¯¼å‡ºå˜é‡ï¼Œå› ä¸ºæˆ‘ä»¬å°†é‡ç”¨è¡¨å•æ¥æ›´æ–°åšå®¢ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œåœ¨â€œåˆ›å»ºåšå®¢â€è¡¨å•ä¸­å¯¼å…¥åšå®¢è¡¨å•ç»„ä»¶:</p>
<pre class="language-javascript hljs">&lt;script&gt;
import { goto } from '$app/navigation';
    import { addDoc, serverTimestamp } from 'Firebase/firestore/lite';
    import { auth, blogCollection } from '../../Firebase';
    import BlogForm from '../../lib/blog/blog-form.svelte';
    async function createNewBlog(event) {
        await addDoc(blogCollection, {...event.detail, owner: auth.currentUser.uid, timestamp: serverTimestamp()});
        await goto("/admin")
    }
&lt;/script&gt;
&lt;svelte:head&gt;
    &lt;title&gt;Create Blog&lt;/title&gt;
&lt;/svelte:head&gt;
&lt;div class="container"&gt;
    &lt;div class="header"&gt;
        &lt;h2&gt;Create a new Blog&lt;/h2&gt;
    &lt;/div&gt;
    &lt;BlogForm on:sendBlogDetails={createNewBlog} title={""} summary={""} description={""}/&gt;
&lt;/div&gt;
&lt;style&gt;
    .container {
        margin: 3em auto;
        width: 80%;
        min-height: 90vh;
    }
    .header {
        margin-bottom: 2em;
    }
&lt;/style&gt;
</pre>
<p>è¦åœ¨åšå®¢æ”¶è—ä¸­æ·»åŠ æ–°æ–‡æ¡£ï¼Œè¯·å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ°<code>Firebase.js</code>å¹¶å¯¼å‡ºå®ƒ:</p>
<pre class="language-javascript hljs">// ... Other code
const blogCollection = collection(db, "blogs");

export {
// Other exports
  blogCollection
}
</pre>
<p>Firebase lite æä¾›çš„<code>addDoc</code>åŠŸèƒ½å…è®¸æˆ‘ä»¬åœ¨ç‰¹å®šçš„é›†åˆä¸­åˆ›å»ºæ–‡æ¡£ï¼Œå¹¶ä¸ºæ¯ä¸ªæ–‡æ¡£ç”Ÿæˆä¸€ä¸ª IDã€‚ä¸ºäº†å…è®¸æ’åºï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ª<code>serverTimestamp</code>ã€‚</p>
<p>è¿™æ˜¯å®Œæˆåé¡µé¢çš„æ ·å­ã€‚</p>
<p><img data-attachment-id="112311" data-permalink="https://blog.logrocket.com/building-crud-application-svelte-firebase/create-new-blog-page-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1.png" data-orig-size="730,415" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create new blog page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1-300x171.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1.png" decoding="async" class="size-full wp-image-112311 aligncenter jetpack-lazy-image" src="../Images/a0e14f44afc94b4074da80c447278951.png" alt="Create new blog page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1-300x171.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="112311" data-permalink="https://blog.logrocket.com/building-crud-application-svelte-firebase/create-new-blog-page-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1.png" data-orig-size="730,415" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Create new blog page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1-300x171.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1.png" decoding="async" loading="lazy" class="size-full wp-image-112311 aligncenter" src="../Images/a0e14f44afc94b4074da80c447278951.png" alt="Create new blog page" srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1-300x171.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/Create-new-blog-page-1.png"/></noscript>
<p>å¦‚æœæˆ‘ä»¬è¯•ç€åˆ›å»ºä¸€ä¸ªæ–°çš„åšå®¢ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒåœ¨ Firebase Firestore ä¸Šå¾ˆå—æ¬¢è¿ã€‚</p>
<p><img data-attachment-id="112313" data-permalink="https://blog.logrocket.com/building-crud-application-svelte-firebase/view-of-blog-post-in-cloud-firestore/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore.png" data-orig-size="730,415" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="view of blog post in Cloud Firestore" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore-300x171.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore.png" decoding="async" class="size-full wp-image-112313 aligncenter jetpack-lazy-image" src="../Images/f4e70c3f6000d4b64739c4227fb28219.png" alt="view of blog post in Cloud Firestore" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore-300x171.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="112313" data-permalink="https://blog.logrocket.com/building-crud-application-svelte-firebase/view-of-blog-post-in-cloud-firestore/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore.png" data-orig-size="730,415" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="view of blog post in Cloud Firestore" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore-300x171.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore.png" decoding="async" loading="lazy" class="size-full wp-image-112313 aligncenter" src="../Images/f4e70c3f6000d4b64739c4227fb28219.png" alt="view of blog post in Cloud Firestore" srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore-300x171.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/view-of-blog-post-in-Cloud-Firestore.png"/></noscript>
<h3 id="reading">é˜…è¯»</h3>
<p>æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„ç®¡ç†ä¸»é¡µä¸­æŸ¥çœ‹æˆ‘ä»¬å†™çš„åšå®¢ï¼Œä½†æ˜¯ä¸ºäº†ç¡®ä¿æˆ‘ä»¬åœ¨é¡µé¢åŠ è½½åå¾—åˆ°åšå®¢ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>load</code>å‡½æ•°ä¸­è¿™æ ·åšã€‚è¯¥å‡½æ•°åœ¨é¡µé¢åŠ è½½ä¹‹å‰è¢«è°ƒç”¨ï¼Œå…è®¸æˆ‘ä»¬ä½¿ç”¨ props å‘é¡µé¢å‘é€æ•°æ®ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„<code>admin</code>ç›®å½•ä¸‹çš„<code>index.svelte</code>é¡µé¢ä¸­ï¼Œåœ¨æ¨¡å—è„šæœ¬ä¸­å£°æ˜<code>load</code>å‡½æ•°:</p>
<pre class="language-javascript hljs">&lt;script context="module"&gt;
import { deleteDoc, getDocs, query, where } from 'Firebase/firestore/lite';
import { blogCollection, blogDoc } from '../../Firebase';
    export async function load({ session }) {
        // Get the authenticated user from the current session
          let { user } = session
        // redirect the user to home page incase the user is not authenticated
          if (user == null) {
              return {
                  status: 302,
                  redirect: "/",
              }
          }

          // Access all blogs written by the user only 
          const q = query(blogCollection, where("owner", "==", user.id))
          const querySnapshot = await getDocs(q)
          let blogs = [];
          // Use es6 spread operator to add the blogs and their id
          querySnapshot.forEach(blog =&gt; {
            blogs.push({...blog.data(), id: blog.id})
          })

          // send the blogs to the page
          return {
              status: 200,
              props: {
                  blogs
              }
          }
    }
&lt;/script&gt;
</pre>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>export</code>è®¿é—®ä¸é“å…·ä¸€èµ·å‘é€çš„åšå®¢:</p>
<pre class="language-javascript hljs">&lt;script&gt;
    import BlogCard from '../../lib/blog/blog-card.svelte'

    export let blogs
&lt;/script&gt;
</pre>
<p>è¿™æ˜¯æˆ‘ä»¬çš„åšå®¢å¡ã€‚åœ¨<code>lib/blog</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºæ–‡ä»¶å’Œåšå®¢è¡¨å•:</p>
<pre class="language-javascript hljs">&lt;script&gt;
  export let id, title, summary;

  // Will come later
  function editBlog() {
  }

  // Will come later
  function deleteBlog() {}

&lt;/script&gt;

&lt;div class="card"&gt;
    &lt;div class="title"&gt;
        &lt;h2&gt;{title}&lt;/h2&gt;
    &lt;/div&gt;
    &lt;div class="content"&gt;
        &lt;p&gt;{summary}&lt;/p&gt;
        &lt;a href="/admin/blogs/{id}"&gt;Read more&lt;/a&gt;
    &lt;/div&gt;
    &lt;div class="button-set"&gt;
        &lt;button class="edit" on:click={editBlog}&gt;Edit&lt;/button&gt;
        &lt;button class="delete" on:click={dispatchBlogDelete}&gt;Delete&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;
</pre>
<p>æˆ‘ä»¬å¯ä»¥å¾ªç¯æµè§ˆæ”¶åˆ°çš„åšå®¢ï¼Œäº†è§£æ¯ç¯‡åšå®¢çš„è¯¦ç»†ä¿¡æ¯:</p>
<pre class="language-javascript hljs">&lt;svelte:head&gt;
    &lt;title&gt;Bloggy&lt;/title&gt;
&lt;/svelte:head&gt;
&lt;div class="content"&gt;
    &lt;div class="header"&gt;
        &lt;h2&gt;My Blogs&lt;/h2&gt;
    &lt;/div&gt;
    &lt;div class="blogs"&gt;
        {#each blogs as blog}
            &lt;BlogCard title={blog.title} summary={blog.summary} id={blog.id} on:deleteBlog={deleteBlog}/&gt;
        {:else}
             &lt;div class="center"&gt;
                 &lt;h2&gt;You don't have any blogs yet.&lt;/h2&gt;
             &lt;/div&gt;
        {/each}
    &lt;/div&gt;
&lt;/div&gt;

// Some styling ğŸ‘ğŸ¾
&lt;style&gt;
    .content {
        min-height: 90vh;
        padding: 1em;
        margin: 0 auto;
        max-width: 80%;
    }
    .header {
        padding: 1em 2em;
    }
    .header h2 {
        font-weight: 700;
    }
    .blogs {
        display: flex;
        flex-wrap: wrap;
    }
&lt;/style&gt;
</pre>
<p>è¿™æ˜¯ç”¨æˆ·åŠ è½½é¡µé¢åçš„ç»“æœã€‚</p>
<p><img data-attachment-id="112315" data-permalink="https://blog.logrocket.com/building-crud-application-svelte-firebase/blog-post-card-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page.png" data-orig-size="730,415" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="blog post card page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page-300x171.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page.png" decoding="async" class="size-full wp-image-112315 aligncenter jetpack-lazy-image" src="../Images/082746a5a9bca668ac3d4384fb2dde0e.png" alt="blog post card page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page-300x171.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="112315" data-permalink="https://blog.logrocket.com/building-crud-application-svelte-firebase/blog-post-card-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page.png" data-orig-size="730,415" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="blog post card page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page-300x171.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page.png" decoding="async" loading="lazy" class="size-full wp-image-112315 aligncenter" src="../Images/082746a5a9bca668ac3d4384fb2dde0e.png" alt="blog post card page" srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page-300x171.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/blog-post-card-page.png"/></noscript>
<p>ä¸ºäº†è®¿é—®åšå®¢çš„è¯¦ç»†ä¿¡æ¯ï¼Œç‰¹åˆ«æ˜¯å½“æ–‡æ¡£æœ‰åµŒå¥—æ•°æ®æˆ–è€…æˆ‘ä»¬åªéœ€è¦æ˜¾ç¤ºä¸€å°éƒ¨åˆ†æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å®ƒçš„ ID æ¥è®¿é—®å®ƒã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨<code>admin/blog</code>æ–‡ä»¶å¤¹ä¸­æ·»åŠ ä¸€ä¸ªæ–°æ–‡ä»¶æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚è¿™é‡Œçš„å‘½åæœ‰å¾ˆå¤§çš„ä¸åŒï¼›æˆ‘ä»¬éœ€è¦æ ¹æ®æˆ‘ä»¬æœŸæœ›çš„å‚æ•°æ¥å‘½åå®ƒï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>[id].svelte</code>ã€‚</p>
<p>æˆ‘ä»¬å°†åˆ©ç”¨ load å‡½æ•°æ¥è·å–åšå®¢çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">&lt;script context="module"&gt;
    import { getDoc } from 'Firebase/firestore/lite';
    import { blogDoc } from '../../../Firebase';
    export async function load({ params }) {
        const docSnap = await getDoc(blogDoc(params.id));
        if (!docSnap.exists()) {
            return {
                status: 404,
                props: {
                    blog: null
                }
            };
        } else {
            return {
                status: 200,
                props: {
                    blog: { ...docSnap.data(), id: docSnap.id }
                }
            };
        }
    }
&lt;/script&gt;
</pre>
<p>ç„¶åï¼Œæˆ‘ä»¬åœ¨å¸¸è§„è„šæœ¬å’Œé¡µé¢ä¸­è®¿é—®å®ƒ:</p>
<pre class="language-javascript hljs">&gt;&lt;script&gt;
    export let blog;
&lt;/script&gt;
&lt;svelte:head&gt;
    &lt;title&gt;{blog.title ? blog.title : 'Bloggy'}&lt;/title&gt;
&lt;/svelte:head&gt;
&lt;div class="container-blog-detail"&gt;
    {#if blog == null}
        &lt;div class="center"&gt;
            &lt;h2&gt;Blog does not exist or has been deleted&lt;/h2&gt;
        &lt;/div&gt;
    {:else}
        &lt;div&gt;
            &lt;h2&gt;
                {blog.title}
            &lt;/h2&gt;
            &lt;p&gt;{blog.summary}&lt;/p&gt;
            &lt;p class="description"&gt;{blog.description}&lt;/p&gt;
        &lt;/div&gt;
    {/if}Ã
&lt;/div&gt;
&lt;style&gt;
    .container-blog-detail {
        margin: 0 auto;
        width: 80%;
        padding: 2em 0;
        height: 80vh !important;
    }
    .center {
        display: grid;
        place-content: center;
    }
    .description {
        margin-top: 20px;
    }
&lt;/style&gt;
</pre>
<p>å½“æˆ‘ä»¬å°è¯•ç‚¹å‡»ç‰¹å®šåšå®¢å¡ä¸­çš„â€œé˜…è¯»æ›´å¤šâ€æŒ‰é’®æ—¶ï¼Œå®ƒä¼šä»¥ ID ä½œä¸ºå‚æ•°é‡æ–°è·¯ç”±åˆ°ç‰¹å®šé¡µé¢ã€‚</p>
<h3 id="updating">æ›´æ–°</h3>
<p>æ›´æ–°æˆ‘ä»¬çš„åšå®¢å°†ä½¿ç”¨ç›¸åŒçš„åšå®¢å½¢å¼ï¼Œä½†åœ¨ä¸åŒçš„é¡µé¢ä¸Šã€‚åœ¨<code>admin/blogs/update</code>ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code>[id].svelte</code>çš„æ–°æ–‡ä»¶ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä» load å‡½æ•°ä¸­ä¼ é€’çš„å‚æ•°è®¿é—® ID:</p>
<pre class="language-javascript hljs">&lt;script context="module"&gt;
    import { getDoc, setDoc } from 'Firebase/firestore/lite';
    import { blogDoc } from '../../../../Firebase';
    export async function load({ params }) {
        const docSnap = await getDoc(blogDoc(params.id));
        if (!docSnap.exists()) {
            return {
                status: 404,
                redirect: "/admin"
            }
        } else {
            return {
                status: 200,
                props: {
                    blog: { ...docSnap.data(), id: docSnap.id }
                }
            };
        }
    }
&lt;/script&gt;
</pre>
<p>åœ¨ Firebase ä¸­æ›´æ–°ä¸€ä¸ªæ–‡æ¡£éœ€è¦ä½¿ç”¨<code>setDoc</code>æ¥å¼•ç”¨æ‚¨æƒ³è¦æ›´æ–°çš„å†…å®¹ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¹‹å‰åˆ›å»ºçš„åŠ©æ‰‹å‡½æ•°æ¥å®ç°è¿™ä¸€ç‚¹:</p>
<pre class="language-javascript hljs">setDoc(blocDoc(blog.id), event.detail, {merge: true})
</pre>
<p>åœ¨ä¼ é€’å¼•ç”¨ä¹‹åï¼Œæˆ‘ä»¬ä¼ é€’æ›´æ–°å’Œåˆå¹¶ï¼Œè¿™é˜»æ­¢äº†æ–°æ–‡æ¡£çš„åˆ›å»º:</p>
<pre class="language-javascript hljs">&lt;script&gt;
import { goto } from '$app/navigation';
    import BlogForm from "../../../../lib/blog/blog-form.svelte"
    export let blog
    async function updateBlogDetails(event) {
        setDoc(blogDoc(blog.id), event.detail, { merge: true })
        await goto("/admin")
    }
&lt;/script&gt;
&lt;svelte:head&gt;
    &lt;title&gt;Update blog&lt;/title&gt;
&lt;/svelte:head&gt;
&lt;div class="container"&gt;
    &lt;div class="header"&gt;
        &lt;h2&gt;Update Blog&lt;/h2&gt;
    &lt;/div&gt;
    &lt;BlogForm on:sendBlogDetails={updateBlogDetails} title={blog.title} summary={blog.summary} description={blog.description} /&gt;
&lt;/div&gt;

&lt;style&gt;
    .container {
        margin: 3em auto;
        width: 80%;
        min-height: 90vh;
    }
    .header {
        margin-bottom: 2em;
    }
&lt;/style&gt;
</pre>
<p>è¦ç¼–è¾‘ä¸€ä¸ªåšå®¢ï¼Œæˆ‘ä»¬éœ€è¦è®¿é—® IDï¼Œæˆ‘ä»¬å°† ID ä¼ é€’ç»™æ‰€æœ‰çš„åšå®¢å¡ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥æ›´æ–°<code>blog-card.svelte</code>ä¸­çš„<code>editBlog</code>å‡½æ•°:</p>
<pre class="language-svelte hljs">async function editBlog() {
        await goto(`/admin/blogs/update/${id}`);
    }
</pre>
<p>æˆ‘ä»¬ç°åœ¨å¯ä»¥è¢«é‡å®šå‘åˆ°æˆ‘ä»¬æƒ³è¦æ›´æ–°çš„åšå®¢ã€‚</p>
<p><img data-attachment-id="112317" data-permalink="https://blog.logrocket.com/building-crud-application-svelte-firebase/update-blog-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page.png" data-orig-size="730,415" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="update blog page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page-300x171.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page.png" decoding="async" class="size-full wp-image-112317 aligncenter jetpack-lazy-image" src="../Images/e13bd28f9dfc43ed004b895bc9293e97.png" alt="update blog page" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page-300x171.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="112317" data-permalink="https://blog.logrocket.com/building-crud-application-svelte-firebase/update-blog-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page.png" data-orig-size="730,415" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="update blog page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page-300x171.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page.png" decoding="async" loading="lazy" class="size-full wp-image-112317 aligncenter" src="../Images/e13bd28f9dfc43ed004b895bc9293e97.png" alt="update blog page" srcset="https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page-300x171.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/05/update-blog-page.png"/></noscript>
<h3 id="deleting">åˆ é™¤</h3>
<p>åˆ é™¤åšå®¢å°†ä½¿ç”¨ä¸è¡¨å•ç›¸åŒçš„åŠŸèƒ½:<code>dispatcher</code>ã€‚æˆ‘ä»¬ä½¿ç”¨<code>createEventDispatcher</code>åˆ›å»ºä¸€ä¸ªè°ƒåº¦ç¨‹åº:</p>
<pre class="language-javascript hljs">const dispatcher = createEventDispatcher();

function dispatchBlogDelete() {
  // Pass the blog id you want to delete
    dispatcher("deleteBlog", {
        id
    })
}

// Bind it to the click event in the delete button
&lt;button class="delete" on:click={dispatchBlogDelete}&gt;Delete&lt;/button&gt;
</pre>
<p>æ”¶å¬ç®¡ç†é¡µé¢ä¸­çš„è°ƒåº¦ã€‚æˆ‘ä»¬åˆ›å»ºåˆ é™¤åšå®¢çš„æ–¹æ³•å¦‚ä¸‹:</p>
<pre class="language-javascript hljs">    // Delete a blog
    async function deleteBlog(event) {
        await deleteDoc(blogDoc(event.detail.id))
    }
</pre>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç›‘å¬åˆ é™¤äº‹ä»¶:</p>
<pre class="language-javascript hljs">&lt;BlogCard title={blog.title} summary={blog.summary} id={blog.id} on:deleteBlog={deleteBlog}/&gt;
</pre>
<p>æ­å–œä½ ï¼ğŸ‰æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªå®Œæ•´çš„ CRUD åº”ç”¨ç¨‹åºï¼Œå…è®¸æˆ‘ä»¬æ“ä½œæ•°æ®ã€‚</p>
<h2>ç»“è®º</h2>
<p>ç”¨ Svelte æ„å»ºåº”ç”¨ç¨‹åºæ˜¯å†ç®€å•ä¸è¿‡çš„äº‹æƒ…äº†ï¼›ä½ ç”šè‡³ä¸å¿…æ‹…å¿ƒæœç´¢å¼•æ“ä¼˜åŒ–ï¼Œå› ä¸ºå®ƒä¹Ÿå¤„ç†ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„<a href="https://github.com/BrianMwas/Bloggo" target="_blank" rel="noopener">é“¾æ¥</a>ä» Github è®¿é—®è¿™ä¸ªé¡¹ç›®ã€‚</p><div class="code-block code-block-2">
<div class="blog-plug base-cta"><h2>ä½¿ç”¨<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ¶ˆé™¤ä¼ ç»Ÿé”™è¯¯æŠ¥å‘Šçš„å¹²æ‰°</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ˜¯ä¸€ä¸ªæ•°å­—ä½“éªŒåˆ†æè§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªå‡é˜³æ€§é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å‡ ä¸ªçœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocket ä¼šå‘Šè¯‰æ‚¨åº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„ bug å’Œ UX é—®é¢˜ã€‚</p>
<p>ç„¶åï¼Œä½¿ç”¨å…·æœ‰æ·±å±‚æŠ€æœ¯é¥æµ‹çš„ä¼šè¯é‡æ”¾æ¥ç¡®åˆ‡åœ°æŸ¥çœ‹ç”¨æˆ·çœ‹åˆ°äº†ä»€ä¹ˆä»¥åŠæ˜¯ä»€ä¹ˆå¯¼è‡´äº†é—®é¢˜ï¼Œå°±åƒä½ åœ¨ä»–ä»¬èº«åçœ‹ä¸€æ ·ã€‚</p>
<p>LogRocket è‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€JS å¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶å LogRocket ä½¿ç”¨æœºå™¨å­¦ä¹ æ¥å‘Šè¯‰ä½ å“ªäº›é—®é¢˜æ­£åœ¨å½±å“å¤§å¤šæ•°ç”¨æˆ·ï¼Œå¹¶æä¾›ä½ éœ€è¦ä¿®å¤å®ƒçš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>å…³æ³¨é‡è¦çš„ bugâ€”<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">ä»Šå¤©å°±è¯•è¯• LogRocketã€‘ã€‚</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>