<html>
<head>
<title>Storing credentials using react-native-keychain - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>ä½¿ç”¨ react-native-keychain-log rocket åšå®¢å­˜å‚¨å‡­è¯</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/storing-credentials-using-react-native-keychain/#0001-01-01">https://blog.logrocket.com/storing-credentials-using-react-native-keychain/#0001-01-01</a></blockquote><div><article class="article-post">
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨ React Native åº”ç”¨ç¨‹åºä¸­å®‰å…¨åœ°å­˜å‚¨ç”¨æˆ·å‡­æ®ï¼Œå¹¶ä½¿ç”¨è¿™äº›å‡­æ®å¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯ã€‚</p>
<p>å½“æ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°ç™»å½•ç³»ç»Ÿæ—¶ï¼Œæ‚¨éœ€è¦ä¸€ç§ä¿å­˜ç™»å½•å‡­è¯çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æƒ³è¦ä¿å­˜ç”¨æˆ·ç™»å½•ä»¤ç‰Œæˆ–åˆ·æ–°ä»¤ç‰Œï¼Œä»¥é¿å…ç”¨æˆ·åœ¨æ‰“å¼€åº”ç”¨ç¨‹åºæ—¶é‡å¤è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚</p>
<p>æ‰€ä»¥é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å“ªé‡Œä¿å­˜ç™»å½•å‡­è¯ï¼Ÿæœ‰äº›äººä¼šè¯´ï¼Œâ€œè®©æˆ‘ä»¬æŠŠè¿™äº›ä¿¡æ¯ä¿å­˜åœ¨<code>AsyncStorage</code>ä¸­ï¼Œâ€ä½†æ˜¯ç›¸ä¿¡æˆ‘ï¼Œä½ ä¸åº”è¯¥æŠŠå…³é”®ä¿¡æ¯ä¿å­˜åœ¨ä¸€ä¸ªç®€å•ã€æ™®é€šå’Œä¸å®‰å…¨çš„ç¯å¢ƒä¸­ã€‚</p>
<p>ä¸ºäº†åœ¨æœ¬åœ°å®‰å…¨åœ°å­˜å‚¨ä¿¡æ¯ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨<a href="https://github.com/oblador/react-native-keychain"> react-native-keychain </a>ã€‚</p>
<p>æƒ³çŸ¥é“å¦‚ä½•åœ¨è‡ªå·±çš„ React Native app ä¸­ä½¿ç”¨ react-native-keychainï¼Ÿè¦ç†è§£ä¸€ä»¶äº‹ï¼Œæœ€å¥½çš„åŠæ³•å°±æ˜¯ä»¥èº«ä½œåˆ™ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å°†åˆ¶ä½œä¸€ä¸ªæ¨¡æ‹Ÿç™»å½•æµç¨‹çš„å°å‹åŸºæœ¬åº”ç”¨ç¨‹åºï¼Œå®ƒå°†å‘æ‚¨å±•ç¤ºå¦‚ä½•å®‰å…¨åœ°ä¿å­˜ä»¤ç‰Œå¹¶ä½¿ç”¨ä»¤ç‰Œæ¥éªŒè¯ç”¨æˆ·ã€‚</p>
<h2>æ„å»ºåŸºæœ¬çš„ç”¨æˆ·ç•Œé¢</h2>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬<a href="https://blog.logrocket.com/top-9-ui-libraries-kits-react/">ä¸ºç™»å½•å±å¹•æ„å»ºä¸€ä¸ªåŸºæœ¬çš„ UI </a>ã€‚è¯·çœ‹ä¸‹å›¾ï¼Œæˆ‘ä»¬çš„ç™»å½•ç•Œé¢ä¼šæ˜¯ä»€ä¹ˆæ ·å­ã€‚</p>
<p><img data-attachment-id="63553" data-permalink="https://blog.logrocket.com/storing-credentials-using-react-native-keychain/basic-ui-react-native-keychain/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain.png" data-orig-size="270,414" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Basic UI for react-native-keychain app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain-196x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain.png" decoding="async" class="size-full wp-image-63553 aligncenter jetpack-lazy-image" src="../Images/f9fe9eb59a0fa4e113712e807b7279e1.png" alt="Basic UI for react-native-keychain App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain.png 270w, https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain-196x300.png 196w" data-lazy-sizes="(max-width: 270px) 100vw, 270px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="63553" data-permalink="https://blog.logrocket.com/storing-credentials-using-react-native-keychain/basic-ui-react-native-keychain/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain.png" data-orig-size="270,414" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Basic UI for react-native-keychain app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain-196x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain.png" decoding="async" loading="lazy" class="size-full wp-image-63553 aligncenter" src="../Images/f9fe9eb59a0fa4e113712e807b7279e1.png" alt="Basic UI for react-native-keychain App" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain.png 270w, https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain-196x300.png 196w" sizes="(max-width: 270px) 100vw, 270px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-react-native-keychain.png"/></noscript>
<p>ä¸€ä¸ªéå¸¸åŸºæœ¬çš„ç™»å½•ç•Œé¢ï¼Œæœ‰ä¸€ä¸ªé»‘æš—çš„ä¸»é¢˜(é™„æ³¨:æˆ‘å–œæ¬¢é»‘æš—çš„ä¸»é¢˜ğŸ˜‰ ).</p>
<p>ä»¥ä¸‹æ˜¯è¯¥ç”¨æˆ·ç•Œé¢çš„ä»£ç :</p>
<pre>// App.js
import React from "react";
import { StyleSheet, Text, TextInput, View, Dimensions } from "react-native";

export default function App() {

  return (
    &lt;View style={styles.container}&gt;
        &lt;View&gt;
          &lt;Text style={styles.helloText}&gt;Hello There!&lt;/Text&gt;
          &lt;TextInput placeholder="email" style={styles.textInput} /&gt;
          &lt;TextInput
            placeholder="password"
            secureTextEntry
            style={styles.textInput}
          /&gt;
          &lt;Text style={styles.loginBtn}&gt;
            Login
          &lt;/Text&gt;
        &lt;/View&gt;
    &lt;/View&gt;
  );
}
const screenWidth = Dimensions.get("screen").width;
const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#1f1f1f",
    alignItems: "center",
    paddingTop: 250,
  },
  helloText: {
    color: "white",
    marginBottom: 20,
    fontSize: 30,
  },
  textInput: {
    padding: 5,
    paddingStart: 15,
    backgroundColor: "#3b3b3b",
    width: screenWidth * 0.8,
    borderRadius: 25,
    marginBottom: 15,
    color: "white",
    fontWeight: "600",
  },
  loginBtn: {
    paddingHorizontal: 25,
    paddingVertical: 10,
    backgroundColor: "#ff1178",
    borderRadius: 25,
    color: "white",
    textAlign: "center",
  }
});
</pre>
<h2>å®‰è£… react-native-keychain</h2>
<p>æˆ‘ä»¬æœ‰ç™»å½•ç•Œé¢ï¼›ç°åœ¨ï¼Œè®©æˆ‘ä»¬å®‰è£… keychain æ¥å®‰å…¨åœ°å­˜å‚¨ç™»å½•å‡­è¯ã€‚</p>
<p>è¦å®‰è£…ï¼Œè¯·åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<pre class="language-bash hljs">yarn add react-native-keychain
</pre>
<p>æˆ–è€…ï¼Œå¦‚æœæ‚¨ä½¿ç”¨ npm:</p>
<pre class="language-bash hljs">npm i -S react-native-keychain
</pre>
<p>å®‰è£… react-native-keychain åï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­å®ç°ç™»å½•ç³»ç»Ÿã€‚</p>
<h2>å®ç° react-native-keychain</h2>
<p>è¿™ä¸ªé’¥åŒ™ä¸²æä¾›äº†è®¸å¤šæˆ‘ä»¬å¯ä»¥åœ¨å„ç§åœºæ™¯ä¸­ä½¿ç”¨çš„æ–¹æ³•ï¼Œä½†æ˜¯ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸‰ç§ä¸»è¦æ–¹æ³•æ¥ä¿å­˜ã€æ£€ç´¢å’Œåˆ é™¤å‡­è¯ã€‚</p>
<p>è¿™äº›æ–¹æ³•æ˜¯:</p>
<ul>
<li><code>setGenericPassword</code></li>
<li><code>getGenericPassword</code></li>
<li><code>resetGenericPassword</code></li>
</ul>
<p>è¿™äº›æ–¹æ³•çš„ä½œç”¨ä¸è¨€è‡ªæ˜ã€‚ä½†æ˜¯ï¼Œæˆ‘å°†ç®€è¦æ¦‚è¿°ä¸€ä¸‹ã€‚</p>
<p>ä¸ºäº†å­˜å‚¨å‡­è¯ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>setGenericPassword</code>æ–¹æ³•å¹¶ä¼ é€’ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨æˆ·åï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä»¤ç‰Œæˆ–å¯†ç ã€‚</p>
<p>è¦è¯»å–å­˜å‚¨å‡­è¯çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸å¸¦ä»»ä½•å‚æ•°çš„<code>getGenericPassword</code>æ–¹æ³•ã€‚</p>
<p>æœ€åï¼Œè¦åˆ é™¤å‡­è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸å¸¦ä»»ä½•å‚æ•°çš„<code>resetGenericPassword</code>æ–¹æ³•ã€‚</p>
<p>è®©æˆ‘ä»¬å­˜å‚¨ç”¨æˆ·å‡­è¯:</p>
<pre>// App.js
import React, { useEffect, useState } from "react";
import { StyleSheet, Text, TextInput, View, Dimensions } from "react-native";
import * as Keychain from "react-native-keychain";
export default function App() {
  const [isLoggedIn, setIsLoggedIn] = useState(false);
  const [userDetails, setUserDetails] = useState({});

  const handleLogin = async () =&gt; {
    // login api call here
    const token =
      "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c";
    const username = "Akshay";
    await Keychain.setGenericPassword(username, token);
    setIsLoggedIn(true);
    setUserDetails({token, username});
  };

  return (
    &lt;View style={styles.container}&gt;
        &lt;View&gt;
          &lt;Text style={styles.helloText}&gt;Hello There!&lt;/Text&gt;
          &lt;TextInput placeholder="email" style={styles.textInput} /&gt;
          &lt;TextInput
            placeholder="password"
            secureTextEntry
            style={styles.textInput}
          /&gt;
          &lt;Text style={styles.loginBtn} onPress={handleLogin}&gt;
            Login
          &lt;/Text&gt;
        &lt;/View&gt;
    &lt;/View&gt;
  );
}
const screenWidth = Dimensions.get("screen").width;
const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#1f1f1f",
    alignItems: "center",
    // justifyContent: 'center',
    paddingTop: 250,
  },
  helloText: {
    color: "white",
    marginBottom: 20,
    fontSize: 30,
  },
  textInput: {
    padding: 5,
    paddingStart: 15,
    backgroundColor: "#3b3b3b",
    width: screenWidth * 0.8,
    borderRadius: 25,
    marginBottom: 15,
    color: "white",
    fontWeight: "600",
  },
  loginBtn: {
    paddingHorizontal: 25,
    paddingVertical: 10,
    backgroundColor: "#ff1178",
    borderRadius: 25,
    color: "white",
    textAlign: "center",
  }
});
</pre>
<p>æ­£å¦‚æ‚¨åœ¨ä¸Šé¢çš„ä»£ç ä¸­çœ‹åˆ°çš„ï¼Œæˆ‘å·²ç»åˆ›å»ºäº†ä¸€ä¸ª<code>handleLogin</code>å‡½æ•°ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºç™»å½•æ–‡æœ¬çš„<code>onPress</code>ã€‚</p>
<p>åœ¨<code>handleLogin</code>å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰å®ç°ä¸€ä¸ªå®Œæ•´çš„ç™»å½•ç³»ç»Ÿï¼Œä½†æ˜¯æˆ‘ä»¬å‡è®¾ç”¨æˆ·å¾—åˆ°äº†æˆæƒï¼Œå¹¶ä¸”ç™»å½•æœåŠ¡å™¨è¿”å›äº†ç”¨æˆ·è¯¦ç»†ä¿¡æ¯å’Œä¸€ä¸ªä»¤ç‰Œã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬ä¼šå°†è¿™äº›ä¿¡æ¯ä¿å­˜åœ¨å®‰å…¨çš„å­˜å‚¨ä¸­ã€‚</p>
<p>æ³¨æ„ï¼Œæˆ‘ä»¬ä¿å­˜çš„æ˜¯ç”¨æˆ·ä»¤ç‰Œï¼Œè€Œä¸æ˜¯å¯†ç æœ¬èº«ã€‚åœ¨å®¢æˆ·ç«¯ä¿å­˜ç”¨æˆ·å¯†ç ä¸æ˜¯ä¸€ä¸ªå¥½çš„åšæ³•ã€‚æ°¸è¿œå¸¦ç€æœ‰æœ‰æ•ˆæœŸçš„ä»£å¸ã€‚</p>
<p>ä¸ºäº†ä¿å­˜ä¿¡æ¯ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>setGenericPassword</code>æ–¹æ³•ï¼Œå¹¶å°†ç”¨æˆ·åå’Œä»¤ç‰Œä½œä¸ºå‚æ•°ä¼ é€’ã€‚</p>
<p>æˆåŠŸä¿å­˜åï¼Œæˆ‘ä»¬æ­£åœ¨æ›´æ–°çŠ¶æ€ï¼Œå°†ç™»å½•å±å¹•æ›´æ”¹ä¸ºæ¬¢è¿å±å¹•ã€‚</p>
<h2>æ„å»ºæ¬¢è¿å±å¹•</h2>
<p>ç™»å½•åï¼Œæˆ‘ä»¬å°†æ˜¾ç¤ºä¸€ä¸ªå¸¦æœ‰ç”¨æˆ·åçš„æ¬¢è¿å±å¹•ã€‚æˆ‘ä»¬çš„æ¬¢è¿å±å¹•å°†å¦‚ä¸‹æ‰€ç¤º:</p>
<p><img data-attachment-id="63555" data-permalink="https://blog.logrocket.com/storing-credentials-using-react-native-keychain/welcome-screen-react-native-keychain/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain.png" data-orig-size="270,351" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Welcome screen for react-native-keychain app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain-231x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain.png" decoding="async" class="size-full wp-image-63555 aligncenter jetpack-lazy-image" src="../Images/6cdaf04077c7365549d5c50ed4999953.png" alt="Welcome Screen for react-native-keychain App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain.png 270w, https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain-231x300.png 231w" data-lazy-sizes="(max-width: 270px) 100vw, 270px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="63555" data-permalink="https://blog.logrocket.com/storing-credentials-using-react-native-keychain/welcome-screen-react-native-keychain/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain.png" data-orig-size="270,351" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Welcome screen for react-native-keychain app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain-231x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain.png" decoding="async" loading="lazy" class="size-full wp-image-63555 aligncenter" src="../Images/6cdaf04077c7365549d5c50ed4999953.png" alt="Welcome Screen for react-native-keychain App" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain.png 270w, https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain-231x300.png 231w" sizes="(max-width: 270px) 100vw, 270px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/welcome-screen-react-native-keychain.png"/></noscript>
<p>åªæœ‰ä¸€æ¡æ¬¢è¿æ¶ˆæ¯ï¼Œåé¢æ˜¯ç”¨æˆ·åå’Œæ³¨é”€æŒ‰é’®ã€‚</p>
<p>åŸºäº<code>isLoggedIn</code>çš„çŠ¶æ€å˜åŒ–ï¼Œæˆ‘ä»¬ä¼šæ˜¾ç¤ºä¸€ä¸ªæ¬¢è¿ç•Œé¢ï¼Œéšè—ç™»å½•ç•Œé¢ã€‚</p>
<p>æˆ‘ä»¬çš„ä»£ç å°†å¦‚ä¸‹æ‰€ç¤º:</p>
<pre>// App.js
import React, { useEffect, useState } from "react";
import { StyleSheet, Text, TextInput, View, Dimensions } from "react-native";
import * as Keychain from "react-native-keychain";
export default function App() {
  const [isLoggedIn, setIsLoggedIn] = useState(false);
  const [userDetails, setUserDetails] = useState({});
  useEffect(() =&gt; {
    (async () =&gt; {
      try {
        const credentials = await Keychain.getGenericPassword();
        if (credentials) {
          setIsLoggedIn(true);
          setUserDetails(credentials);
        } else {
          console.log("No credentials stored");
        }
      } catch (error) {
        console.log("Keychain couldn't be accessed!", error);
      }
    })();
  }, []);
  const handleLogin = async () =&gt; {
    // login api call here
    const token =
      "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c";
    const username = "Akshay";
    await Keychain.setGenericPassword(username, token);
    setIsLoggedIn(true);
    setUserDetails({token, username});
  };
  const handleLogout = async()=&gt;{
    const logout = await Keychain.resetGenericPassword();
    console.log({logout});
    if(logout){
      setIsLoggedIn(false);
      setUserDetails({});
    }
  }
  return (
    &lt;View style={styles.container}&gt;
      {!isLoggedIn ? (
        &lt;View&gt;
          &lt;Text style={styles.helloText}&gt;Hello There!&lt;/Text&gt;
          &lt;TextInput placeholder="email" style={styles.textInput} /&gt;
          &lt;TextInput
            placeholder="password"
            secureTextEntry
            style={styles.textInput}
          /&gt;
          &lt;Text style={styles.loginBtn} onPress={handleLogin}&gt;
            Login
          &lt;/Text&gt;
        &lt;/View&gt;
      ) : (
        &lt;View&gt;
          &lt;Text style={styles.welcomeText}&gt;
            Welcome back! {userDetails.username}
          &lt;/Text&gt;
          &lt;Text style={styles.logoutBtn} onPress={handleLogout} &gt;Logout&lt;/Text&gt;
        &lt;/View&gt;
      )}
    &lt;/View&gt;
  );
}
const screenWidth = Dimensions.get("screen").width;
const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#1f1f1f",
    alignItems: "center",
    // justifyContent: 'center',
    paddingTop: 250,
  },
  helloText: {
    color: "white",
    marginBottom: 20,
    fontSize: 30,
  },
  textInput: {
    padding: 5,
    paddingStart: 15,
    backgroundColor: "#3b3b3b",
    width: screenWidth * 0.8,
    borderRadius: 25,
    marginBottom: 15,
    color: "white",
    fontWeight: "600",
  },
  loginBtn: {
    paddingHorizontal: 25,
    paddingVertical: 10,
    backgroundColor: "#ff1178",
    borderRadius: 25,
    color: "white",
    textAlign: "center",
  },
  welcomeText: {
    color: "white",
    marginBottom: 20,
    fontSize: 30,
  },
  logoutBtn: {
    paddingHorizontal: 25,
    paddingVertical: 10,
    backgroundColor: "#ff1178",
    borderRadius: 25,
    color: "white",
    textAlign: "center",
  },
});
</pre>
<p>æˆ‘ä»¬çš„æ•´ä¸ªä»£ç å°†æ˜¯è¿™æ ·çš„:</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬çš„çŠ¶æ€<code>isLoggedIn</code>åœ¨åˆå§‹é˜¶æ®µè¢«è®¾ç½®ä¸º<code>false</code>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†æ˜¾ç¤ºæˆ‘ä»¬çš„ç™»å½•ç”¨æˆ·ç•Œé¢ï¼Œå½“ç”¨æˆ·æˆåŠŸç™»å½•æ—¶ï¼Œæˆ‘ä»¬å°†å‡­æ®ä¿å­˜åœ¨å®‰å…¨å­˜å‚¨ä¸­ï¼Œå¹¶æ›´æ–°ç™»å½•çŠ¶æ€å’Œç”¨æˆ·è¯¦ç»†ä¿¡æ¯çŠ¶æ€ã€‚</p>
<p>çŠ¶æ€æ›´æ–°åï¼Œæˆ‘ä»¬å°†æ˜¾ç¤ºä¸€ä¸ªå¸¦æœ‰ç”¨æˆ·åå’Œæ³¨é”€æŒ‰é’®çš„æ¬¢è¿ç”¨æˆ·ç•Œé¢ã€‚</p>
<p>åœ¨æ³¨é”€æŒ‰é’®ä¸Šï¼Œæˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ª<code>handleLogout</code>åŠŸèƒ½ã€‚åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä»æˆ‘ä»¬çš„å®‰å…¨å­˜å‚¨ä¸­é‡ç½®æˆ–åˆ é™¤ç”¨æˆ·çš„å‡­è¯ï¼Œå¹¶å°†æˆ‘ä»¬çš„çŠ¶æ€è®¾ç½®ä¸ºåˆå§‹æ•°æ®ã€‚</p>
<p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°æœ‰ä¸€ä¸ª<code>useEffect</code>é’©å­ä¹Ÿè¢«å†™äº†ã€‚åœ¨è¿™ä¸ªé’©å­ä¸­ï¼Œæˆ‘ä»¬ä»å®‰å…¨å­˜å‚¨ä¸­æ£€ç´¢ç”¨æˆ·å‡­è¯ï¼Œå¹¶åœ¨ç”¨æˆ·è¿”å›åº”ç”¨ç¨‹åºæ—¶æ ¹æ®è¿™äº›ä¿¡æ¯æ›´æ–°çŠ¶æ€ã€‚</p>
<p>å¦‚æœç”¨æˆ·å·²ç»åœ¨å­˜å‚¨å™¨ä¸­ä¿å­˜äº†ä»–ä»¬çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å‘ä»–ä»¬æ˜¾ç¤ºæ¬¢è¿ç”¨æˆ·ç•Œé¢ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å°†å‘ä»–ä»¬æ˜¾ç¤ºç™»å½•ç”¨æˆ·ç•Œé¢ï¼Œå‘Šè¯‰ä»–ä»¬æ²¡æœ‰ç™»å½•ã€‚</p>
<p>è¿™æ˜¯æ‚¨å¯ä»¥è½»æ¾å­˜å‚¨å’Œè¯»å–ç”¨æˆ·å‡­è¯è€Œä¸å±åŠç”¨æˆ·å®‰å…¨çš„æ–¹å¼ã€‚</p>
<h2>ç»“è®º</h2>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæ‚¨å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ react-native-keychain å®‰å…¨åœ°å°†ç”¨æˆ·çš„ä¿¡æ¯ä¿å­˜åœ¨ä»–ä»¬çš„è®¾å¤‡ä¸Šï¼Œè€Œä¸ä¼šå±åŠä»–ä»¬çš„å®‰å…¨ã€‚ç°åœ¨ä½ å¯ä»¥åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å®ç°ä½ è‡ªå·±å®Œæ•´çš„ç™»å½•ç³»ç»Ÿã€‚</p><div class="code-block code-block-18">
<div class="blog-plug inline-plug react-native-plug"><h2><a href="https://lp.logrocket.com/blg/react-native-signup"> LogRocket </a>:å³æ—¶é‡ç° React åŸç”Ÿåº”ç”¨ä¸­çš„é—®é¢˜ã€‚</h2><a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/110055665562c1e02069b3698e6cc671.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/110055665562c1e02069b3698e6cc671.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/10/react-native-plug_v2-2.png"/></noscript></a><p><a href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ˜¯ä¸€æ¬¾ React åŸç”Ÿç›‘æ§è§£å†³æ–¹æ¡ˆï¼Œå¯å¸®åŠ©æ‚¨å³æ—¶é‡ç°é—®é¢˜ã€ç¡®å®š bug çš„ä¼˜å…ˆçº§å¹¶äº†è§£ React åŸç”Ÿåº”ç”¨çš„æ€§èƒ½ã€‚</p><p>LogRocket è¿˜å¯ä»¥å‘ä½ å±•ç¤ºç”¨æˆ·æ˜¯å¦‚ä½•ä¸ä½ çš„åº”ç”¨ç¨‹åºäº’åŠ¨çš„ï¼Œä»è€Œå¸®åŠ©ä½ æé«˜è½¬åŒ–ç‡å’Œäº§å“ä½¿ç”¨ç‡ã€‚LogRocket çš„äº§å“åˆ†æåŠŸèƒ½æ­ç¤ºäº†ç”¨æˆ·ä¸å®Œæˆç‰¹å®šæµç¨‹æˆ–ä¸é‡‡ç”¨æ–°åŠŸèƒ½çš„åŸå› ã€‚</p><p>å¼€å§‹ä¸»åŠ¨ç›‘æ§æ‚¨çš„ React åŸç”Ÿåº”ç”¨â€” <a class="signup" href="https://lp.logrocket.com/blg/react-native-signup" target="_blank" rel="noopener noreferrer">å…è´¹è¯•ç”¨ LogRocketã€‘ã€‚</a></p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>