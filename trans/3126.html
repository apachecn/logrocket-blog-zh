<html>
<head>
<title>Unit testing and deploying smart contracts with Forge - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>ç”¨ Forge - LogRocket åšå®¢è¿›è¡Œå•å…ƒæµ‹è¯•å’Œéƒ¨ç½²æ™ºèƒ½åˆçº¦</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/unit-testing-smart-contracts-forge/#0001-01-01">https://blog.logrocket.com/unit-testing-smart-contracts-forge/#0001-01-01</a></blockquote><div><article class="article-post">
 <p>2021 å¹´ 12 æœˆï¼Œä¸–ç•Œä¸Šæœ€å¤§çš„åŸç”ŸåŠ å¯†æŠ•èµ„å…¬å¸ï¼Œ<a href="https://twitter.com/gakonst" target="_blank" rel="noopener"> Paradigm Lab çš„é¦–å¸­æŠ€æœ¯å®˜åœ£ä¹”æ²»</a>å‘å¸ƒäº†ä¸€ç¯‡åšå®¢ï¼Œå†…å®¹æ˜¯å…³äº(åŸºäº evm çš„)æ™ºèƒ½åˆçº¦å¼€å‘çš„æ–°æ¡†æ¶ Foundry çš„å‘å¸ƒã€‚</p>
<p>å®ƒå¸­å·äº†åŠ å¯†ç¤¾åŒºï¼Œå¹¶å¾ˆå¿«æˆä¸ºå¼€å‘å’Œæµ‹è¯•æ™ºèƒ½åˆçº¦çš„è¡Œä¸šæ ‡å‡†ï¼Œè¿™åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå½’åŠŸäºå®ƒä¸å…¶ä»–æ¡†æ¶ç›¸æ¯”çš„æ•ˆç‡ã€‚</p>
<p>ä¸ºäº†ç†è§£é“¸é€ çš„æ„ä¹‰ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆç ”ç©¶å®ƒè¯•å›¾è§£å†³çš„é—®é¢˜ã€‚</p>
<p>Hardhat å’Œ Truffle ç­‰æ¡†æ¶çš„ä¸»è¦é—®é¢˜æ˜¯ï¼Œå®ƒä»¬è¦æ±‚å¼€å‘äººå‘˜äº†è§£ JavaScript/TypeScript ç­‰è„šæœ¬è¯­è¨€ï¼Œä»¥ä¾¿ä½¿ç”¨è¯¥æ¡†æ¶ã€‚</p>
<p>ç”±äºè¿™äº›è„šæœ¬è¯­è¨€æ˜¯ web å¼€å‘çš„é‡ä¸­ä¹‹é‡ï¼Œsolidity å¼€å‘äººå‘˜ä¸éœ€è¦äº†è§£æ™ºèƒ½åˆçº¦å¼€å‘çš„è¿™ç§è¯­è¨€ï¼Œå› ä¸ºå®ƒè¢«è®¤ä¸ºæ˜¯æ›´åŠ é¢å‘åç«¯çš„ã€‚</p>
<p>å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œhardhat æœ¬èº«æ˜¯ä½¿ç”¨ TypeScript å®ç°çš„ï¼Œå› æ­¤å®ƒæ¯” Foundry æ…¢ï¼Œå› ä¸ºåè€…æ˜¯ä½¿ç”¨ Rust å®ç°çš„ã€‚</p>
<p>(æ³¨:å¦‚æœæ‚¨æœ‰å…´è¶£æ£€æŸ¥åŸºå‡†ï¼Œè¯·æŸ¥çœ‹<a href="https://github.com/mds1/convex-shutdown-simulation#convex-system-shutdown-benchmarks" target="_blank" rel="noopener">è¿™ä¸ªæ¨¡æ‹Ÿ</a>)</p>
<p><img data-attachment-id="123328" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/forge-vs-hardhat/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat.png" data-orig-size="730,443" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Forge vs. Hardhat" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat.png" decoding="async" class="aligncenter size-full wp-image-123328 jetpack-lazy-image" src="../Images/8bd787a139b66f6139fdbd7cdf619e72.png" alt="Graph comparing compilation times between Forge and Hardhat" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat-300x182.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="123328" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/forge-vs-hardhat/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat.png" data-orig-size="730,443" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Forge vs. Hardhat" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat-300x182.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-123328" src="../Images/8bd787a139b66f6139fdbd7cdf619e72.png" alt="Graph comparing compilation times between Forge and Hardhat" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat-300x182.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/forge-vs-hardhat.png"/></noscript>
<p>é™¤æ­¤ä¹‹å¤–ï¼ŒFoundry è¿˜æœ‰å¾ˆå¤šå¾ˆé…·çš„åŠŸèƒ½ï¼Œæ¯”å¦‚:</p>
<ul>
<li>è°ƒç”¨å †æ ˆè·Ÿè¸ª</li>
<li>äº¤äº’å¼è°ƒè¯•å™¨</li>
<li>å†…ç½®æ¨¡ç³Š</li>
<li>å¯é æ€§è„šæœ¬</li>
</ul>
<p>ç°åœ¨ï¼Œæˆ‘å¸Œæœ›ä½ å¯¹ Foundry å’Œä½¿ç”¨ Solidity æµ‹è¯•æ™ºèƒ½åˆçº¦çš„å¿…è¦æ€§æœ‰ä¸€ä¸ªå¤§è‡´çš„äº†è§£ã€‚Foundry é™„å¸¦äº†ä¸¤ä¸ªå¼€ç®±å³ç”¨çš„æƒŠäºº CLI å·¥å…·:</p>
<ul>
<li>Forge:ç”¨äºæµ‹è¯•å’Œéƒ¨ç½²æ™ºèƒ½åˆçº¦</li>
<li>Cast:ç”¨äºä¸éƒ¨ç½²çš„æ™ºèƒ½åˆçº¦è¿›è¡Œäº¤äº’</li>
</ul>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¶µç›–ä»¥ä¸‹å†…å®¹:</p>

<p>è®©æˆ‘ä»¬å¼€å§‹å§ã€‚</p>
<h2 id="installing-foundry">å®‰è£…é“¸é€ è½¦é—´</h2>
<p>å®‰è£… Foundry ç®€å•æ˜äº†ã€‚</p>
<p>æ‰“å¼€æ‚¨çš„ç»ˆç«¯å¹¶è¿è¡Œ:</p>
<pre class="bash hljs">curl -L https://foundry.paradigm.xyz | bash &amp;&amp; foundryup
</pre>
<p>ä¸€æ—¦å®‰è£…äº†é“¸é€ ï¼Œä½ å°±å¯ä»¥å¼€å§‹ä½¿ç”¨é”»é€ å’Œé“¸é€ äº†ã€‚</p>
<p>å¯¹äºæŸäº›æ“ä½œç³»ç»Ÿï¼Œä½ å¯èƒ½æƒ³åœ¨å®‰è£… Foundry ä¹‹å‰<a href="https://www.rust-lang.org/tools/install" target="_blank" rel="noopener">å®‰è£… rust </a>ã€‚</p>
<h2 id="setting-up-foundry-project">å»ºç«‹é“¸é€ é¡¹ç›®</h2>
<p>é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ‚¨å¯ä»¥ç«‹å³è®¾ç½®ä¸€ä¸ªé“¸é€ é¡¹ç›®</p>
<pre class="bash hljs">forge init &lt;PROJECT_NAME&gt;
</pre>
<p>ä¸ºäº†è®©ä½ çš„ç”Ÿæ´»æ›´è½»æ¾ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ª<a href="https://github.com/PraneshASP/forge-template" target="_blank" rel="noopener">æ¨¡æ¿åº“</a>ï¼Œæœ‰äº†å®ƒä½ å¯ä»¥æ›´è½»æ¾åœ°å…¥é—¨ã€‚å®ƒåŒ…å«æ‰€éœ€çš„åº“ã€è„šæœ¬å’Œç›®å½•è®¾ç½®ã€‚å› æ­¤ï¼Œæ‚¨éœ€è¦åšçš„åªæ˜¯åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<p>ä¸Šé¢çš„å‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ªåä¸º<code>foundry-faucet</code>çš„æ–°ç›®å½•ï¼Œå¹¶ä½¿ç”¨æˆ‘çš„æ¨¡æ¿åˆå§‹åŒ–äº†ä¸€ä¸ªæ–°çš„ Foundry é¡¹ç›®ã€‚è¿™å°†æ˜¯ç›®å½•ç»“æ„ã€‚æˆ‘ä»¬æƒ³è¦å…³æ³¨çš„é‡è¦ç›®å½•å’Œæ–‡ä»¶æœ‰:</p>
<p><img data-attachment-id="123332" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/directory-structure-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure.png" data-orig-size="347,521" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Directory structure" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure-200x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure.png" decoding="async" class="aligncenter size-full wp-image-123332 jetpack-lazy-image" src="../Images/a017c0e6451e9a72317597282aec9334.png" alt="Directory structure" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure.png 347w, https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure-200x300.png 200w" data-lazy-sizes="(max-width: 347px) 100vw, 347px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="123332" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/directory-structure-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure.png" data-orig-size="347,521" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Directory structure" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure-200x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-123332" src="../Images/a017c0e6451e9a72317597282aec9334.png" alt="Directory structure" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure.png 347w, https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure-200x300.png 200w" sizes="(max-width: 347px) 100vw, 347px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/directory-structure.png"/></noscript>
<ul>
<li><strong> lib: </strong>è¿™åŒ…å«äº†æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„æ‰€æœ‰ä¾èµ–/åº“ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä½¿ç”¨ Solmateï¼Œå®ƒå°†ä½œä¸º git å­æ¨¡å—é©»ç•™åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­</li>
<li><strong>è„šæœ¬:</strong>è¿™ä¸ªæ–‡ä»¶å¤¹æœ‰æ‰€æœ‰çš„è„šæœ¬ï¼Œæ¯”å¦‚éƒ¨ç½²å’ŒéªŒè¯åˆåŒ</li>
<li><strong> src: </strong>è¯¥æ–‡ä»¶å¤¹åŒ…å«æ‰€æœ‰åˆåŒä»¥åŠä¸åˆåŒç›¸å…³çš„æµ‹è¯•</li>
<li><strong> foundry.toml: </strong>è¯¥æ–‡ä»¶åŒ…å«å½“å‰ foundry é¡¹ç›®çš„é…ç½®é€‰é¡¹</li>
</ul>
<p>æˆ‘ä»¬è¿˜åº”è¯¥æ›´æ–°å’Œå®‰è£…æ‰€ä½¿ç”¨çš„åº“ï¼›ä¸ºæ­¤ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<pre class="bash hljs">git submodule update --init --recursive
forge install
</pre>
<h2 id="creating-faucet-contract">åˆ›å»ºä¸€ä¸ªç®€å•çš„æ°´é¾™å¤´åˆåŒ</h2>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä¸ºæˆ‘ä»¬çš„ ERC20 ä»¤ç‰Œå®ç°ä¸€ä¸ªæ°´é¾™å¤´åˆåŒï¼Œå®ƒå¯ä»¥åœ¨è¯·æ±‚æ—¶æ»´ä¸‹ä»¤ç‰Œã€‚æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª<code>limit</code>æ¥é™åˆ¶æ¯ä¸ªè¯·æ±‚çš„ä»¤ç‰Œæ•°é‡ï¼Œåœ¨æˆ‘ä»¬çš„å¥‘çº¦ä¸­ï¼Œè¿™ä¸ªå€¼é»˜è®¤ä¸º<code>100</code>ã€‚</p>
<p>æ‰“å¼€<code><em>src/Faucet.sol</em></code>æ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹ä»£ç :</p>
<pre class="solidity hljs">// SPDX-License-Identifier: UNLICENSED
pragma solidity 0.8.13;

import {Ownable} from "openzeppelin-contracts/access/Ownable.sol";
import {IERC20} from "openzeppelin-contracts/token/ERC20/IERC20.sol";

contract Faucet is Ownable {
   /// Address of the token that this faucet drips
   IERC20 public token;

   /// For rate limiting
   mapping(address =&gt; uint256) public nextRequestAt;
   /// Max token limit per request
   uint256 public limit = 100;

   /// @param _token The address of the faucet's token
   constructor(IERC20 _token) {
       token = _token;
   }

   /// Used to send the tokens
   /// @param _recipient The address of the tokens recipient
   /// @param _amount The amount of tokens required from the faucet
   function drip(address _recipient, uint256 _amount) external {
       require(_recipient != address(0), "INVALID_RECIPIENT");

       require(_amount &lt;= limit, "EXCEEDS_LIMIT");

       require(nextRequestAt[_recipient] &lt;= block.timestamp, "TRY_LATER");
       nextRequestAt[_recipient] = block.timestamp + (5 minutes);

       token.transfer(_recipient, _amount);
   }

   /// Used to set the max limit per request
   /// @dev This method is restricted and should be called only by the owner
   /// @param _limit The new limit for the tokens per request
   function setLimit(uint256 _limit) external onlyOwner {
       limit = _limit;
   }
}
</pre>
<p>æˆ‘ä»¬çš„æ°´é¾™å¤´åˆåŒå·²ç»æ·»åŠ ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥ç¼–è¯‘åˆåŒ:</p>
<pre class="bash hljs">forge <strong><code>build</code></strong></pre>
<p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼çš„è¾“å‡º:</p>
<pre class="bash hljs">[â ’] Compiling...
[â ’] Compiling 14 files with 0.8.13
Compiler run successful
</pre>
<p>å¤ªæ£’äº†ã€‚æˆ‘ä»¬å·²ç»æˆåŠŸåœ°å»ºç«‹äº†æˆ‘ä»¬çš„é“¸é€ é¡¹ç›®ï¼Œå¹¶ç¼–åˆ¶äº†æˆ‘ä»¬çš„åˆåŒï¼Œæ²¡æœ‰ä»»ä½•é”™è¯¯ï¼å¹²å¾—å¥½ï¼Œé˜¿å†œğŸ‰</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹æµ‹è¯•æˆ‘ä»¬çš„æ°´é¾™å¤´åˆåŒã€‚</p>
<h2 id="unit-testing-forge">ä½¿ç”¨ Forge çš„å•å…ƒæµ‹è¯•</h2>
<p>å¦‚ä½ æ‰€çŸ¥ï¼Œä¸ Hardhat ä¸åŒï¼ŒForge å¸®åŠ©æˆ‘ä»¬ä½¿ç”¨ Solidity ç¼–å†™å•å…ƒæµ‹è¯•ã€‚</p>
<p>å¦‚æœæ‚¨æ‰“å¼€<code>src/test/Faucet.t.sol</code>æ–‡ä»¶ï¼Œæ‚¨å°†ä¼šçœ‹åˆ°ä¸€äº› utils çš„å¯¼å…¥å’Œä¸€ä¸ª BaseSetup å¥‘çº¦ã€‚</p>
<p id="gdcalert1"><img data-attachment-id="123335" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/base-setup-contract/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract.png" data-orig-size="504,469" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Base setup contract" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract-300x279.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract.png" decoding="async" class="aligncenter size-full wp-image-123335 jetpack-lazy-image" src="../Images/875f5870c0ac26b530e8c7d8af4f6326.png" alt="Base setup contract" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract.png 504w, https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract-300x279.png 300w" data-lazy-sizes="(max-width: 504px) 100vw, 504px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="123335" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/base-setup-contract/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract.png" data-orig-size="504,469" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Base setup contract" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract-300x279.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-123335" src="../Images/875f5870c0ac26b530e8c7d8af4f6326.png" alt="Base setup contract" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract.png 504w, https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract-300x279.png 300w" sizes="(max-width: 504px) 100vw, 504px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/base-setup-contract.png"/></noscript>
<p>å®ƒæœ‰ä¸€äº›åˆå§‹è®¾ç½®ï¼Œåˆå§‹åŒ–ä¸€äº›æˆ‘ä»¬å¯ä»¥åœ¨æµ‹è¯•ä¸­ä½¿ç”¨çš„å˜é‡ã€‚æ­¤å¤–ï¼Œ<code>setUp()</code>åŠŸèƒ½ç±»ä¼¼äº hardhat ä¸­çš„<code>beforeEach</code>,å®ƒåœ¨æ¯æ¬¡æµ‹è¯•å‰è¿è¡Œã€‚</p>
<p><code>setUp()</code>å‡½æ•°åˆ›å»ºäº†ä¸¤ä¸ªåœ°å€ï¼Œå¹¶å°†å®ƒä»¬æ ‡è®°ä¸º<code>Alice</code>å’Œ<code>Bob</code>ã€‚å½“æ‚¨å°è¯•é€šè¿‡è°ƒç”¨è·Ÿè¸ªè¿›è¡Œè°ƒè¯•æ—¶ï¼Œè¿™å¾ˆæœ‰å¸®åŠ©ï¼Œå› ä¸ºæ ‡ç­¾ä¸åœ°å€ä¸€èµ·å‡ºç°åœ¨è·Ÿè¸ªä¸­ã€‚</p>
<p>(æ³¨æ„:vm.label è¢«ç§°ä¸º cheatcodeï¼Œå®ƒæ˜¯ç‰¹å®šäº Forge çš„ï¼›å®ƒé€šè¿‡åœ¨æµ‹è¯•ç¯å¢ƒä¸­ä¸è™šæ‹Ÿæœºäº¤äº’æ¥å¸®åŠ©æˆ‘ä»¬åšä¸€äº›ç‰¹æ®Šçš„æ“ä½œã€‚åœ¨æœ¬æ–‡çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šçœ‹åˆ°æ›´å¤šçš„æ¬ºéª—ä»£ç ã€‚å…³äºå®Œæ•´çš„ä»£ç åˆ—è¡¨ï¼Œä½ å¯ä»¥<a href="https://github.com/sambacha/foundry-docs/blob/master/FORGE.md#cheat-codes" target="_blank" rel="noopener">å‚è€ƒè¿™ä¸ªé“¾æ¥</a></p>
<p>ç”¨ä¸‹é¢çš„ä»£ç æ›¿æ¢<code>Faucet.t.sol</code>,å¼€å§‹å•å…ƒæµ‹è¯•ï¼›</p><div class="code-block code-block-54">
<hr/>
<h3>æ›´å¤šæ¥è‡ª LogRocket çš„ç²¾å½©æ–‡ç« :</h3>

<hr/></div>
<pre class="solidity hljs">// SPDX-License-Identifier: MIT
pragma solidity &gt;=0.8;

import {console} from "forge-std/console.sol";
import {stdStorage, StdStorage, Test} from "forge-std/Test.sol";
import {IERC20} from "openzeppelin-contracts/token/ERC20/IERC20.sol";

import {Utils} from "./utils/Utils.sol";
import {Faucet} from "../Faucet.sol";
import {MockERC20} from "../MockERC20.sol";

contract BaseSetup is Test {
   Utils internal utils;
   Faucet internal faucet;
   MockERC20 internal token;

   address payable[] internal users;
   address internal owner;
   address internal dev;
   uint256 internal faucetBal = 1000;

   function setUp() public virtual {
       utils = new Utils();
       users = utils.createUsers(2);
       owner = users[0];
       vm.label(owner, "Owner");
       dev = users[1];
       vm.label(dev, "Developer");

       token = new MockERC20();
       faucet = new Faucet(IERC20(token));
       token.mint(address(faucet), faucetBal);
   }
}
</pre>
<p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»åˆ›å»ºäº†æ–°çš„çŠ¶æ€å˜é‡ï¼Œå¦‚<code>faucet</code>ã€<code>token</code>ï¼Œå¹¶ä¸”ä¸ºäº†ä¾¿äºè§£é‡Šï¼Œæˆ‘ä»¬è¿˜å°†<code>alice</code>å’Œ<code>bob</code>é‡å‘½åä¸º<code>owner</code>å’Œ<code>dev</code>ã€‚åœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œ<code>dev</code>æ˜¯å‘æ°´é¾™å¤´è¯·æ±‚ä»¤ç‰Œçš„äººï¼Œè€Œ<code>owner</code>æ˜¯æ°´é¾™å¤´æœ¬èº«çš„æ‰€æœ‰è€…ã€‚</p>
<p>åœ¨<code>setUp()</code>æ–¹æ³•çš„æœ€åä¸‰è¡Œä¸­ï¼Œæˆ‘ä»¬ä¸ºæ°´é¾™å¤´éƒ¨ç½²äº†ä¸€ä¸ªæ¨¡æ‹Ÿä»¤ç‰Œï¼Œåœ¨<code>new Faucet()</code>(æ°´é¾™å¤´éƒ¨ç½²)çš„æ„é€ å‡½æ•°ä¸­ä¼ é€’å®ƒçš„åœ°å€ï¼Œç„¶åè°ƒç”¨å¹¶é“¸é€ ä¸€äº›ä»¤ç‰Œåˆ°éƒ¨ç½²çš„æ°´é¾™å¤´å¥‘çº¦ä¸­ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å°†ç»§æ‰¿<code>BaseSetup</code>åˆåŒï¼Œä¸ºæˆ‘ä»¬çš„æ°´é¾™å¤´åˆåŒç¼–å†™å•å…ƒæµ‹è¯•ã€‚</p>
<p>åœ¨<code>BaseSetup</code>å¥‘çº¦ä¸‹ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç :</p>
<pre class="solidity hljs">contract FaucetTest is BaseSetup {
   uint256 amountToDrip = 1;

   function setUp() public override {
       super.setUp();
   }
</pre>
<p>å¦‚å‰æ‰€è¿°ï¼Œ<code>setUp()</code>æ–¹æ³•åœ¨æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ä¹‹å‰è¿è¡Œï¼Œè¿™é‡Œæˆ‘ä»¬é€šè¿‡<code>super.setUp()</code>è°ƒç”¨åŸºç¡€å¥‘çº¦çš„<code>setUp()</code>æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯<code>BaseSetup</code>å¥‘çº¦ã€‚</p>
<p>å¥½äº†ï¼Œç°åœ¨è®©æˆ‘ä»¬å¼€å§‹ä¸ºæˆ‘ä»¬çš„åˆåŒæ·»åŠ å•å…ƒæµ‹è¯•ã€‚åœ¨ FaucetTest å¥‘çº¦çš„<code>setUp()</code>æ–¹æ³•çš„æ­£ä¸‹æ–¹ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç :</p>
<pre class="solidity hljs">   function test_drip_transferToDev() public {
       console.log(
           "Should transfer tokens to recipient when `drip()` is called"
       );
       uint256 _inititalDevBal = token.balanceOf(dev);

       /// Make sure that initial dev balance is Zero
       assertEq(_inititalDevBal, 0);

       /// Request some tokens to the dev wallet from the wallet
       faucet.drip(dev, amountToDrip);

       uint256 _devBalAfterDrip = token.balanceOf(dev);

      /// The difference should be equal to the amount requested from the faucet
       assertEq(_devBalAfterDrip - _inititalDevBal, amountToDrip);
   }
</pre>
<p>ä¸Šé¢çš„ä»£ç å¸®åŠ©æˆ‘ä»¬æµ‹è¯•<code>drip()</code>æ–¹æ³•ã€‚å·¥ä½œæµç¨‹å¾ˆç®€å•ã€‚</p>
<ol>
<li>é¦–å…ˆï¼Œå°† dev çš„åˆå§‹ä½™é¢å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­(_ inititalDevBal)</li>
<li>ç¡®ä¿å®ƒæ˜¯ 0ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰ä¸º dev é“¸é€ ä»»ä½•ä»¤ç‰Œã€‚è¿™å°±æ˜¯è¡Œ<code>assertEq(_inititalDevBal, 0);</code>çš„ä½œç”¨</li>
<li>ç„¶åä»<code>faucet</code>å¥‘çº¦å®ä¾‹ä¸­è°ƒç”¨<code>drip()</code>æ–¹æ³•</li>
<li>è°ƒç”¨<code>drip()</code>åï¼Œå–<code>dev</code>çš„ä½™é¢</li>
<li>åœ¨<code>drip()</code>ä¹‹å‰å’Œä¹‹åçš„<code>dev</code>è´¦æˆ·ä½™é¢ä¹‹é—´çš„å·®åº”è¯¥ç­‰äº<code>amountToDrip</code>ï¼Œå…¶ä½œä¸ºçŠ¶æ€å˜é‡å­˜å‚¨åœ¨ FaucetTest å¥‘çº¦ä¸­</li>
</ol>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä¿å­˜æ–‡ä»¶å¹¶è¿è¡Œæµ‹è¯•:<code>forge <strong>test</strong></code>ã€‚</p>
<p>æ‚¨åº”è¯¥ä¼šåœ¨ç»ˆç«¯ä¸­çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„è¾“å‡º:</p>
<p><img data-attachment-id="123338" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/4-18-compiling-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output.png" data-orig-size="708,181" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Compiling test results in terminal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output-300x77.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output.png" decoding="async" class="aligncenter size-full wp-image-123338 jetpack-lazy-image" src="../Images/2b8e4455183e8a34f60690179c6c3ddc.png" alt="Compiling test results in terminal" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output.png 708w, https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output-300x77.png 300w" data-lazy-sizes="(max-width: 708px) 100vw, 708px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="123338" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/4-18-compiling-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output.png" data-orig-size="708,181" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Compiling test results in terminal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output-300x77.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-123338" src="../Images/2b8e4455183e8a34f60690179c6c3ddc.png" alt="Compiling test results in terminal" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output.png 708w, https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output-300x77.png 300w" sizes="(max-width: 708px) 100vw, 708px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/4.18-compiling-output.png"/></noscript>
<p>é…·ï¼è®©æˆ‘ä»¬å†å¢åŠ ä¸€äº›æµ‹è¯•ã€‚</p>
<p>ä¸Šé¢çš„æµ‹è¯•éªŒè¯äº†<code>drip()</code>æ–¹æ³•å°†ä»¤ç‰Œä¼ é€’ç»™äº†<code>dev</code>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¿˜åº”è¯¥æ£€æŸ¥è½¬ç§»æ˜¯å¦æœ‰æ•ˆï¼Œè¿™æ„å‘³ç€æ°´é¾™å¤´çš„ä»¤ç‰Œä½™é¢åº”è¯¥å‡å°‘ã€‚</p>
<p>åœ¨ä¸‹é¢æ·»åŠ ä»¥ä¸‹æµ‹è¯•â€”â€”<code>test_drip_transferToDev()</code>æ–¹æ³•ã€‚</p>
<pre class="solidity hljs"> function test_drip_reduceFaucetBalance() public {
       console.log("The faucet balance should be reduced");
       faucet.drip(dev, amountToDrip);
       assertEq(token.balanceOf(address(faucet)), faucetBal - amountToDrip);
   }
</pre>
<p>è¿™ç¡®ä¿äº† dev æ”¶åˆ°çš„ä»¤ç‰Œå®é™…ä¸Šæ˜¯ä»æ°´é¾™å¤´å‘å‡ºçš„â€”â€”å¦‚æœæ˜¯è¿™æ ·ï¼Œæ°´é¾™å¤´çš„ä½™é¢åº”è¯¥å‡å°‘ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å†æ¬¡è¿è¡Œæµ‹è¯•å¥—ä»¶æ¥ç¡®è®¤:<code>forge test</code></p>
<p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œé‚£ä¹ˆæ‚¨çš„è¾“å‡ºåº”è¯¥ç±»ä¼¼äºä»¥ä¸‹å†…å®¹:</p>
<p><img data-attachment-id="123341" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/2-07-compiling-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output.png" data-orig-size="681,206" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Compiling test results in terminal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output-300x91.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output.png" decoding="async" class="aligncenter size-full wp-image-123341 jetpack-lazy-image" src="../Images/9e11711da1694566d81254330bbfbc0a.png" alt="Compiling test results in terminal" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output.png 681w, https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output-300x91.png 300w" data-lazy-sizes="(max-width: 681px) 100vw, 681px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="123341" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/2-07-compiling-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output.png" data-orig-size="681,206" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Compiling test results in terminal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output-300x91.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-123341" src="../Images/9e11711da1694566d81254330bbfbc0a.png" alt="Compiling test results in terminal" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output.png 681w, https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output-300x91.png 300w" sizes="(max-width: 681px) 100vw, 681px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/2.07-compiling-output.png"/></noscript>
<p>å¤ªæ£’äº†ã€‚å¦‚æœä½ å·²ç»æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬åœ¨æµ‹è¯•ç”¨ä¾‹ä¸­æœ‰<code>console.log</code>è¯­å¥ï¼Œä½†æ˜¯å®ƒä»¬æ²¡æœ‰æ˜¾ç¤ºåœ¨æ§åˆ¶å°ä¸­ã€‚åŸå› æ˜¯ Forge é»˜è®¤ä¸æ˜¾ç¤ºæ—¥å¿—ã€‚ä¸ºäº†æ˜¾ç¤ºæ—¥å¿—ï¼Œæˆ‘ä»¬éœ€è¦è¿è¡Œ verbosity 2 : <code>forge test -vv</code>å‘½ä»¤æ¥æ˜¾ç¤ºæ—¥å¿—ã€‚</p>
<p><img data-attachment-id="123343" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/2-08-compiling-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output.png" data-orig-size="749,330" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Compiling test results in terminal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output-300x132.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output.png" decoding="async" class="aligncenter size-full wp-image-123343 jetpack-lazy-image" src="../Images/f25f69915d2d414162697c4075390969.png" alt="Compiling test results in terminal" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output.png 749w, https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output-300x132.png 300w" data-lazy-sizes="(max-width: 749px) 100vw, 749px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="123343" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/2-08-compiling-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output.png" data-orig-size="749,330" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Compiling test results in terminal" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output-300x132.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-123343" src="../Images/f25f69915d2d414162697c4075390969.png" alt="Compiling test results in terminal" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output.png 749w, https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output-300x132.png 300w" sizes="(max-width: 749px) 100vw, 749px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/2.08-compiling-output.png"/></noscript>
<p>æ­¤å¤–ï¼Œå¦‚æœæ‚¨çš„å¥‘çº¦å‘å‡ºäº†ä»»ä½•äº‹ä»¶ï¼Œæ‚¨å¯ä»¥åœ¨è¯¦ç»†ç¨‹åº¦ä¸ºä¸‰(-vvv)çš„æµ‹è¯•ä¸­æŸ¥çœ‹å®ƒä»¬ã€‚æ‚¨å¯ä»¥ä¸ºæ‚¨çš„æµ‹è¯•è·å¾—è¯¦ç»†çš„è°ƒç”¨è·Ÿè¸ªï¼Œè¯¦ç»†ç¨‹åº¦é«˜è¾¾äº”çº§ï¼Œè¿™æœ‰åŠ©äºæ›´å¥½åœ°è°ƒè¯•ã€‚</p>
<p>å¥½å§ï¼Œè®©æˆ‘ä»¬ç»§ç»­æ·»åŠ æ›´å¤šçš„æµ‹è¯•ã€‚ç°åœ¨æˆ‘ä»¬å°†æµ‹è¯•æˆ‘ä»¬çš„é€Ÿç‡é™åˆ¶æœºåˆ¶ã€‚åœ¨ä½¿ç”¨ç›¸åŒçš„æ”¶ä»¶äººåœ°å€å‘¼å«<code>drip()</code>ä¹‹å‰ï¼Œåº”è‡³å°‘é—´éš”äº”åˆ†é’Ÿã€‚</p>
<pre class="solidity hljs">   function test_drip_revertIfThrottled() public {
       console.log("Should revert if tried to throttle");
       faucet.drip(dev, amountToDrip);

       vm.expectRevert(abi.encodePacked("TRY_LATER"));
       faucet.drip(dev, amountToDrip);
   }
</pre>
<p><code>vm.expectRevert(bytes32)</code>æ˜¯å¦ä¸€ä¸ªæ¬ºéª—ä»£ç ï¼Œå®ƒæ£€æŸ¥ä¸‹ä¸€ä¸ªè°ƒç”¨æ˜¯å¦è¿”å›ç»™å®šçš„é”™è¯¯æ¶ˆæ¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé”™è¯¯æ¶ˆæ¯æ˜¯<code>TRY_LATER</code>ã€‚å®ƒæ¥å—å­—èŠ‚å½¢å¼çš„é”™è¯¯ä¿¡æ¯ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨äº†<code>abi.encodePacked</code>ã€‚</p>
<p>å¦‚æœä½ è¿˜è®°å¾—çš„è¯ï¼Œæˆ‘æåˆ°è¿‡é”»é€ èˆ¹è¦æœ‰ç°æˆçš„å¼•ä¿¡ã€‚è®©æˆ‘ä»¬è¯•ä¸€è¯•ã€‚</p>
<p>æˆ‘ä»¬å°†æµ‹è¯•<code>test_drip_transferToDev</code>å’Œ<code>test_drip_reduceFaucetBalance</code>ç»“åˆèµ·æ¥ï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨ä¼ é€’è¾“å…¥ï¼Œæˆ‘ä»¬å°†å…è®¸ fuzzer è¾“å…¥å€¼ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç¡®ä¿æˆ‘ä»¬çš„å¥‘çº¦å¤„ç†ä¸åŒçš„è¾“å…¥ã€‚</p>
<pre class="solidity hljs">   function test_drip_withFuzzing(address _recipient, uint256 _amount) public {
       console.log("Should handle fuzzing");
       /// inform the constraints to the fuzzer, so that the tests don't revert on bad inputs.
       vm.assume(_amount &lt;= 100);
       vm.assume(_recipient != address(0));
       uint256 _inititalBal = token.balanceOf(_recipient);
       faucet.drip(_recipient, _amount);
       uint256 _balAfterDrip = token.balanceOf(_recipient);
       assertEq(_balAfterDrip - _inititalBal, _amount);
       assertEq(token.balanceOf(address(faucet)), faucetBal - _amount);
   }
</pre>
<p>æ¨¡ç³ŠåŒ–æ˜¯åŸºäºå±æ€§çš„æµ‹è¯•ã€‚Forge å°†å¯¹ä»»ä½•è‡³å°‘éœ€è¦ä¸€ä¸ªå‚æ•°çš„æµ‹è¯•åº”ç”¨æ¨¡ç³ŠåŒ–ã€‚</p>
<p>å½“æ‚¨æ‰§è¡Œæµ‹è¯•å¥—ä»¶æ—¶ï¼Œæ‚¨å¯ä»¥åœ¨è¾“å‡ºä¸­æ‰¾åˆ°ä»¥ä¸‹è¡Œ:</p>
<pre class="solidity hljs"><strong>[PASS] test_drip_withFuzzing(address,uint256) (runs: 256)</strong></pre>
<p>ä»ä¸Šé¢çš„è¾“å‡ºæˆ‘ä»¬å¯ä»¥æ¨æ–­å‡ºï¼ŒForge fuzzer è°ƒç”¨äº† test _ drip _ withFuzzing()æ–¹æ³•<code>256</code>æ¬¡ï¼Œä½¿ç”¨äº†éšæœºè¾“å…¥ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>FOUNDRY_FUZZ_RUNS</code>ç¯å¢ƒå˜é‡è¦†ç›–è¿™ä¸ªæ•°å­—ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä¸ºæ‰€æœ‰è€…ä¸“ç”¨çš„æ–¹æ³•<code>setLimit()</code>æ·»åŠ å‡ ä¸ªæµ‹è¯•</p>
<pre class="solidity hljs">function test_setLimit() public {
       console.log("Should set the limit when called by the owner");
       faucet.setLimit(1000);

       /// the <code>limit</code> should be updated assertEq(faucet.limit(), 1000); } function test_setLimit_revertIfNotOwner() public { console.log("Should revert if not called by Owner"); /// Sets the msg.sender as <code>dev</code> for the next tx vm.prank(dev); vm.expectRevert(abi.encodePacked("Ownable: caller is not the owner")); faucet.setLimit(1000); }</pre>
<p>åœ¨<code>test_setLimit_revertIfNotOwner()</code>æ–¹æ³•ä¸­ï¼Œä½¿ç”¨äº†æ–°çš„ cheatcode <code>vm.prank(address)</code>ã€‚å®ƒé€šè¿‡ç”¨ç»™å®šçš„åœ°å€è¦†ç›– msg.sender æ¥æ¬ºéª— VMï¼›åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯<code>dev</code>ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬çš„æ°´é¾™å¤´åˆåŒç»§æ‰¿äº†<code>Ownable</code>åˆåŒæ—¶ï¼Œ<code>setLimit()</code>åº”è¯¥æ¢å¤ä¸º<code>caller is not the owner</code>æ¶ˆæ¯ã€‚</p>
<p>å¥½çš„ï¼Œè®©æˆ‘ä»¬é€šè¿‡å†æ¬¡è¿è¡Œ<code>forge test</code>æ¥ç¡®ä¿æ²¡æœ‰æµ‹è¯•å¤±è´¥ã€‚</p>
<p><img data-attachment-id="123346" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/348-7-compiling-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output.png" data-orig-size="703,299" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Forge test terminal output" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output-300x128.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output.png" decoding="async" class="aligncenter size-full wp-image-123346 jetpack-lazy-image" src="../Images/adae532bc4a5b9eadc6b312e40e17df4.png" alt="Forge test terminal output" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output.png 703w, https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output-300x128.png 300w" data-lazy-sizes="(max-width: 703px) 100vw, 703px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="123346" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/348-7-compiling-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output.png" data-orig-size="703,299" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Forge test terminal output" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output-300x128.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-123346" src="../Images/adae532bc4a5b9eadc6b312e40e17df4.png" alt="Forge test terminal output" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output.png 703w, https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output-300x128.png 300w" sizes="(max-width: 703px) 100vw, 703px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/348.7-compiling-output.png"/></noscript>
<p>äº²çˆ±çš„ğŸ¥³ï¼Œç°åœ¨æ˜¯éƒ¨ç½²çš„æ—¶å€™äº†ã€‚</p>
<h2 id="contract-deployment-kovan">åˆåŒéƒ¨ç½²åˆ°ç§‘ä¸‡æµ‹è¯•ç½‘</h2>
<p>ä»<code>.env.example</code>æ–‡ä»¶åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå‘½åä¸º<code>.env</code>ã€‚è¯·å¡«å†™æ‚¨çš„ INFURA_API_KEY å’Œ PRIVATE_KEY(ç”¨ Kovan testnet åŸºé‡‘)ã€‚</p>
<p>ä¸€æ—¦å¡«å……äº†æ‰€æœ‰å­—æ®µï¼Œå°±å¯ä»¥éƒ¨ç½²åˆ° Kovan äº†ã€‚åœ¨éƒ¨ç½²æ°´é¾™å¤´ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦éƒ¨ç½²æˆ‘ä»¬çš„ ERC20 ä»¤ç‰Œã€‚</p>
<p>æ‚¨å¯ä»¥åœ¨<code>scripts</code>ç›®å½•ä¸­æ‰¾åˆ°éƒ¨ç½²è„šæœ¬ï¼Œå¹¶é€šè¿‡æ‰§è¡Œ<code>./scripts/deploy_token_kovan.sh</code> bash è„šæœ¬å°† MockERC20 ä»¤ç‰Œéƒ¨ç½²åˆ° Kovan testnetã€‚</p>
<p>è¾“å‡ºå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="bash hljs"><em>Deployer: (YOUR_DEPLOYMENT_ADDRESS)</em>

<em>Deployed to: 0x1a70d8a2a02c9cf0faa5551304ba770b5496ed80</em>

<em>Transaction hash: 0xa3780d2e3e1d1f9346035144f3c2d62f31918b613a370f416a4fb1a6c2eadc77</em></pre>
<p>ä¸ºäº†ç¡®ä¿äº‹åŠ¡ç¡®å®é€šè¿‡äº†ï¼Œæ‚¨å¯ä»¥åœ¨<a href="https://kovan.etherscan.io" target="_blank" rel="noopener">https://kovan . etherscan . io</a>ä¸­æœç´¢äº‹åŠ¡æ•£åˆ—</p>
<p>å¤åˆ¶<code>Deployed to:</code>åœ°å€ï¼Œå› ä¸ºå®ƒæ˜¯æˆ‘ä»¬åº”è¯¥ç”¨äºéƒ¨ç½²æ°´é¾™å¤´å¥‘çº¦çš„ MockERC20 ä»¤ç‰Œçš„åœ°å€ã€‚è¦éƒ¨ç½²æ°´é¾™å¤´ï¼Œæ‚¨å¯ä»¥æ‰§è¡Œ<code><em>./scripts/deploy_faucet_kovan.sh</em></code>è„šæœ¬ã€‚</p>
<p>å®ƒå°†æç¤ºæ‚¨è¾“å…¥ä»¤ç‰Œåœ°å€ï¼›ç„¶åè¾“å…¥ä¹‹å‰éƒ¨ç½²çš„å¤åˆ¶çš„ MockERC20 ä»¤ç‰Œåœ°å€ã€‚</p>
<p>è¾“å‡ºåº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p>
<p id="gdcalert2"><img data-attachment-id="123348" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/token-contract-address/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address.png" data-orig-size="1020,254" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Token contract address" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address-300x75.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address.png" decoding="async" class="aligncenter size-full wp-image-123348 jetpack-lazy-image" src="../Images/47805f0896f5066afa76f7367b452765.png" alt="Entering token contract address and compiling" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address.png 1020w, https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address-300x75.png 300w, https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address-768x191.png 768w" data-lazy-sizes="(max-width: 1020px) 100vw, 1020px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="123348" data-permalink="https://blog.logrocket.com/unit-testing-smart-contracts-forge/attachment/token-contract-address/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address.png" data-orig-size="1020,254" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Token contract address" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address-300x75.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-123348" src="../Images/47805f0896f5066afa76f7367b452765.png" alt="Entering token contract address and compiling" srcset="https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address.png 1020w, https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address-300x75.png 300w, https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address-768x191.png 768w" sizes="(max-width: 1020px) 100vw, 1020px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/07/token-contract-address.png"/></noscript>
<p>å“‡å“¦ğŸš€ğŸš€æˆ‘ä»¬å·²ç»ä½¿ç”¨ Forge æˆåŠŸåœ°ç¼–è¯‘ã€æµ‹è¯•å’Œéƒ¨ç½²äº†æˆ‘ä»¬çš„åˆåŒåˆ° Kovan testnet</p>
<p>æˆ‘ä»¬ä»ç„¶éœ€è¦åœ¨ Etherscan ä¸ŠéªŒè¯åˆåŒï¼Œå¹¶åœ¨æ°´é¾™å¤´ä¸Šé“¸é€ ä¸€äº› MockERC20 ä»¤ç‰Œ(æ‚¨å¯ä»¥ä½¿ç”¨ cast æ¥å®Œæˆè¿™é¡¹å·¥ä½œï¼)ä½¿å…¶æŒ‰é¢„æœŸå·¥ä½œã€‚æˆ‘æŠŠè¿™ä¸ªç•™ç»™ä½ ä»¬ï¼Œä½œä¸ºè‡ªå·±å°è¯•çš„ä¸€ä¸ªç»ƒä¹ ï¼</p>
<p>å’Œå¾€å¸¸ä¸€æ ·ï¼Œæ‚¨å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æœ¬æ–‡<a href="https://github.com/PraneshASP/foundry-faucet" target="_blank" rel="noopener">çš„ GitHub èµ„æºåº“ã€‚</a></p>
<h2>ç»“è®º</h2>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬åªæ¶‰åŠäº†ä¸€äº›ä¼ªé€ ã€‚Foundry æ˜¯æ™ºèƒ½åˆçº¦çš„ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æ¡†æ¶ï¼Œå®ƒä¹Ÿåœ¨å¿«é€Ÿå‘å±•ã€‚</p>
<p>è¿˜æœ‰æ›´é…·çš„ç‰¹æ€§ï¼Œå¦‚ä»£ç è¦†ç›–ã€å¥‘çº¦éªŒè¯ã€gas å¿«ç…§ã€è°ƒç”¨è·Ÿè¸ªå’Œäº¤äº’å¼è°ƒè¯•ã€‚é€šè¿‡æµ‹è¯•æ›´å¤šçš„åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥éšæ„åœ°ç©å›è´­ã€‚å¿«ä¹ç¼–ç ğŸŠ</p><div class="code-block code-block-26">
<div class="blog-plug inline-plug blockchain-plug"><h2>åŠ å…¥åƒ Bitso å’Œ Coinsquare è¿™æ ·çš„ç»„ç»‡ï¼Œä»–ä»¬ä½¿ç”¨ LogRocket ä¸»åŠ¨ç›‘æ§ä»–ä»¬çš„ Web3 åº”ç”¨</h2><p>å½±å“ç”¨æˆ·åœ¨æ‚¨çš„åº”ç”¨ä¸­æ¿€æ´»å’Œäº¤æ˜“çš„èƒ½åŠ›çš„å®¢æˆ·ç«¯é—®é¢˜ä¼šæå¤§åœ°å½±å“æ‚¨çš„åº•çº¿ã€‚å¦‚æœæ‚¨å¯¹ç›‘æ§ UX é—®é¢˜ã€è‡ªåŠ¨æ˜¾ç¤º JavaScript é”™è¯¯ã€è·Ÿè¸ªç¼“æ…¢çš„ç½‘ç»œè¯·æ±‚å’Œç»„ä»¶åŠ è½½æ—¶é—´æ„Ÿå…´è¶£ï¼Œ</p><a target="_blank" href="https://lp.logrocket.com/blg/web3-signup">try LogRocket</a><p>.</p><a class="signup" href="https://lp.logrocket.com/blg/web3-signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/dacb06c713aec161ffeaffae5bd048cd.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/cpu-memory-usage.png"/></noscript></a><a href="https://lp.logrocket.com/blg/web3-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket å°±åƒæ˜¯ç½‘ç»œå’Œç§»åŠ¨åº”ç”¨çš„ DVRï¼Œè®°å½•ä½ çš„ç½‘ç»œåº”ç”¨æˆ–ç½‘ç«™ä¸Šå‘ç”Ÿçš„ä¸€åˆ‡ã€‚æ‚¨å¯ä»¥æ±‡æ€»å’ŒæŠ¥å‘Šå…³é”®çš„å‰ç«¯æ€§èƒ½æŒ‡æ ‡ï¼Œé‡æ”¾ç”¨æˆ·ä¼šè¯å’Œåº”ç”¨ç¨‹åºçŠ¶æ€ï¼Œè®°å½•ç½‘ç»œè¯·æ±‚ï¼Œå¹¶è‡ªåŠ¨æ˜¾ç¤ºæ‰€æœ‰é”™è¯¯ï¼Œè€Œä¸æ˜¯çŒœæµ‹é—®é¢˜å‘ç”Ÿçš„åŸå› ã€‚</p><p>ç°ä»£åŒ–æ‚¨è°ƒè¯• web å’Œç§»åŠ¨åº”ç”¨çš„æ–¹å¼â€” <a class="signup" href="https://lp.logrocket.com/blg/web3-signup" target="_blank" rel="noopener noreferrer">å¼€å§‹å…è´¹ç›‘æ§</a>ã€‚</p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>