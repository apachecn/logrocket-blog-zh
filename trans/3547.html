<html>
<head>
<title>Recursive components in React: A real-world example </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Reactä¸­çš„é€’å½’ç»„ä»¶:ä¸€ä¸ªçœŸå®çš„ä¾‹å­</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/recursive-components-react-real-world-example/#0001-01-01">https://blog.logrocket.com/recursive-components-react-real-world-example/#0001-01-01</a></blockquote><div><article class="article-post">
<p>æœ‰æ²¡æœ‰åœ¨<a href="https://blog.logrocket.com/tag/react/"> React </a>ä¸­ä½¿ç”¨è¿‡é€’å½’ç»„ä»¶ï¼Ÿæˆ‘æœ‰ã€‚æˆ‘å’Œä»–ä»¬çš„ç¬¬ä¸€æ¬¡ç»å†è®©æˆ‘å¯¹å‰ç«¯é¡¹ç›®æœ‰äº†å…¨æ–°çš„è®¤è¯†ã€‚å› æ­¤ï¼Œæˆ‘è®¤ä¸ºå†™ä¸€ç¯‡å…³äºReactä¸­ä½¿ç”¨é€’å½’ç»„ä»¶çš„çœŸå®ç¤ºä¾‹çš„æ–‡ç« æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œå¯ä»¥å¸®åŠ©äººä»¬æ›´åŠ ç†Ÿæ‚‰ä½¿ç”¨é€’å½’ç»„ä»¶ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢Reactä¸­é€’å½’ç»„ä»¶çš„ç»†èŠ‚ä»¥åŠå®ƒä»¬åœ¨å®é™…åº”ç”¨ç¨‹åºä¸­çš„ç”¨æ³•ã€‚æˆ‘ä»¬å°†åœ¨Reactä¸­æŸ¥çœ‹é€’å½’å’Œéé€’å½’ç»„ä»¶çš„ç¤ºä¾‹ï¼Œå¹¶è¯„ä¼°å®ƒä»¬çš„æ¨¡å—æ€§ã€å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ä¹‹åï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªçœŸå®ä¸–ç•Œçš„é€’å½’ç»„ä»¶ï¼Œä¸€ä¸ªç±»ä¼¼äºVSä»£ç çš„åµŒå¥—æ–‡ä»¶æµè§ˆå™¨ã€‚</p>
<p><em>å‘å‰è·³è½¬:</em></p>

<h2 id="what-recursion-react">Reactä¸­çš„é€’å½’ç»„ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>é€’å½’æ˜¯åœ¨å‡½æ•°å†…éƒ¨é‡å¤è°ƒç”¨å‡½æ•°ï¼Œç›´åˆ°æ»¡è¶³åŸºæœ¬æ¡ä»¶(åŸºæœ¬æƒ…å†µ)ã€‚æ¯æ¬¡é€’å½’å‡½æ•°è°ƒç”¨è‡ªå·±æ—¶ï¼Œå®ƒéƒ½éœ€è¦ä¸€ä¸ªæ–°çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„<code>factorial</code>å‡½æ•°é€šè¿‡ç”¨ä¸åŒçš„å‚æ•°é‡å¤è°ƒç”¨è‡ªèº«æ¥å·¥ä½œï¼Œç›´åˆ°æ»¡è¶³ä¸€ä¸ªåŸºæœ¬æ¡ä»¶:</p>
<pre class="language-javascript hljs">function factorial(num) {
    if (num &lt;= 1) { // base condition
        return 1;
    }
    return num * factorial(num - 1); // function calling itself with new input value.
}
console.log(factorial(6)); // 720 
</pre>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»ä¸ºç†è§£é€’å½’ç»„ä»¶æ‰“ä¸‹äº†åŸºç¡€ï¼Œè®©æˆ‘ä»¬åœ¨Reactä¸­çœ‹çœ‹å®ƒä»¬ã€‚æ‚¨å¯èƒ½çŸ¥é“ï¼ŒReactç»„ä»¶æ˜¯å‡½æ•°ã€‚å½“ä¸€ä¸ªReactç»„ä»¶ç”¨ä¸åŒçš„é“å…·é‡å¤åœ°åœ¨å…¶å†…éƒ¨æ¸²æŸ“ï¼Œç›´åˆ°æ»¡è¶³ä¸€ä¸ªåŸºæœ¬æ¡ä»¶ï¼Œå®ƒè¢«ç§°ä¸ºé€’å½’ç»„ä»¶ã€‚</p>
<p>é€’å½’ç»„ä»¶æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå› ä¸ºå®ƒå¯ä»¥è°ƒç”¨è‡ªèº«å¹¶å¸®åŠ©å‘ˆç°æ·±åº¦åµŒå¥—çš„æ•°æ®ã€‚è¿™äº›ç»„ä»¶ä¸é™äºç®€å•åœ°åœ¨UIä¸Šå‘ˆç°çˆ¶æ•°æ®ï¼›ä»–ä»¬è¿˜å‘ˆç°çˆ¶æ¯çš„<a href="https://blog.logrocket.com/deep-dive-iterating-context-children-react/">å­©å­çš„æ•°æ®</a>ï¼Œç›´åˆ°è¾¾åˆ°æ·±åº¦é™åˆ¶ã€‚åœ¨è¿™äº›ç»„ä»¶ä¸­ï¼Œå­©å­ä»¬å¯ä»¥é€šè¿‡<a href="https://blog.logrocket.com/the-beginners-guide-to-mastering-react-props-3f6f01fd7099/">ä¼ é€’é“å…·</a>æ¥è®¾å®šã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªReactä¸­é€’å½’ç»„ä»¶çš„ç®€å•ä¾‹å­:</p>
<pre class="language-javascript hljs">import React from "react";

const RecursiveComponent = ({children}) =&gt; {
  return (
    &lt;div&gt;
      {children.length &gt; 0 &amp;&amp; &lt;RecursiveComponent children={children} /&gt;}
    &lt;/div&gt;
  );
};

export default RecursiveComponent;
</pre>
<p>å¦‚æœä½ å¯¹è¿™ä¸ªæ¦‚å¿µåœ¨ç°å®ä¸–ç•Œä¸­çš„åº”ç”¨æ„Ÿåˆ°å¥½å¥‡ï¼Œä½ å¯ä»¥åœ¨<a href="https://www.reddit.com/"> Reddit </a>å’Œç±»ä¼¼äº<a href="https://code.visualstudio.com/"> VS Code </a>çš„æ–‡ä»¶æµè§ˆå™¨ä¸­çœ‹åˆ°å®ƒä»¬çš„ä½œç”¨ã€‚</p>
<p>ç°åœ¨æ‚¨å·²ç»å¯¹é€’å½’ç»„ä»¶æœ‰äº†åŸºæœ¬çš„äº†è§£ï¼Œæˆ‘ä»¬å°†æ¢ç´¢å®ƒä»¬çš„ç”¨é€”å¹¶æ„å»ºä¸€ä¸ªçœŸå®çš„ä¾‹å­ã€‚</p>
<h2 id="recursive-components-react-different-loops">Reactä¸­çš„é€’å½’ä¸å¾ªç¯æœ‰ä½•ä¸åŒï¼Ÿ</h2>
<p>ä½ å¯èƒ½æƒ³çŸ¥é“å¾ªç¯å’Œé€’å½’ä¹‹é—´çš„å…³é”®åŒºåˆ«ã€‚åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹è¿™äº›å·®å¼‚ã€‚ä¸å¾ªç¯ç›¸æ¯”ï¼Œé€’å½’åŒ…æ‹¬è°ƒç”¨ä¸€ä¸ªè°ƒç”¨è‡ªèº«çš„å‡½æ•°ï¼Œè€Œå¾ªç¯éœ€è¦ä¸æ–­è°ƒç”¨ç›¸åŒçš„ä»£ç ï¼Œç›´åˆ°æ»¡è¶³ç‰¹å®šçš„æ¡ä»¶ã€‚</p>
<p>å¯¹äºå¾ªç¯ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆå®šä¹‰æ§åˆ¶å˜é‡ï¼Œç„¶åæ‰èƒ½åœ¨å¾ªç¯çš„ä»»ä½•è¿­ä»£ä¸­ä½¿ç”¨å®ƒã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬åˆ›å»º<code>for loop</code>æ¥éå†ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»å£°æ˜ä¸€ä¸ªè®¡æ•°å™¨å˜é‡<code>let i=0</code>ï¼Œæ¥è·Ÿè¸ªè¿­ä»£çš„æ¬¡æ•°ã€‚è¿™å…è®¸æˆ‘ä»¬åœ¨éå†æ•°ç»„æ—¶ä½¿ç”¨è®¡æ•°å™¨å˜é‡ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å°†æ— æ³•åœ¨éœ€è¦çš„æ—¶å€™ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬å°†éœ€è¦<code>increment</code>æˆ–<code>decrement</code>è¿™äº›æ§åˆ¶å˜é‡æ¥é¿å…æ— é™å¾ªç¯ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œåœ¨ä½¿ç”¨é€’å½’æ—¶ï¼Œæˆ‘ä»¬ä¸å¿…å£°æ˜ä»»ä½•å˜é‡æ¥æ‰§è¡Œé€’å½’æ“ä½œã€‚è¿™æ˜¯å› ä¸ºé€’å½’è¿ç®—ä¸ä¾èµ–äºå˜é‡ï¼Œåªéœ€è¦ä¸€ä¸ªåŸºæ¡ä»¶å°±å¯ä»¥åœæ­¢è°ƒç”¨å‡½æ•°ã€‚</p>
<ul>
<li>å¯è¿”å›æ€§:å¯¹äºå¾ªç¯ï¼Œæˆ‘ä»¬ä¸èƒ½è¿”å›ä»»ä½•ä¸œè¥¿ã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬ä½¿ç”¨é€’å½’æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä»å‡½æ•°ä¸­è¿”å›å€¼</li>
<li>å¯è¯»æ€§å’Œæ¨¡å—åŒ–:é€šè¿‡é€’å½’ï¼Œä»£ç å˜å¾—æ›´åŠ å¯è¯»å’Œæ¨¡å—åŒ–ã€‚ç„¶è€Œï¼Œä½¿ç”¨å¾ªç¯ä¼šä½¿ä»£ç æ›´é•¿</li>
</ul>
<h2 id="why-when-use-recursive-components-react">ä¸ºä»€ä¹ˆä»¥åŠä½•æ—¶åœ¨Reactä¸­ä½¿ç”¨é€’å½’ç»„ä»¶</h2>
<p>åœ¨Reactä¸­ï¼Œç»„ä»¶æ˜¯æ„å»ºç”¨æˆ·ç•Œé¢çš„ä¸»è¦æ„ä»¶ã€‚å®ƒä»¬å¾ˆæ£’ï¼Œå› ä¸ºå®ƒä»¬å¸®åŠ©æˆ‘ä»¬ä»æ•´ä½“ä¸Šæ€è€ƒæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä»æ›´å®¹æ˜“æ¨ç†çš„æ›´å°çš„ä»£ç å—ä¸­æ„å»ºå®ƒã€‚</p>
<p>ä½ å¯èƒ½ä¼šæƒ³ï¼Œâ€œä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åˆ¶ä½œé€’å½’ç»„ä»¶ï¼Ÿâ€åœ¨Reactä¸­ä½¿ç”¨é€’å½’ç»„ä»¶çš„ä¸»è¦åŸå› æ˜¯å®ƒä»¬ä½¿ä»£ç <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">å˜å¾—å¹²ç‡¥</a>ï¼Œæ›´å…·å¯è¯»æ€§ï¼Œå¹¶ä¸”æ¨¡å—åŒ–ã€‚</p>
<p>è§£å†³äº†è¿™ä¸ªé—®é¢˜ä¹‹åï¼Œè®©æˆ‘ä»¬æŠŠé‡ç‚¹æ”¾åœ¨ç†è§£Reactä¸­ä½•æ—¶ä½¿ç”¨é€’å½’ç»„ä»¶ä¸Šã€‚æœ€å¸¸è§çš„æƒ…å†µæ˜¯æ•°æ®åµŒå¥—äº†å‡ å±‚ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª<code>children</code>é”®å¯¹åº”å¦ä¸€ä¸ªå¯¹è±¡æ•°ç»„ã€‚è¯¥æ•°ç»„çš„æ¯ä¸ªå¯¹è±¡éƒ¨åˆ†éƒ½æœ‰ä¸€ä¸ªå¯¹åº”äºå¦ä¸€ä¸ªå¯¹è±¡æ•°ç»„çš„<code>children</code>é”®ã€‚åŒæ ·ï¼Œè¿™äº›å¯¹è±¡å¯ä»¥åŒ…å«æ›´å¤šçš„å­æ•°ç»„ã€‚</p>
<p>æ­¤ç±»æ•°æ®çš„ä¸€ä¸ªç¤ºä¾‹å¦‚ä¸‹:</p>
<pre class="language-javascript hljs">export const data = [
  {
    isFolder: true,
    name: "public",
    children: [
      {
        isFolder: false,
        name: "index.html",
      },
    ],
  },
  {
    isFolder: true,
    name: "src",
    children: [
      {
        isFolder: true,
        name: "components",
        children: [
          {
            isFolder: true,
            name: "home",
            children: [
              {
                isFolder: false,
                name: "Home.js",
              },
            ],
          },
        ],
      },
      {
        isFolder: false,
        name: "App.js",
      },
    ],
  },
];
</pre>
<p>æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œä¸Šé¢çš„æ•°æ®æœ‰è®¸å¤šåµŒå¥—çš„å­æ•°ç»„ã€‚è¿™äº›åµŒå¥—çš„æ¡ç›®å¯ä»¥æ›´æ·±ï¼Œä½†æ˜¯ä¸ºäº†è§£é‡Šæ¸…æ¥šï¼Œæˆ‘åªä¿ç•™äº†å››å±‚ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨å¾ªç¯å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒéœ€è¦ç¼–å†™å¤§é‡çš„åµŒå¥—å¾ªç¯æ¥éå†æ¯ä¸€å±‚æ•°æ®ã€‚è¿™ä½¿å¾—ä½ çš„ä»£ç æ›´å¤§ï¼Œæ›´éš¾é˜…è¯»ã€‚æ­¤å¤–ï¼Œå¦‚æœæˆ‘ä»¬ä¸ç¡®å®šæˆ‘ä»¬çš„æ•°æ®æœ‰å¤šæ·±ï¼Œä½¿ç”¨å¾ªç¯éå†æ‰€æœ‰åµŒå¥—çš„æ•°æ®æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚æ‰€ä»¥ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½ç”¨é€’å½’ã€‚</p>
<h2 id="build-nested-file-explorer-using-standard-react-components">ä½¿ç”¨æ ‡å‡†Reactç»„ä»¶æ„å»ºåµŒå¥—æ–‡ä»¶èµ„æºç®¡ç†å™¨</h2>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ ‡å‡†çš„Reactç»„ä»¶æ„å»ºä¸€ä¸ªåµŒå¥—çš„æ–‡ä»¶èµ„æºç®¡ç†å™¨åº”ç”¨ç¨‹åºã€‚åœ¨æœ¬æ•™ç¨‹çš„ä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†é€šè¿‡ä½¿ç”¨é€’å½’ç»„ä»¶æ¥æ„å»ºç›¸åŒçš„Reactåº”ç”¨ç¨‹åºã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨<code>src</code>æ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ªReact appå’Œä¸€ä¸ª<code>data</code>æ–‡ä»¶å¤¹ã€‚ç„¶åï¼Œåœ¨<code>data</code>ä¸­åˆ›å»º<code>data.js</code>ï¼Œå¹¶å°†â€œ<a href="#why-when-use-recursive-components-react">ä¸ºä»€ä¹ˆä»¥åŠä½•æ—¶åœ¨React </a>ä¸­ä½¿ç”¨é€’å½’ç»„ä»¶â€ä¸€èŠ‚ä¸­çš„æ•°æ®å¤åˆ¶å¹¶ç²˜è´´åˆ°åé¢çš„ã€‚</p>
<p>ç°åœ¨ï¼Œç”¨ä¸‹é¢çš„ä»£ç æ›¿æ¢<code>App.js</code>æ–‡ä»¶çš„ä»£ç :</p>
<pre class="language-javascript hljs">import React from "react";
import { data } from "./data/data";

const NonRecursiveComponent = ({ data }) =&gt; {
  return &lt;div&gt;Non Recursive Component&lt;/div&gt;;
};

const App = () =&gt; {
  return (
    &lt;div style={{ margin: "8px" }}&gt;
      &lt;NonRecursiveComponent data={data} /&gt;
    &lt;/div&gt;
  );
};
export default App;
</pre>
<p>æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä»£ç ä¸­åˆ›å»ºäº†ä¸€ä¸ª<code>NonRecursiveComponent</code>,ç„¶å<a href="https://blog.logrocket.com/react-conditional-rendering-9-methods/">åœ¨<code>App</code>ç»„ä»¶ä¸­å‘ˆç°å®ƒ</a>ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†<code>data</code>é“å…·ä»<code>App</code>ä¼ é€’åˆ°<code>NonRecursiveComponent</code>ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å¼€å§‹åœ¨UIä¸Šå‘ˆç°æ•°æ®ã€‚åœ¨<code>NonRecursiveComponent</code>ä¸­ï¼Œç”¨ä»¥ä¸‹ä»£ç æ›¿æ¢ç°æœ‰ä»£ç :</p>
<pre class="language-javascript hljs">const NonRecursiveComponent = ({ data }) =&gt; {
  return (
    &lt;div&gt;
      {data.map((parent) =&gt; {
        return (
          &lt;div key={parent.name}&gt;
            &lt;span&gt;{parent.name}&lt;/span&gt;
          &lt;/div&gt;
        );
      })}
    &lt;/div&gt;
  );
};
</pre>
<p>ä¸Šé¢çš„ä»£ç å°†å‘ˆç°æ‰€æœ‰çš„<code>parent</code>(ç¬¬ä¸€çº§)æ•°æ®ï¼Œå¹¶åœ¨UIä¸Šæ˜¾ç¤ºå‡ºæ¥:</p>
<p><img data-attachment-id="140062" data-permalink="https://blog.logrocket.com/recursive-components-react-real-world-example/attachment/recursive-component-react-rendered/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered.png" data-orig-size="730,144" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Rendered recursive component in React" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered-300x59.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered.png" decoding="async" class="aligncenter size-full wp-image-140062 jetpack-lazy-image" src="../Images/c7545da0bb7b274af5615d65bcd8d7df.png" alt="Rendered Recursive Component in React " data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered-300x59.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="140062" data-permalink="https://blog.logrocket.com/recursive-components-react-real-world-example/attachment/recursive-component-react-rendered/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered.png" data-orig-size="730,144" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Rendered recursive component in React" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered-300x59.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-140062" src="../Images/c7545da0bb7b274af5615d65bcd8d7df.png" alt="Rendered Recursive Component in React " srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered-300x59.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-rendered.png"/></noscript>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ç¬¬äºŒä¸ª<code>return</code>è¯­å¥ä¸­çš„<code>map</code>æ–¹æ³•æ¥å‘ˆç°<code>children</code>ã€‚æ‚¨çš„ä»£ç åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">const NonRecursiveComponent = ({ data }) =&gt; {
  return (
    &lt;div&gt;
      {data.map((parent) =&gt; {
        return (
          &lt;div key={parent.name}&gt;
            &lt;span&gt;{parent.name}&lt;/span&gt;
            {parent.children.map((child) =&gt; { // rendering children of the parent
              return (
                &lt;div key={child.name} style={{ paddingLeft: "20px" }}&gt;
                  &lt;span&gt;{child.name}&lt;/span&gt;
                &lt;/div&gt;
              );
            })}
          &lt;/div&gt;
        );
      })}
    &lt;/div&gt;
  );
};
</pre>
<p>ä»é‚£é‡Œï¼Œæ‚¨åº”è¯¥å¯ä»¥åœ¨UIä¸Šçœ‹åˆ°<code>parent</code>çš„æ‰€æœ‰<code>children</code>:</p>
<p><img data-attachment-id="140064" data-permalink="https://blog.logrocket.com/recursive-components-react-real-world-example/attachment/react-recursive-coponent-children-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui.png" data-orig-size="730,201" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Children in React recursive component UI" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui-300x83.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui.png" decoding="async" class="aligncenter size-full wp-image-140064 jetpack-lazy-image" src="../Images/158fc39a1ca0fa37ac53032499404ca2.png" alt="Children in React Recursive Component UI" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui-300x83.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="140064" data-permalink="https://blog.logrocket.com/recursive-components-react-real-world-example/attachment/react-recursive-coponent-children-ui/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui.png" data-orig-size="730,201" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Children in React recursive component UI" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui-300x83.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-140064" src="../Images/158fc39a1ca0fa37ac53032499404ca2.png" alt="Children in React Recursive Component UI" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui-300x83.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-coponent-children-ui.png"/></noscript>
<p>æˆ‘ä»¬æ¥æ¸²æŸ“ä¸€ä¸‹<code>grandchildren</code>ã€‚å› æ­¤ï¼Œè¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦åšæˆ‘ä»¬ä¸º<code>children</code>åšçš„åŒæ ·çš„äº‹æƒ…ã€‚æ‚¨çš„ä»£ç åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">const NonRecursiveComponent = ({ data }) =&gt; {
  return (
    &lt;div&gt;
      {data.map((parent) =&gt; { // rendering parent data
        return (
          &lt;div key={parent.name}&gt;
            &lt;span&gt;{parent.name}&lt;/span&gt;
            {parent.children.map((child) =&gt; { // rendering children of the parent
              return (
                &lt;div key={child.name} style={{ paddingLeft: "20px" }}&gt;
                  &lt;span&gt;{child.name}&lt;/span&gt;
                  {child.children &amp;&amp; // rendering grandchildren of the parent
                    child.children.map((grandChild) =&gt; {
                      return ( 
                        &lt;div key={grandChild.name} style={{ paddingLeft: "20px" }}&gt;
                          &lt;span&gt;{grandChild.name}&lt;/span&gt;
                        &lt;/div&gt;
                      );
                    })}
                &lt;/div&gt;
              );
            })}
          &lt;/div&gt;
        );
      })}
    &lt;/div&gt;
  );
};
</pre>
<p>æ‚¨åº”è¯¥ä¼šåœ¨UIä¸Šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹:</p>
<p><img data-attachment-id="140066" data-permalink="https://blog.logrocket.com/recursive-components-react-real-world-example/attachment/recursive-component-react-grandchildren/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren.png" data-orig-size="730,211" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Grandchildren in the recursive components in React" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren-300x87.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren.png" decoding="async" class="aligncenter size-full wp-image-140066 jetpack-lazy-image" src="../Images/1bdbb8c5d1e57ad4af7f1a53907813fc.png" alt="Grandchildren in the Recursive Components in React" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren-300x87.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="140066" data-permalink="https://blog.logrocket.com/recursive-components-react-real-world-example/attachment/recursive-component-react-grandchildren/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren.png" data-orig-size="730,211" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Grandchildren in the recursive components in React" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren-300x87.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-140066" src="../Images/1bdbb8c5d1e57ad4af7f1a53907813fc.png" alt="Grandchildren in the Recursive Components in React" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren-300x87.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/recursive-component-react-grandchildren.png"/></noscript>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦åšçš„æœ€åä¸€ä»¶äº‹æ˜¯åœ¨UIä¸Šå‘ˆç°<code>great-grandchildren</code>ã€‚æˆ‘ä»¬éœ€è¦åšå’Œæ¸²æŸ“<code>children</code>å’Œ<code>grandchildren</code>ä¸€æ ·çš„äº‹æƒ…ã€‚å®Œæˆæ­¤æ“ä½œåï¼Œæ‚¨çš„ä»£ç åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">const NonRecursiveComponent = ({ data }) =&gt; {
  return (
    &lt;div&gt;
      {data.map((parent) =&gt; { // rendering parent data
        return (
          &lt;div key={parent.name}&gt;
            &lt;span&gt;{parent.name}&lt;/span&gt;
            {parent.children.map((child) =&gt; { // rendering children of the parent
              return (
                &lt;div key={child.name} style={{ paddingLeft: "20px" }}&gt;
                  &lt;span&gt;{child.name}&lt;/span&gt;
                  {child.children &amp;&amp; // rendering grandchildren of the parent
                    child.children.map((grandChild) =&gt; {
                      return (
                        &lt;div
                          key={grandChild.name}
                          style={{ paddingLeft: "20px" }}
                        &gt;
                          &lt;span&gt;{grandChild.name}&lt;/span&gt;
                          {grandChild.children &amp;&amp; // rendering great-grandchildren
                            grandChild.children.map((greatGrandChild) =&gt; {
                              return (
                                &lt;div
                                  key={greatGrandChild.name}
                                  style={{ paddingLeft: "20px" }}
                                &gt;
                                  &lt;span&gt;{greatGrandChild.name}&lt;/span&gt;
                                &lt;/div&gt;
                              );
                            })}
                        &lt;/div&gt;
                      );
                    })}
                &lt;/div&gt;
              );
            })}
          &lt;/div&gt;
        );
      })}
    &lt;/div&gt;
  );
};
</pre>
<p>æ‚¨çš„ç”¨æˆ·ç•Œé¢åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p>
<p><img data-attachment-id="140068" data-permalink="https://blog.logrocket.com/recursive-components-react-real-world-example/attachment/react-recursive-components-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file.png" data-orig-size="730,248" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React recursive components file" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file-300x102.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file.png" decoding="async" class="aligncenter size-full wp-image-140068 jetpack-lazy-image" src="../Images/5e8d2f6f7d058cd67509de2cffe74b81.png" alt="React Recursive Components File" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file-300x102.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="140068" data-permalink="https://blog.logrocket.com/recursive-components-react-real-world-example/attachment/react-recursive-components-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file.png" data-orig-size="730,248" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React recursive components file" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file-300x102.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-140068" src="../Images/5e8d2f6f7d058cd67509de2cffe74b81.png" alt="React Recursive Components File" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file-300x102.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/react-recursive-components-file.png"/></noscript>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨å¸¸è§„çš„Reactç»„ä»¶æ„å»ºäº†ä¸€ä¸ªåŸºæœ¬çš„åµŒå¥—æ–‡ä»¶æµè§ˆå™¨ç»„ä»¶ã€‚ç„¶è€Œï¼Œå¦‚æ‚¨æ‰€è§ï¼Œ<code>NonRecursiveComponent</code>ä»£ç ä¼¼ä¹åœ¨ä¸ºæ¯ä¸ªåµŒå¥—å±‚æ¬¡çš„æ•°æ®é‡å¤è‡ªå·±ã€‚éšç€æ•°æ®åµŒå¥—å±‚æ¬¡çš„å¢åŠ ï¼Œè¿™äº›ä»£ç å˜å¾—è¶Šæ¥è¶Šé•¿ï¼Œä½¿å¾—ç†è§£å’Œç»´æŠ¤å˜å¾—æ›´åŠ å›°éš¾ã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿåœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹Reactä¸­çš„é€’å½’ç»„ä»¶å¦‚ä½•æä¾›å¸®åŠ©ã€‚</p>
<h2 id="using-recursive-components-react-build-nested-file-explorer">ä½¿ç”¨Reactä¸­çš„é€’å½’ç»„ä»¶æ„å»ºåµŒå¥—æ–‡ä»¶èµ„æºç®¡ç†å™¨</h2>
<p>åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨é€’å½’ç»„ä»¶æ„å»ºç›¸åŒçš„åµŒå¥—æ–‡ä»¶æµè§ˆå™¨ï¼Œå¹¶ä¸ºåµŒå¥—æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å®ç°ä¸€ä¸ª<code>show/hide</code>åŠŸèƒ½ã€‚</p>
<p>è®©æˆ‘ä»¬ä»åœ¨<code>App.js</code>æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„<code>RecursiveComponent</code>å¼€å§‹ã€‚ç„¶åï¼ŒæŠŠ<code>App</code>ä¸­æ¸²æŸ“çš„<code>NonRecursiveComponent</code>æ¢æˆ<code>RecursiveComponent</code>ã€‚</p>
<p>æ‚¨çš„ä»£ç åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">const RecursiveComponent = ({ data }) =&gt; {
  return (
    &lt;div style={{ paddingLeft: "20px" }}&gt;
      Recursive Component
    &lt;/div&gt;
  );
};

const App = () =&gt; {
  return (
    &lt;div style={{ margin: "8px" }}&gt;
      &lt;RecursiveComponent data={data} /&gt;
    &lt;/div&gt;
  );
};
</pre>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨UIä¸Šå‘ˆç°æ‰€æœ‰çš„<code>parent</code>æ•°æ®:</p>
<pre class="language-javascript hljs">const RecursiveComponent = ({ data }) =&gt; {
  return (
    &lt;div style={{ paddingLeft: "20px" }}&gt;
      {data.map((parent) =&gt; {
        return (
          &lt;div key={parent.name}&gt;
            &lt;span&gt;{parent.name}&lt;/span&gt;
          &lt;/div&gt;
        );
      })}
    &lt;/div&gt;
  );
};
</pre>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨é€’å½’æ¥å‘ˆç°æ‰€æœ‰åµŒå¥—çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ•°æ®ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦åšä¸¤ä»¶äº‹:é¦–å…ˆï¼Œç”¨ä¸åŒçš„<code>data</code>é“å…·ä»å†…éƒ¨æ¸²æŸ“<code>RecursiveComponent</code>ã€‚ç¬¬äºŒï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåŸºæœ¬æ¡ä»¶æ¥åœæ­¢æ¸²æŸ“<code>RecursiveComponent</code>ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼ŒåŸºæœ¬æ¡ä»¶æ˜¯å½“<code>children</code>çš„é•¿åº¦ä¸ºé›¶æˆ–è€…å®ƒä»¬ä¸å­˜åœ¨æ—¶ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¸ä¼šè°ƒç”¨<code>RecursiveComponent</code>ã€‚</p>
<p>æ‚¨çš„ä»£ç åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">const RecursiveComponent = ({ data }) =&gt; {
  return (
    &lt;div style={{ paddingLeft: "20px" }}&gt;
      {data.map((parent) =&gt; {
        return (
          &lt;div key={parent.name}&gt;
            &lt;span&gt;{parent.name}&lt;/span&gt;
            {/* Base Condition and Rendering recursive component from inside itself */}
            &lt;div&gt;
              {parent.children &amp;&amp; &lt;RecursiveComponent data={parent.children} /&gt;}
            &lt;/div&gt;
          &lt;/div&gt;
        );
      })}
    &lt;/div&gt;
  );
};
</pre>
<p>æ‚¨çš„ç”¨æˆ·ç•Œé¢åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p>
<p><img data-attachment-id="140070" data-permalink="https://blog.logrocket.com/recursive-components-react-real-world-example/attachment/recursion-react-components-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output.png" data-orig-size="730,224" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Real-world example of React recursive components" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output-300x92.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output.png" decoding="async" class="aligncenter size-full wp-image-140070 jetpack-lazy-image" src="../Images/7896eb524a8bfa780e8b5eea2091e1ea.png" alt="Real-World Example of React Recursive Components" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output-300x92.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="140070" data-permalink="https://blog.logrocket.com/recursive-components-react-real-world-example/attachment/recursion-react-components-output/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output.png" data-orig-size="730,224" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Real-world example of React recursive components" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output-300x92.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-140070" src="../Images/7896eb524a8bfa780e8b5eea2091e1ea.png" alt="Real-World Example of React Recursive Components" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output-300x92.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/recursion-react-components-output.png"/></noscript>
<p>ğŸ˜®æƒŠå–œï¼é€šè¿‡å‡ è¡Œä»£ç ï¼Œæˆ‘ä»¬è·å¾—äº†ç›¸åŒçš„è¾“å‡ºã€‚è¿™å°±æ˜¯Reactä¸­é€’å½’çš„ç¥å¥‡ä¹‹å¤„ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å¯¹åµŒå¥—çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹å®ç°<code>show/hide</code>ã€‚åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä»£ç è¿›è¡Œä¸€äº›ä¿®æ”¹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ•°æ®ä¸­æœ‰æ¡ä»¶åœ°ä½¿ç”¨<code>isFolder</code>é”®ï¼Œå°†<code>button</code>æ ‡ç­¾ç”¨äºæ–‡ä»¶å¤¹åç§°ï¼Œå°†<code>span</code>æ ‡ç­¾ç”¨äºæ–‡ä»¶åç§°ã€‚æˆ‘ä»¬è¿™æ ·åšæ˜¯å› ä¸ºæˆ‘ä»¬åªå°†<code>onClick</code>äº‹ä»¶æ·»åŠ åˆ°æ–‡ä»¶å¤¹ä¸­ï¼Œè€Œä¸æ˜¯æ·»åŠ åˆ°æ–‡ä»¶ä¸­ï¼Œä»¥æ˜¾ç¤ºæˆ–éšè—ç‰¹å®šæ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚</p>
<p>æ›´æ–°åçš„ä»£ç åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">const RecursiveComponent = ({ data }) =&gt; {
  return (
    &lt;div style={{ paddingLeft: "20px" }}&gt;
      {data.map((parent) =&gt; {
        return (
          &lt;div key={parent.name}&gt;
            {/* rendering folders */}
            {parent.isFolder &amp;&amp; &lt;button&gt;{parent.name}&lt;/button&gt;}
            {/* rendering files */}
            {!parent.isFolder &amp;&amp; &lt;span&gt;{parent.name}&lt;/span&gt;}
            &lt;div&gt;
              {parent.children &amp;&amp; &lt;RecursiveComponent data={parent.children} /&gt;}
            &lt;/div&gt;
          &lt;/div&gt;
        );
      })}
    &lt;/div&gt;
  );
};
</pre>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä½¿ç”¨<code>RecursiveComponent</code>ä¸­çš„<a href="https://blog.logrocket.com/react-hooks-cheat-sheet-unlock-solutions-to-common-problems-af4caf699e70/"> <code>useState</code>é’©å­</a>åˆ›å»ºä¸€ä¸ªçŠ¶æ€æ¥å®ç°<code>show/hide</code>ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">import { useState } from "react";

const RecursiveComponent = ({ data }) =&gt; {
  const [showNested, setShowNested] = useState({});
  // ...
  // rest of the code
  // ...
};
</pre>
<p>è¿™ä¸ª<code>showNested</code>çŠ¶æ€å˜é‡å°†åƒè¿™æ ·å­˜å‚¨æ‰€æœ‰æ‰“å¼€çš„æ–‡ä»¶å¤¹:</p>
<pre class="language-javascript hljs">{
  public: true, // if the folder is opened, set it equal to true
  src: false // if the folder is not opened, set it equal to false
}
</pre>
<p>ç°åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥å¤„ç†<code>show/hide</code>:</p>
<pre class="language-javascript hljs">const RecursiveComponent = ({ data }) =&gt; {
  const [showNested, setShowNested] = useState({});

  // handle show/hide functionality
  const toggleNested = (name) =&gt; {
    setShowNested({ ...showNested, [name]: !showNested[name] });
  };
  // ...
  // rest of the code
  // ...
};
</pre>
<p><code>toggleNested</code>å‡½æ•°æ¥å—æ–‡ä»¶å¤¹çš„åç§°ä½œä¸ºå‚æ•°ï¼Œç„¶åä½¿ç”¨<code>setShowNested</code>å‡½æ•°æ›´æ–°<code>showNested</code>ä¸­è¯¥æ–‡ä»¶å¤¹çš„å€¼ã€‚è¿™ä½¿å®ƒä»<code>false</code>å˜ä¸º<code>true</code>ï¼Œåä¹‹äº¦ç„¶ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬ç»™<code>button</code>æ·»åŠ ä¸€ä¸ª<code>onClick</code>äº‹ä»¶æ¥è°ƒç”¨<code>toggleNested</code>ã€‚ç„¶åï¼Œå½“ç”¨æˆ·å•å‡»ä»»ä½•ä¸€ä¸ª<strong>æ–‡ä»¶å¤¹</strong>æ—¶ï¼Œå°†æ–‡ä»¶å¤¹çš„åç§°ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">const RecursiveComponent = ({ data }) =&gt; {
  // ...
  // Rest of the code
  return (
    &lt;div style={{ paddingLeft: "20px" }}&gt;
      {data.map((parent) =&gt; {
        return (
          &lt;div key={parent.name}&gt;
            {parent.isFolder &amp;&amp; (
              &lt;button onClick={() =&gt; toggleNested(parent.name)}&gt;
                {parent.name}
              &lt;/button&gt;
            )}
            // ...
            // Rest of the code
            // ...
          &lt;/div&gt;
        );
      })}
    &lt;/div&gt;
  );
};
</pre>
<p>æœ€åä¸€æ­¥æ˜¯æ›´æ–°<code>display</code> <a href="https://blog.logrocket.com/tag/css/"> CSSå±æ€§</a>ï¼Œæˆ‘ä»¬å°†æŠŠå®ƒæ·»åŠ åˆ°<code>div</code>ä¸­ï¼ŒåŒ…è£…<code>RecursiveComponent</code>ä¸­çš„<code>RecursiveComponent</code>ã€‚å½“ç”¨æˆ·é€‰æ‹©<strong>æ–‡ä»¶å¤¹</strong>æ—¶ï¼Œæˆ‘ä»¬å°†æ›´æ–°<code>showNested</code>å¯¹è±¡ï¼Œå°†æ–‡ä»¶å¤¹åä½œä¸º<code>key</code>æ·»åŠ åˆ°è¯¥å¯¹è±¡ä¸­ã€‚æˆ‘ä»¬è¿˜å°†å®ƒçš„å€¼è®¾ç½®ä¸º<code>true</code>ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªæ£€æŸ¥æ¥æŸ¥çœ‹æ–‡ä»¶å¤¹åç§°æ˜¯å¦å‡ºç°åœ¨<code>showNested</code>ä¸­ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬å°†æŠŠ<code>display</code>è®¾ç½®ä¸º<code>block</code>ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å°†æŠŠå®ƒè®¾ç½®ä¸º<code>none</code>æ¥éšè—åµŒå¥—çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹:</p>
<pre class="language-javascript hljs">const RecursiveComponent = ({ data }) =&gt; {
  // ...
  // Rest of the code
  return (
    &lt;div style={{ paddingLeft: "20px" }}&gt;
      {data.map((parent) =&gt; {
        return (
          &lt;div key={parent.name}&gt;
            // ...
            // Rest of the code
            // ...

            // Updating the display property using the showNested state
            &lt;div style={{ display: !showNested[parent.name] &amp;&amp; "none" }}&gt;
              {parent.children &amp;&amp; &lt;RecursiveComponent data={parent.children} /&gt;}
            &lt;/div&gt;
          &lt;/div&gt;
        );
      })}
    &lt;/div&gt;
  );
};
</pre>
<p>å¸Œæœ›æ‚¨èƒ½å¤Ÿåˆ‡æ¢æ‰€æœ‰çš„ç›®å½•ã€‚è‡³æ­¤ï¼Œè¿™ä¸ªåšå®¢å°±å®Œæˆäº†ï¼</p>
<h2>ç»“è®º</h2>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨äº†è§£äº†Reactä¸­çš„é€’å½’ç»„ä»¶ï¼Œå¦‚ä½•æ„å»ºå®ƒä»¬ï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨å®ƒä»¬ã€‚æ­¤å¤–ï¼Œæˆ‘ç”¨ä¸€ä¸ªçœŸå®çš„ä¾‹å­å±•ç¤ºäº†é€’å½’ä¸å¾ªç¯çš„ä¸åŒä¹‹å¤„ã€‚å¸Œæœ›æ‚¨å­¦åˆ°äº†ä¸€äº›å¯¹æ‚¨çš„ä¸‹ä¸€ä¸ªReacté¡¹ç›®æœ‰ç”¨çš„æ–°ä¸œè¥¿ã€‚</p>
<p>æˆ‘å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œæ„Ÿè°¢ä½ èŠ±æ—¶é—´é˜…è¯»å®ƒã€‚å¦‚æœä½ åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« æ—¶æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…æœ‰è¿›ä¸€æ­¥çš„ç–‘é—®ï¼Œè¯·åœ¨è¯„è®ºåŒºå‘Šè¯‰æˆ‘ã€‚å¦‚æœä½ å–œæ¬¢æˆ‘åœ¨è¿™é‡Œåšçš„äº‹æƒ…ï¼Œå¹¶æƒ³å¸®åŠ©æˆ‘ç»§ç»­åšä¸‹å»ï¼Œåˆ«å¿˜äº†ç‚¹å‡»åˆ†äº«æŒ‰é’®ã€‚</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">ä½¿ç”¨LogRocketæ¶ˆé™¤ä¼ ç»Ÿååº”é”™è¯¯æŠ¥å‘Šçš„å™ªéŸ³</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>æ˜¯ä¸€æ¬¾React analyticsè§£å†³æ–¹æ¡ˆï¼Œå¯ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªè¯¯æŠ¥é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å°‘æ•°çœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocketå‘Šè¯‰æ‚¨Reactåº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„bugå’ŒUXé—®é¢˜ã€‚</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>è‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€ååº”é”™è¯¯è¾¹ç•Œã€è¿˜åŸçŠ¶æ€ã€ç¼“æ…¢çš„ç»„ä»¶åŠ è½½æ—¶é—´ã€JSå¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶åï¼ŒLogRocketä½¿ç”¨æœºå™¨å­¦ä¹ æ¥é€šçŸ¥æ‚¨å½±å“å¤§å¤šæ•°ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„é—®é¢˜ï¼Œå¹¶æä¾›æ‚¨ä¿®å¤å®ƒæ‰€éœ€çš„ä¸Šä¸‹æ–‡ã€‚</p><p vwo-el-id="28675661060">å…³æ³¨é‡è¦çš„React bugâ€”<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">ä»Šå¤©å°±è¯•è¯•LogRocketã€‘ã€‚</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>