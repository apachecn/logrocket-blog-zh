<html>
<head>
<title>How to create a video and audio recorder in React </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>å¦‚ä½•åœ¨Reactä¸­åˆ›å»ºè§†é¢‘å’ŒéŸ³é¢‘è®°å½•å™¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/how-to-create-video-audio-recorder-react/#0001-01-01">https://blog.logrocket.com/how-to-create-video-audio-recorder-react/#0001-01-01</a></blockquote><div><article class="article-post">
<p>åœ¨å½“ä»Šä¸–ç•Œï¼Œè¿œç¨‹å’Œæ··åˆå·¥ä½œè¶Šæ¥è¶Šå—æ¬¢è¿ï¼Œç»„ç»‡éœ€è¦åœ¨æ—¥å¸¸è¿è¥ä¸­é‡‡ç”¨å¼‚æ­¥é€šä¿¡å½¢å¼ã€‚è¿™äº›åŒ…æ‹¬è®°å½•æˆ–åšä¼šè®®ç¬”è®°ï¼Œä½¿ç”¨æ›´å¤šçš„æ–‡æœ¬äº¤æµå½¢å¼ç­‰ã€‚æœ‰è®¸å¤šåº”ç”¨ç¨‹åºå…·æœ‰è¿™äº›åŠŸèƒ½ï¼Œä½¿å¾—å¼‚æ­¥é€šä¿¡æ›´å®¹æ˜“é‡‡ç”¨ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†äº†è§£å¦‚ä½•ä½¿ç”¨<a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder"> MediaRecorder API </a>ä¸ºReactåº”ç”¨ç¨‹åºæ·»åŠ è§†é¢‘å’ŒéŸ³é¢‘å½•åˆ¶åŠŸèƒ½ã€‚</p>
<p>å‘å‰è·³:</p>

<h2 id="prerequisites">å…ˆå†³æ¡ä»¶</h2>
<ul>
<li>å®‰è£…åœ¨è®¡ç®—æœºä¸Šçš„Node.js</li>
<li>JavaScriptå’ŒReactçš„å·¥ä½œçŸ¥è¯†</li>
</ul>
<h2 id="scaffolding-new-react-app">æ­å»ºæ–°çš„Reactåº”ç”¨</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a href="https://blog.logrocket.com/getting-started-with-vite/"> Vite </a>æ­å»ºä¸€ä¸ªæ–°çš„Reactåº”ç”¨ç¨‹åºï¼Œè¿™æ˜¯ä¸€ä¸ªè¶…å¿«é€Ÿçš„JavaScriptæ„å»ºå·¥å…·:</p>
<pre class="language-bash hljs">npm create <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9aecf3eeffdaf6fbeeffe9ee">[emailÂ protected]</a>
</pre>
<p>è¦å›ç­”å‘½ä»¤åçš„æç¤ºï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p>
<ul>
<li>é”®å…¥é¡¹ç›®åç§°(<code>react-recorder</code>)</li>
<li>é€‰æ‹©<code>React</code>ä½œä¸ºæ¡†æ¶</li>
<li>é€‰æ‹©<code>Javascript</code>å˜é‡</li>
</ul>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬å¯¼èˆªåˆ°æ–°åˆ›å»ºçš„é¡¹ç›®ç›®å½•ï¼Œå®‰è£…æ‰€éœ€çš„ä¾èµ–é¡¹ï¼Œå¹¶ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œå¼€å‘æœåŠ¡å™¨:</p>
<pre class="language-bash hljs">cd react-recorder &amp;&amp; npm i &amp;&amp; npm run dev
</pre>
<p>ä¸€æ—¦å®Œæˆï¼ŒæœåŠ¡å™¨å°†åœ¨<code><a href="http://localhost:5173/" rel="nofollow">http://localhost:5173/</a></code>å¯åŠ¨ã€‚è®©æˆ‘ä»¬åœ¨ç½‘ç»œæµè§ˆå™¨ä¸Šæ‰“å¼€URLã€‚æˆ‘ä»¬åº”è¯¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹:</p>
<p><img data-attachment-id="159120" data-permalink="https://blog.logrocket.com/how-to-create-video-audio-recorder-react/attachment/open-vite-web-browser/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser.png" data-orig-size="730,456" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Opening Vite on our web browser" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser-300x187.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser.png" decoding="async" class="aligncenter size-full wp-image-159120 jetpack-lazy-image" src="../Images/26c526d3d0d7b8e7cf0b650a8567531e.png" alt="Opening Vite On Our Web Broswer" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser-300x187.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="159120" data-permalink="https://blog.logrocket.com/how-to-create-video-audio-recorder-react/attachment/open-vite-web-browser/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser.png" data-orig-size="730,456" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Opening Vite on our web browser" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser-300x187.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-159120" src="../Images/26c526d3d0d7b8e7cf0b650a8567531e.png" alt="Opening Vite On Our Web Broswer" srcset="https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser.png 730w, https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser-300x187.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/open-vite-web-browser.png"/></noscript>

<p>è¦åœ¨æµè§ˆå™¨ä¸Šå½•åˆ¶éŸ³é¢‘æˆ–è§†é¢‘ï¼Œéœ€è¦<code>MediaStream</code>ã€‚<code>MediaStream</code>æ˜¯è¡¨ç¤ºåª’ä½“å†…å®¹çš„ç•Œé¢ï¼Œç”±éŸ³é¢‘å’Œè§†é¢‘è½¨é“ç»„æˆã€‚</p>
<p>è¦è·å¾—ä¸€ä¸ª<code>MediaStream</code>å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨<code>MediaStream()</code>æ„é€ å‡½æ•°æˆ–è€…è°ƒç”¨ä»¥ä¸‹å‡½æ•°:<code><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia">MediaDevices.getUserMedia()</a></code>ã€<code><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia">MediaDevices.getDisplayMedia()</a></code>æˆ–è€…<code><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/captureStream">HTMLCanvasElement.captureStream()</a></code>ã€‚</p>
<p>å‡ºäºæœ¬æ•™ç¨‹çš„è€ƒè™‘ï¼Œæˆ‘ä»¬å°†å…³æ³¨äº<code>MediaDevices.getuserMedia</code>å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªè§†é¢‘å’ŒéŸ³é¢‘è®°å½•å™¨ã€‚</p>
<h2 id="creating-demo-app-interface">åˆ›å»ºæ¼”ç¤ºåº”ç”¨ç¨‹åºç•Œé¢</h2>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºæ¼”ç¤ºåº”ç”¨ç¨‹åºçš„ç•Œé¢ã€‚</p>
<h3 id="audio-recorder-component">å½•éŸ³æœºç»„ä»¶</h3>
<p>é¦–å…ˆï¼Œåœ¨<code>src</code>ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code>AudioRecorder.jsx</code>çš„æ–‡ä»¶ï¼Œå¹¶å°†ä»¥ä¸‹ä»£ç å—çš„å†…å®¹ç²˜è´´åˆ°å…¶ä¸­:</p>
<pre class="language-javascript hljs">import { useState, useRef } from "react";
const AudioRecorder = () =&gt; {
    const [permission, setPermission] = useState(false);
    const [stream, setStream] = useState(null);

    const getMicrophonePermission = async () =&gt; {
        if ("MediaRecorder" in window) {
            try {
                const streamData = await navigator.mediaDevices.getUserMedia({
                    audio: true,
                    video: false,
                });
                setPermission(true);
                setStream(streamData);
            } catch (err) {
                alert(err.message);
            }
        } else {
            alert("The MediaRecorder API is not supported in your browser.");
        }
    };
    return (
        &lt;div&gt;
            &lt;h2&gt;Audio Recorder&lt;/h2&gt;
            &lt;main&gt;
                &lt;div className="audio-controls"&gt;
                    {!permission ? (
                        &lt;button onClick={getMicrophonePermission} type="button"&gt;
                            Get Microphone
                        &lt;/button&gt;
                    ): null}
                    {permission ? (
                        &lt;button type="button"&gt;
                            Record
                        &lt;/button&gt;
                    ): null}
                &lt;/div&gt;
            &lt;/main&gt;
        &lt;/div&gt;
    );
};
export default AudioRecorder;
</pre>
<p>ä¸Šé¢çš„ä»£ç å—æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p>
<ul>
<li>å£°æ˜å½•éŸ³æœºç»„ä»¶çš„ç”¨æˆ·ç•Œé¢</li>
<li>ä½¿ç”¨<code>getMicrophonePermission</code>åŠŸèƒ½ä»æµè§ˆå™¨æ¥æ”¶éº¦å…‹é£è®¸å¯</li>
<li>å°†ä»<code>navigator.mediaDevices<em>.</em>getUserMedia</code>å‡½æ•°æ¥æ”¶çš„<code>MediaStream</code>è®¾ç½®ä¸º<code>stream</code>çŠ¶æ€å˜é‡(æˆ‘ä»¬å¾ˆå¿«å°±ä¼šç”¨åˆ°å®ƒ)</li>
</ul>
<h3 id="video-recorder-component">å½•åƒæœºç»„ä»¶</h3>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬ä¸ºå½•åƒæœºç»„ä»¶åˆ›å»ºæ¥å£ã€‚</p>
<p>ä»ç„¶åœ¨<code>src</code>ç›®å½•ä¸­ï¼Œåˆ›å»ºå¦ä¸€ä¸ªåä¸º<code>VideoRecorder.jsx</code>çš„æ–‡ä»¶ï¼Œå¹¶ç²˜è´´ä»¥ä¸‹ä»£ç å—çš„å†…å®¹:</p>
<pre class="language-javascript hljs">import { useState, useRef } from "react";
const VideoRecorder = () =&gt; {
    const [permission, setPermission] = useState(false);
    const [stream, setStream] = useState(null);

    const getCameraPermission = async () =&gt; {
        if ("MediaRecorder" in window) {
            try {
                const streamData = await navigator.mediaDevices.getUserMedia({
                    audio: true,
                    video: true,
                });
                setPermission(true);
                setStream(streamData);
            } catch (err) {
                alert(err.message);
            }
        } else {
            alert("The MediaRecorder API is not supported in your browser.");
        }
    };

    return (
        &lt;div&gt;
            &lt;h2&gt;Video Recorder&lt;/h2&gt;
            &lt;main&gt;
                &lt;div className="video-controls"&gt;
                    {!permission ? (
                        &lt;button onClick={getCameraPermission} type="button"&gt;
                            Get Camera
                        &lt;/button&gt;
                    ):null}
                    {permission ? (
                        &lt;button type="button"&gt;
                            Record
                        &lt;/button&gt;
                    ):null}
                &lt;/div&gt;
            &lt;/main&gt;
        &lt;/div&gt;
    );
};
export default VideoRecorder;
</pre>
<p>ä¸å½•éŸ³æœºç»„ä»¶ç±»ä¼¼ï¼Œä¸Šé¢çš„ä»£ç å—å®ç°äº†ä»¥ä¸‹åŠŸèƒ½:</p>
<ul>
<li>å£°æ˜å½•åƒæœºç»„ä»¶çš„ç”¨æˆ·ç•Œé¢</li>
<li>ä½¿ç”¨<code>getCameraPermission</code>åŠŸèƒ½ä»æµè§ˆå™¨æ¥æ”¶éº¦å…‹é£è®¸å¯</li>
<li>å°†ä»<code>getUserMedia</code>æ–¹æ³•æ¥æ”¶çš„<code>MediaStream</code>è®¾ç½®ä¸º<code>stream</code>çŠ¶æ€å˜é‡</li>
</ul>
<h3 id="styling-application">è®¾è®¡æˆ‘ä»¬çš„åº”ç”¨ç¨‹åº</h3>
<p>æˆ‘ä»¬ä¸éœ€è¦ç¼–å†™å¤ªå¤šçš„ä»£ç æ¥è®¾è®¡åº”ç”¨ç¨‹åºçš„æ ·å¼ï¼Œå› ä¸ºå¤§éƒ¨åˆ†çš„æ ·å¼éƒ½æ˜¯åœ¨åº”ç”¨ç¨‹åºæ­å»ºè¿‡ç¨‹ä¸­å®Œæˆçš„ã€‚</p>
<p>åœ¨ä½äº<code>src</code>ç›®å½•çš„<code>index.css</code>æ–‡ä»¶ä¸­ï¼Œåœ¨åº•éƒ¨æ·»åŠ ä»¥ä¸‹æ ·å¼:</p>
<pre class="language-css hljs">...
.button-flex {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
}
.audio-controls,
.video-controls {
    margin-bottom: 20px;
}
.audio-player,
.video-player {
    display: flex;
    flex-direction: column;
    align-items: center;
}
.audio-player,
.video-player,
.recorded-player {
    display: flex;
    flex-direction: column;
    align-items: center;
}
.live-player {
    height: 200px;
    width: 400px;
    border: 1px solid #646cff;
    margin-bottom: 30px;
}
.recorded-player video {
    height: 400px;
    width: 800px;
}
</pre>
<p>ç„¶åï¼Œå°†<code>body</code>å…ƒç´ æ ·å¼å¯¹è±¡ä¸Šçš„<code>place-items</code>çš„å€¼ä»<code>center</code>æ›´æ”¹ä¸º<code>start</code>:</p>
<pre class="language-css hljs">...
body {
  margin: 0;
  display: flex;
  place-items: start;
  min-width: 320px;
  min-height: 100vh;
}
...
</pre>
<h3 id="rendering-components">æ¸²æŸ“ç»„ä»¶</h3>
<p>è¦æ˜¾ç¤ºæ–°åˆ›å»ºçš„ç»„ä»¶ï¼Œå¯¼èˆªåˆ°<code>App.jsx</code>å¹¶ç”¨ä»¥ä¸‹ä»£ç å—æ›¿æ¢å…¶å†…å®¹:</p>
<pre class="language-css hljs">import "./App.css";
import { useState, useRef } from "react";
import VideoRecorder from "../src/VideoRecorder";
import AudioRecorder from "../src/AudioRecorder";

const App = () =&gt; {
    let [recordOption, setRecordOption] = useState("video");
    const toggleRecordOption = (type) =&gt; {
        return () =&gt; {
            setRecordOption(type);
        };
    };
    return (
        &lt;div&gt;
            &lt;h1&gt;React Media Recorder&lt;/h1&gt;
            &lt;div className="button-flex"&gt;
                &lt;button onClick={toggleRecordOption("video")}&gt;
                  Record Video
                &lt;/button&gt;
                &lt;button onClick={toggleRecordOption("audio")}&gt;
                  Record Audio
                &lt;/button&gt;
            &lt;/div&gt;
            &lt;div&gt;
                {recordOption === "video" ? &lt;VideoRecorder /&gt; : &lt;AudioRecorder /&gt;}
            &lt;/div&gt;
        &lt;/div&gt;
    );
};
export default App;
</pre>
<p>ä¸Šé¢çš„ä»£ç å—æ ¹æ®æ‰€é€‰çš„é€‰é¡¹å‘ˆç°äº†<code>VideoRecorder</code>æˆ–<code>AudioRecorder</code>ç»„ä»¶ã€‚</p>
<p>å›åˆ°æµè§ˆå™¨ï¼Œæ‚¨åº”è¯¥ä¼šå¾—åˆ°ä»¥ä¸‹ç»“æœ:</p>
<p><img data-attachment-id="159122" data-permalink="https://blog.logrocket.com/how-to-create-video-audio-recorder-react/attachment/react-audio-video-recorder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/react-audio-video-recorder.gif" data-orig-size="730,386" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React audio and video recorder demo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/react-audio-video-recorder-300x159.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/react-audio-video-recorder.gif" decoding="async" class="aligncenter size-full wp-image-159122 jetpack-lazy-image" src="../Images/92adbcf809a8dca9969333f5162b7b05.png" alt="React Audio And Video Recorder Demo" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/02/react-audio-video-recorder.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/react-audio-video-recorder.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="159122" data-permalink="https://blog.logrocket.com/how-to-create-video-audio-recorder-react/attachment/react-audio-video-recorder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/react-audio-video-recorder.gif" data-orig-size="730,386" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React audio and video recorder demo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/react-audio-video-recorder-300x159.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/react-audio-video-recorder.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-159122" src="../Images/92adbcf809a8dca9969333f5162b7b05.png" alt="React Audio And Video Recorder Demo" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/react-audio-video-recorder.gif"/></noscript>
<p>ç°åœ¨å·²ç»å®Œæˆäº†ï¼Œè®©æˆ‘ä»¬æŠŠé‡ç‚¹æ”¾åœ¨å¢å¼ºç»„ä»¶çš„åŠŸèƒ½ä¸Šã€‚</p>
<h2 id="component-enhancement-audio-recorder">ç»„ä»¶å¢å¼º:å½•éŸ³æœº</h2>
<p>ä¸ºäº†ä½¿å½•éŸ³æœºå®Œæ•´ï¼Œå®ƒéœ€è¦æ»¡è¶³ä»¥ä¸‹è¦æ±‚:</p>
<ul>
<li>åœæ­¢/å¼€å§‹å½•éŸ³</li>
<li>æ’­æ”¾å’ŒéŸ³é¢‘ä¸‹è½½</li>
</ul>
<h3 id="stop-start-audio-recording">åœæ­¢/å¼€å§‹å½•éŸ³</h3>
<p>è®©æˆ‘ä»¬ä»å£°æ˜å˜é‡å’ŒçŠ¶æ€å€¼å¼€å§‹ã€‚</p>
<p>é¦–å…ˆï¼Œå°±åœ¨ç»„ä»¶çš„å‡½æ•°èŒƒå›´ä¹‹å¤–(å› ä¸ºæˆ‘ä»¬ä¸éœ€è¦å®ƒåœ¨ç»„ä»¶çŠ¶æ€æ›´æ–°æ—¶é‡æ–°å‘ˆç°)ï¼Œè®©æˆ‘ä»¬å£°æ˜å˜é‡<code>mimeType</code>:</p>
<pre class="language-javascript hljs">...
const mimeType = "audio/webm";
...
</pre>
<p>è¯¥å˜é‡è®¾ç½®æ‰€éœ€çš„æ–‡ä»¶ç±»å‹ã€‚ç‚¹å‡»äº†è§£æ›´å¤šå…³äº<a href="https://developer.mozilla.org/en-US/docs/Glossary/MIME_type"> MIMEç±»å‹çš„ä¿¡æ¯ã€‚</a></p>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬åœ¨<code>AudioRecorder</code>ç»„ä»¶èŒƒå›´å†…å£°æ˜ä»¥ä¸‹çŠ¶æ€å˜é‡:</p>
<pre class="language-javascript hljs">const [permission, setPermission] = useState(false);
const mediaRecorder = useRef(null);
const [recordingStatus, setRecordingStatus] = useState("inactive");
const [stream, setStream] = useState(null);
const [audioChunks, setAudioChunks] = useState([]);
const [audio, setAudio] = useState(null);
</pre>
<ul>
<li><code>permission</code>ä½¿ç”¨ä¸€ä¸ªå¸ƒå°”å€¼æ¥è¡¨ç¤ºæ˜¯å¦å·²ç»ç»™äºˆç”¨æˆ·æƒé™</li>
<li><code>mediaRecorder</code>ä¿å­˜ç€æ¥è‡ªåˆ›å»ºä¸€ä¸ªæ–°çš„<a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder"> <code>MediaRecorder</code> </a>å¯¹è±¡çš„æ•°æ®ï¼Œç»™å‡ºä¸€ä¸ª<code>MediaStream</code>æ¥è®°å½•</li>
<li><code>recordingStatus</code>è®¾ç½®è®°å½•ä»ªçš„å½“å‰è®°å½•çŠ¶æ€ã€‚ä¸‰ä¸ªå¯èƒ½çš„å€¼æ˜¯<code>recording</code>ã€<code>inactive</code>å’Œ<code>paused</code></li>
<li><code>stream</code>åŒ…å«ä»<code>getUserMedia</code>æ–¹æ³•æ¥æ”¶çš„<code>MediaStream</code></li>
<li><code>audioChunks</code>åŒ…å«å½•éŸ³çš„ç¼–ç ç‰‡æ®µ(ç»„å—)</li>
<li><code>audio</code>åŒ…å«å·²å®Œæˆå½•éŸ³çš„blob URL</li>
</ul>
<p>æ—¢ç„¶å·²ç»è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œè®©æˆ‘ä»¬æ¥å®šä¹‰å…è®¸æˆ‘ä»¬å¼€å§‹å’Œåœæ­¢è®°å½•çš„å‡½æ•°ã€‚</p>
<p>å…ˆè¯´<code>startRecording</code>å‡½æ•°ã€‚å°±åœ¨<code>getMicrophonePermission</code>å‡½æ•°ä¹‹åï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç :</p>
<pre class="language-javascript hljs">...
const startRecording = async () =&gt; {
  setRecordingStatus("recording");
  //create new Media recorder instance using the stream
  const media = new MediaRecorder(stream, { type: mimeType });
  //set the MediaRecorder instance to the mediaRecorder ref
  mediaRecorder.current = media;
  //invokes the start method to start the recording process
  mediaRecorder.current.start();
  let localAudioChunks = [];
  mediaRecorder.current.ondataavailable = (event) =&gt; {
     if (typeof event.data === "undefined") return;
     if (event.data.size === 0) return;
     localAudioChunks.push(event.data);
  };
  setAudioChunks(localAudioChunks);
};
...
</pre>
<p>æ¥ä¸‹æ¥ï¼Œåœ¨<code>startRecording</code>å‡½æ•°ä¸‹é¢åˆ›å»ºä¸€ä¸ª<code>stopRecording</code>å‡½æ•°:</p>
<pre class="language-javascript hljs">const stopRecording = () =&gt; {
  setRecordingStatus("inactive");
  //stops the recording instance
  mediaRecorder.current.stop();
  mediaRecorder.current.onstop = () =&gt; {
    //creates a blob file from the audiochunks data
     const audioBlob = new Blob(audioChunks, { type: mimeType });
    //creates a playable URL from the blob file.
     const audioUrl = URL.createObjectURL(audioBlob);
     setAudio(audioUrl);
     setAudioChunks([]);
  };
};
</pre>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬ç”¨<code>"audio-controls"</code>çš„<code>className</code>ä¿®æ”¹<code>&lt;div&gt;</code>ï¼Œä»¥æ ¹æ®<code>recordingStatus</code>çš„çŠ¶æ€æœ‰æ¡ä»¶åœ°å‘ˆç°å¼€å§‹å’Œåœæ­¢è®°å½•æŒ‰é’®:</p>
<pre class="language-javascript hljs">&lt;div className="audio-controls"&gt;
    {!permission ? (
    &lt;button onClick={getMicrophonePermission} type="button"&gt;
        Get Microphone
    &lt;/button&gt;
    ) : null}
    {permission &amp;&amp; recordingStatus === "inactive" ? (
    &lt;button onClick={startRecording} type="button"&gt;
        Start Recording
    &lt;/button&gt;
    ) : null}
    {recordingStatus === "recording" ? (
    &lt;button onClick={stopRecording} type="button"&gt;
        Stop Recording
    &lt;/button&gt;
    ) : null}
&lt;/div&gt;
</pre>
<h3 id="playback-audio-download">æ’­æ”¾å’ŒéŸ³é¢‘ä¸‹è½½</h3>
<p>ä¸ºäº†å›æ”¾å½•åˆ¶çš„éŸ³é¢‘æ–‡ä»¶ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨HTML <code>audio</code>æ ‡ç­¾ã€‚</p>
<p>åœ¨<code>"audio-controls"</code>çš„<code>&lt;div&gt;</code>ä¸<code>className</code>ä¸‹é¢ï¼Œæˆ‘ä»¬æ·»åŠ ä»¥ä¸‹ä»£ç :</p>
<pre class="language-javascript hljs">...
{audio ? (
  &lt;div className="audio-container"&gt;
     &lt;audio src={audio} controls&gt;&lt;/audio&gt;
     &lt;a download href={audio}&gt;
        Download Recording
     &lt;/a&gt;
   &lt;/div&gt;
) : null}
...
</pre>
<p>å°†blobä»è®°å½•é“¾æ¥åˆ°é”šå…ƒç´ å¹¶æ·»åŠ <code>download</code>å±æ€§ä½¿å…¶æˆä¸ºâ€œå¯ä¸‹è½½çš„â€</p>
<p>ç°åœ¨ï¼Œå½•éŸ³æœºåº”è¯¥æ˜¯è¿™æ ·çš„:</p>
<p><img data-attachment-id="159124" data-permalink="https://blog.logrocket.com/how-to-create-video-audio-recorder-react/attachment/downloadable-recording-react-media-recorder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/downloadable-recording-react-media-recorder.gif" data-orig-size="730,385" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Downloadable recordings from the React Media Recorder" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/downloadable-recording-react-media-recorder-300x158.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/downloadable-recording-react-media-recorder.gif" decoding="async" class="aligncenter size-full wp-image-159124 jetpack-lazy-image" src="../Images/efd4de76ed2ceff9e3d4895a47d01d00.png" alt="Downloadable Recordings From The React Media Recorder" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/02/downloadable-recording-react-media-recorder.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/downloadable-recording-react-media-recorder.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="159124" data-permalink="https://blog.logrocket.com/how-to-create-video-audio-recorder-react/attachment/downloadable-recording-react-media-recorder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/downloadable-recording-react-media-recorder.gif" data-orig-size="730,385" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Downloadable recordings from the React Media Recorder" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/downloadable-recording-react-media-recorder-300x158.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/downloadable-recording-react-media-recorder.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-159124" src="../Images/efd4de76ed2ceff9e3d4895a47d01d00.png" alt="Downloadable Recordings From The React Media Recorder" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/downloadable-recording-react-media-recorder.gif"/></noscript>
<h2 id="component-enhancement-video-recorder">ç»„ä»¶å¢å¼º:å½•åƒæœº</h2>
<p>ä¸ºäº†ä½¿å½•åƒæœºå®Œæ•´ï¼Œå®ƒéœ€è¦æ»¡è¶³ä»¥ä¸‹è¦æ±‚:</p>
<ul>
<li>å®æ—¶è§†é¢‘è¾“å…¥</li>
<li>åœæ­¢/å¼€å§‹è§†é¢‘å½•åˆ¶</li>
<li>æ’­æ”¾å’Œè§†é¢‘ä¸‹è½½</li>
</ul>
<h3 id="real-time-video-feed">å®æ—¶è§†é¢‘è¾“å…¥</h3>
<p>æˆ‘ä»¬éœ€è¦æŸ¥çœ‹ç›¸æœºæ´»åŠ¨æ—¶çš„è§†é‡ï¼Œä»¥äº†è§£è®°å½•ä¸­æ•æ‰åˆ°çš„åŒºåŸŸã€‚</p>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬å°†æ‰€éœ€çš„æ–‡ä»¶<code>mimeType</code>è®¾ç½®åœ¨<code>VideoRecorder</code>ç»„ä»¶çš„åŠŸèƒ½èŒƒå›´ä¹‹å¤–:</p>
<pre class="language-javascript hljs">...
const mimeType = "video/webm";
...
</pre>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬å®šä¹‰æ‰€éœ€çš„çŠ¶æ€å˜é‡ã€‚æˆ‘ä»¬å°†è¿”å›åˆ°ä¹‹å‰åˆ›å»ºçš„<code>VideoRecorder.jsx</code>æ–‡ä»¶:</p>
<pre class="language-javascript hljs">const [permission, setPermission] = useState(false);
const mediaRecorder = useRef(null);
const liveVideoFeed = useRef(null);
const [recordingStatus, setRecordingStatus] = useState("inactive");
const [stream, setStream] = useState(null);
const [videoChunks, setVideoChunks] = useState([]);
const [recordedVideo, setRecordedVideo] = useState(null);
</pre>
<ul>
<li><code>permission</code>ä½¿ç”¨ä¸€ä¸ªå¸ƒå°”å€¼æ¥è¡¨ç¤ºæ˜¯å¦å·²ç»ç»™äºˆç”¨æˆ·æƒé™</li>
<li><code>liveVideoFeed</code>åŒ…å«ç”¨æˆ·æ‘„åƒæœºçš„å®æ—¶è§†é¢‘æµ</li>
<li><code>recordingStatus</code>è®¾ç½®è®°å½•ä»ªçš„å½“å‰è®°å½•çŠ¶æ€ã€‚ä¸‰ä¸ªå¯èƒ½çš„å€¼æ˜¯<code>recording</code>ã€<code>inactive</code>å’Œ<code>paused</code></li>
<li><code>stream</code>åŒ…å«ä»<code>getUserMedia</code>æ–¹æ³•æ¥æ”¶çš„<code>MediaStream</code></li>
<li><code>videoChunks</code>åŒ…å«è§†é¢‘è®°å½•çš„ç¼–ç ç‰‡æ®µ(ç»„å—)</li>
<li><code>recordedVideo</code>åŒ…å«å·²å®Œæˆè§†é¢‘å½•åˆ¶çš„blob URL</li>
</ul>
<p>è®©æˆ‘ä»¬ä¹Ÿå°†<code>getCameraPermission</code>å‡½æ•°ä¿®æ”¹å¦‚ä¸‹:</p>
<pre class="language-javascript hljs">...
const getCameraPermission = async () =&gt; {
    setRecordedVideo(null);
    if ("MediaRecorder" in window) {
        try {
            const videoConstraints = {
                audio: false,
                video: true,
            };
            const audioConstraints = { audio: true };
            // create audio and video streams separately
            const audioStream = await navigator.mediaDevices.getUserMedia(
                audioConstraints
            );
            const videoStream = await navigator.mediaDevices.getUserMedia(
                videoConstraints
            );
            setPermission(true);
            //combine both audio and video streams
            const combinedStream = new MediaStream([
                ...videoStream.getVideoTracks(),
                ...audioStream.getAudioTracks(),
            ]);
            setStream(combinedStream);
            //set videostream to live feed player
            liveVideoFeed.current.srcObject = videoStream;
        } catch (err) {
            alert(err.message);
        }
    } else {
        alert("The MediaRecorder API is not supported in your browser.");
    }
};
...
</pre>
<p>ä¸ºäº†é˜²æ­¢éº¦å…‹é£åœ¨å½•éŸ³è¿‡ç¨‹ä¸­äº§ç”Ÿå›å£°ï¼Œæˆ‘ä»¬å°†åˆ†åˆ«ä¸ºéŸ³é¢‘å’Œè§†é¢‘åˆ›å»ºä¸¤ä¸ªç‹¬ç«‹çš„åª’ä½“æµï¼Œç„¶åå°†è¿™ä¸¤ä¸ªåª’ä½“æµåˆå¹¶ä¸ºä¸€ä¸ªã€‚æœ€åï¼Œè®¾ç½®<code>liveVideoFeed</code>åªåŒ…å«è§†é¢‘æµã€‚</p>
<h3 id="stop-start-video-recording">åœæ­¢å’Œå¼€å§‹å½•åƒ</h3>
<p>ç±»ä¼¼äºæˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„å½•éŸ³æœºï¼Œæˆ‘ä»¬å°†ä»åœ¨<code>getCameraPermission</code>å‡½æ•°ä¸‹é¢åˆ›å»º<code>startRecording</code>å‡½æ•°å¼€å§‹:</p>
<pre class="language-javascript hljs">...
const startRecording = async () =&gt; {
    setRecordingStatus("recording");
    const media = new MediaRecorder(stream, { mimeType });
    mediaRecorder.current = media;
    mediaRecorder.current.start();
    let localVideoChunks = [];
    mediaRecorder.current.ondataavailable = (event) =&gt; {
        if (typeof event.data === "undefined") return;
        if (event.data.size === 0) return;
        localVideoChunks.push(event.data);
    };
    setVideoChunks(localVideoChunks);
};
...
</pre>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åœ¨<code>startRecording</code>å‡½æ•°ä¸‹é¢åˆ›å»ºå‡½æ•°<code>stopRecording</code>æ¥åœæ­¢è§†é¢‘è®°å½•:</p>
<pre class="language-javascript hljs">...
const stopRecording = () =&gt; {
    setPermission(false);
    setRecordingStatus("inactive");
    mediaRecorder.current.stop();
    mediaRecorder.current.onstop = () =&gt; {
        const videoBlob = new Blob(videoChunks, { type: mimeType });
        const videoUrl = URL.createObjectURL(videoBlob);
        setRecordedVideo(videoUrl);
        setVideoChunks([]);
    };
};
...
</pre>
<h3 id="playback-video-download">æ’­æ”¾å’Œè§†é¢‘ä¸‹è½½</h3>
<p>ä¸ºäº†å¯ç”¨å›æ”¾å’Œè§†é¢‘ä¸‹è½½ï¼Œä»¥åŠæŸ¥çœ‹æˆ‘ä»¬åˆ°ç›®å‰ä¸ºæ­¢æ‰€åšçš„æ‰€æœ‰æ›´æ”¹ï¼Œè®©æˆ‘ä»¬æ›´æ–°ç»„ä»¶æ–‡ä»¶çš„HTMLéƒ¨åˆ†:</p>
<pre class="language-javascript hljs">...
&lt;div&gt;
    &lt;h2&gt;Audio Recorder&lt;/h2&gt;
    &lt;main&gt;
        &lt;div className="audio-controls"&gt;
            {!permission ? (
            &lt;button onClick={getMicrophonePermission} type="button"&gt;
                Get Microphone
            &lt;/button&gt;
            ) : null}
            {permission &amp;&amp; recordingStatus === "inactive" ? (
            &lt;button onClick={startRecording} type="button"&gt;
                Start Recording
            &lt;/button&gt;
            ) : null}
            {recordingStatus === "recording" ? (
            &lt;button onClick={stopRecording} type="button"&gt;
                Stop Recording
            &lt;/button&gt;
            ) : null}
        &lt;/div&gt;
        {audio ? (
        &lt;div className="audio-player"&gt;
            &lt;audio src={audio} controls&gt;&lt;/audio&gt;
            &lt;a download href={audio}&gt;
                Download Recording
            &lt;/a&gt;
        &lt;/div&gt;
        ) : null}
    &lt;/main&gt;
&lt;/div&gt;
...
</pre>
<p>ç°åœ¨ï¼Œå½•åƒæœºåº”è¯¥æ˜¯è¿™æ ·çš„:</p>
<p><img data-attachment-id="159126" data-permalink="https://blog.logrocket.com/how-to-create-video-audio-recorder-react/attachment/playback-react-media-recorder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/playback-react-media-recorder.gif" data-orig-size="730,385" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React media recorder with playback feature" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/playback-react-media-recorder-300x158.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/playback-react-media-recorder.gif" decoding="async" class="aligncenter size-full wp-image-159126 jetpack-lazy-image" src="../Images/06363bc3e3f0f920b3554c65411e26d9.png" alt="React Media Recorder With Playback Feature" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2023/02/playback-react-media-recorder.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/playback-react-media-recorder.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="159126" data-permalink="https://blog.logrocket.com/how-to-create-video-audio-recorder-react/attachment/playback-react-media-recorder/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2023/02/playback-react-media-recorder.gif" data-orig-size="730,385" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="React media recorder with playback feature" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2023/02/playback-react-media-recorder-300x158.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2023/02/playback-react-media-recorder.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-159126" src="../Images/06363bc3e3f0f920b3554c65411e26d9.png" alt="React Media Recorder With Playback Feature" data-original-src="https://blog.logrocket.com/wp-content/uploads/2023/02/playback-react-media-recorder.gif"/></noscript>
<h2 id="alternatives-creating-your-own-audio-video-recorder">åˆ›å»ºè‡ªå·±çš„è§†é¢‘å’ŒéŸ³é¢‘è®°å½•å™¨çš„æ›¿ä»£æ–¹æ³•</h2>
<p>ä¸å…¶ç¼–å†™æ‰€æœ‰è¿™äº›ä»£ç æ¥åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°éŸ³é¢‘å’Œè§†é¢‘å½•åˆ¶ï¼Œä¸å¦‚è€ƒè™‘ä½¿ç”¨ä¸€ä¸ªé’ˆå¯¹æ‚¨è¦å®ç°çš„ç›®æ ‡è€Œä¼˜åŒ–çš„å¤–éƒ¨åº“ã€‚</p>
<p>ä¸€ä¸ªæµè¡Œçš„ä¾‹å­æ˜¯<a href="https://www.npmjs.com/package/recordrtc"> RecordRTC </a>ï¼Œè¿™æ˜¯ä¸€ä¸ªçµæ´»çš„JavaScriptåº“ï¼Œæä¾›äº†å¹¿æ³›çš„å®šåˆ¶é€‰é¡¹ã€‚å…¶ä»–ä¾‹å­è¿˜æœ‰<a href="https://www.npmjs.com/package/react-media-recorder">ååº”åª’ä½“å½•åƒæœº</a>ã€<a href="https://www.npmjs.com/package/react-video-recorder">ååº”å½•åƒæœº</a>ç­‰ã€‚</p>
<p><em> N <strong>ã€‚</strong>B</em>T4ã€‚è¯·è®°å¾—åœ¨ä½¿ç”¨è¿™äº›è½¯ä»¶åŒ…ä¹‹å‰åšå¥½è°ƒæŸ¥ã€‚</p>
<h2 id="conclusion">ç»“è®º</h2>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨åŸç”ŸHTML MediaRecorder APIå’ŒMediaStream APIåœ¨Reactä¸­æ„å»ºè‡ªå®šä¹‰çš„éŸ³é¢‘å’Œè§†é¢‘è®°å½•å™¨ã€‚</p>
<p>è¿™ä¸ªé¡¹ç›®çš„æ‰€æœ‰æºä»£ç éƒ½å¯ä»¥åœ¨è¿™ä¸ª<a href="https://github.com/codiini/react-audio-video-recorder"> GitHubåº“</a>ä¸­æ‰¾åˆ°ã€‚æ‚¨å¯ä»¥éšæ„æ´¾ç”Ÿå­˜å‚¨åº“å¹¶ä½¿ç”¨ä»£ç ã€‚æˆ‘å¾ˆæƒ³çœ‹çœ‹ä½ èƒ½åšäº›ä»€ä¹ˆğŸ™‚</p>
<p>å¹²æ¯ï¼</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720">ä½¿ç”¨LogRocketæ¶ˆé™¤ä¼ ç»Ÿååº”é”™è¯¯æŠ¥å‘Šçš„å™ªéŸ³</h2>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" vwo-el-id="19356441070">LogRocket
</a><p>æ˜¯ä¸€æ¬¾React analyticsè§£å†³æ–¹æ¡ˆï¼Œå¯ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªè¯¯æŠ¥é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å°‘æ•°çœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocketå‘Šè¯‰æ‚¨Reactåº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„bugå’ŒUXé—®é¢˜ã€‚</p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<a href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="35866400580">LogRocket
</a><p>è‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€ååº”é”™è¯¯è¾¹ç•Œã€è¿˜åŸçŠ¶æ€ã€ç¼“æ…¢çš„ç»„ä»¶åŠ è½½æ—¶é—´ã€JSå¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶åï¼ŒLogRocketä½¿ç”¨æœºå™¨å­¦ä¹ æ¥é€šçŸ¥æ‚¨å½±å“å¤§å¤šæ•°ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„é—®é¢˜ï¼Œå¹¶æä¾›æ‚¨ä¿®å¤å®ƒæ‰€éœ€çš„ä¸Šä¸‹æ–‡ã€‚</p><p vwo-el-id="28675661060">å…³æ³¨é‡è¦çš„React bugâ€”<a class="signup" href="https://lp.logrocket.com/blg/react-signup-issue-free" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">ä»Šå¤©å°±è¯•è¯•LogRocketã€‘ã€‚</a></p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>