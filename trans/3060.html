<html>
<head>
<title>Implementing pagination with GraphQL in NestJS - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>åœ¨ NestJS - LogRocket åšå®¢ä¸­ç”¨ GraphQL å®ç°åˆ†é¡µ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/implementing-pagination-graphql-nestjs/#0001-01-01">https://blog.logrocket.com/implementing-pagination-graphql-nestjs/#0001-01-01</a></blockquote><div><article class="article-post">
<h1>åœ¨ NestJS ä¸­ç”¨ GraphQL å®ç°åˆ†é¡µ</h1>
<p>åˆ†é¡µæ˜¯è®¸å¤šæ•°æ®é©±åŠ¨çš„åº”ç”¨ç¨‹åºä¸­å¸¸è§çš„ UX é—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦é™åˆ¶å±å¹•ä¸Šæ˜¾ç¤ºçš„å†…å®¹ï¼›å¦‚æœæˆ‘çš„å†…å®¹éœ€è¦å¤ªå¤šçš„æ»šåŠ¨ï¼Œåœ¨æˆ‘çš„ç½‘ç«™ä¸Šå¯¼èˆªå¯¹æˆ‘çš„ç”¨æˆ·æ¥è¯´æ˜¯ä¸€ç§ç—›è‹¦çš„ç»å†ã€‚</p>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ä¸€ç§è§£å†³è¿™ä¸ªé—®é¢˜çš„å¸¸è§æ–¹æ³•ï¼Œç”¨ GraphQL æ„å»ºä¸€ä¸ª NestJS æœåŠ¡å™¨ï¼Œç„¶ååœ¨ React å‰ç«¯ä½¿ç”¨å®ƒã€‚é€šè¿‡ä¸€æ­¥ä¸€æ­¥åœ°å­¦ä¹ ä¸‹é¢çš„å†…å®¹ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªç®€å•çš„åˆ†é¡µç³»ç»Ÿï¼Œå®ƒå¯ä»¥åº”ç”¨äºå„ç§åº”ç”¨ç¨‹åºã€‚</p>
<p>æœ¬æŒ‡å—å°†åˆ†ä¸ºä¸‰ä¸ªä¸»è¦éƒ¨åˆ†:</p>
<ol>
<li><a href="#pagination-algorithm">åˆ†é¡µç®—æ³•</a></li>
<li><a href="#setting-api-using-nestjs-graphql">ä½¿ç”¨ NestJSã€GraphQL å’Œ Mongoose å»ºç«‹ API</a></li>
<li><a href="#building-react-frontend">æ„å»ºä¸€ä¸ª React å‰ç«¯æ¥ä½¿ç”¨ API </a></li>
</ol>
<p>è¿™æ˜¯ç”¨ NestJS å’Œ GraphQL å®ç°ç®€å•åˆ†é¡µç³»ç»Ÿçš„å®ç”¨æŒ‡å—ã€‚æ‚¨å¯ä»¥æ”¹è¿›æˆ‘ä»¬å°†åœ¨æœ¬æŒ‡å—ä¸­æ„å»ºçš„åº”ç”¨ç¨‹åºï¼Œä»¥åˆ›å»ºæ›´é€‚åˆç”Ÿäº§çš„ä¸œè¥¿ã€‚</p>
<p>æˆ‘æ¨èç¼–ç æ¥å·©å›ºæ¦‚å¿µã€‚æœ¬æŒ‡å—æ‰€å†™çš„æ‰€æœ‰ä»£ç éƒ½å¯ä»¥åœ¨æˆ‘çš„ GitHub ä¸Šæ‰¾åˆ°<a href="https://github.com/ovieokeh/graphql-nestjs-pagination-guide" target="_blank" rel="noopener">ã€‚</a></p>
<h2 id="what-are-we-building">æˆ‘ä»¬åœ¨å»ºé€ ä»€ä¹ˆï¼Ÿ</h2>
<p>æˆ‘ä»¬å°†æ„å»ºçš„åº”ç”¨ç¨‹åºæ˜¯ä¸€ä¸ªç®€å•çš„ React å‰ç«¯ï¼Œå…è®¸ç”¨æˆ·æµè§ˆç”¨æˆ·åˆ—è¡¨ã€‚å®ƒéå¸¸ç®€å•ï¼Œè¶³ä»¥è½»æ¾ç†è§£æˆ‘ä»¬å°†æ¶‰åŠçš„ä¸åŒæ¦‚å¿µï¼ŒåŒæ—¶ä¹Ÿè¶³å¤Ÿå®ç”¨ï¼Œå¯ä»¥é’ˆå¯¹ç°æœ‰åº”ç”¨ç¨‹åºè¿›è¡Œä¿®æ”¹ã€‚</p>
<figure id="attachment_119659" aria-describedby="caption-attachment-119659" class="wp-caption aligncenter"><img data-attachment-id="119659" data-permalink="https://blog.logrocket.com/implementing-pagination-graphql-nestjs/attachment/react-frontend-pagination/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination.png" data-orig-size="737,452" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-frontend-pagination" data-image-description="" data-image-caption="&lt;p&gt;This should be getting an AWWWARDS nomination anytime now&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination-300x184.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination.png" decoding="async" class="wp-image-119659 size-full jetpack-lazy-image" src="../Images/2d533fe717ae315f20f3ee94fc4b5e29.png" alt="Page through a list of users" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination.png 737w, https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination-300x184.png 300w" data-lazy-sizes="(max-width: 737px) 100vw, 737px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="119659" data-permalink="https://blog.logrocket.com/implementing-pagination-graphql-nestjs/attachment/react-frontend-pagination/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination.png" data-orig-size="737,452" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="react-frontend-pagination" data-image-description="" data-image-caption="&lt;p&gt;This should be getting an AWWWARDS nomination anytime now&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination-300x184.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination.png" decoding="async" loading="lazy" class="wp-image-119659 size-full" src="../Images/2d533fe717ae315f20f3ee94fc4b5e29.png" alt="Page through a list of users" srcset="https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination.png 737w, https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination-300x184.png 300w" sizes="(max-width: 737px) 100vw, 737px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/06/react-frontend-pagination.png"/></noscript><figcaption id="caption-attachment-119659" class="wp-caption-text">This should be getting an AWWWARDS nomination anytime now</figcaption></figure>

<p>åœ¨è®¾ç½®é¡¹ç›®ä¹‹å‰ï¼Œæµè§ˆä¸€ä¸‹æˆ‘ä»¬å°†è¦å®ç°çš„åˆ†é¡µç®—æ³•æ˜¯å€¼å¾—çš„ã€‚å½“æˆ‘ä»¬å¼€å§‹åˆ›å»ºæ–‡ä»¶å’Œç¼–å†™ä»£ç æ—¶ï¼Œè¿™å°†å¸®åŠ©æ‚¨ç†è§£é¡¹ç›®çš„æ¯ä¸ªéƒ¨åˆ†ã€‚</p>
<p>è®©æˆ‘ä»¬è·³è¿‡è¿™ä¸€æ­¥ï¼Œçœ‹çœ‹æˆ‘ä»¬å°†è°ƒç”¨çš„æœ€åä¸€ä¸ª GraphQL æŸ¥è¯¢ï¼Œä»¥è·å–ç”¨æˆ·åˆ—è¡¨å¹¶å¯¹å…¶è¿›è¡Œåˆ†é¡µã€‚</p>
<pre class="language-graphql hljs">{
  count
  users(take: 20, skip: 0) {
    firstName
    lastName
  }
}
</pre>
<p>è¯¥æŸ¥è¯¢ç”±ä¸¤ä¸ªèµ„æºç»„æˆï¼Œ<code>count</code>å’Œ<code>users</code>ã€‚</p>
<p>ç¬¬ä¸€ä¸ªæ˜¯<code>count</code>ï¼Œä»åå­—å°±å¯ä»¥çœ‹å‡ºï¼Œå®ƒåªæ˜¯è¿”å›æ•°æ®åº“ä¸­æ‰€æœ‰ç”¨æˆ·çš„æ•°é‡ã€‚å¦ä¸€ä¸ªèµ„æºï¼Œ<code>users</code>è®©æˆ‘ä»¬æŒ‡å®šè¦æ£€ç´¢å¤šå°‘ä¸ªç”¨æˆ·(<code>take</code>)ï¼Œä»¥åŠå¼€å§‹è·å–çš„åç§»é‡(<code>skip</code>)ã€‚</p>
<p>æˆ‘ä»¬å¦‚ä½•ç”¨è¿™ä¸ªç®€å•çš„æŸ¥è¯¢å®ç°åˆ†é¡µå‘¢ï¼Ÿ</p>
<p>è€ƒè™‘ä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬æœ‰äº”ç§èµ„æº:</p>
<pre class="language-plaintext hljs"><code>[one, two, three, four, five]
</code></pre>
<p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨å‚æ•°<code>take = 2, skip = 0</code>è¿è¡Œä¸Šé¢çš„æŸ¥è¯¢ï¼Œæˆ‘ä»¬å°†è·å¾—ä»¥ä¸‹èµ„æº:</p>
<pre class="language-plaintext hljs"><code>[one, two]
</code></pre>
<p>å¦‚æœæˆ‘ä»¬å†æ¬¡è¿è¡Œç›¸åŒçš„æŸ¥è¯¢ï¼Œä½†æ˜¯ä½¿ç”¨ä»¥ä¸‹å‚æ•°:</p>
<p><code>take = 2, skip = 2</code></p>
<p>æˆ‘ä»¬ä¼šå¾—åˆ°ä»¥ä¸‹èµ„æº:</p>
<pre class="language-plaintext hljs"><code>[three, four]
</code></pre>
<figure id="attachment_119666" aria-describedby="caption-attachment-119666" class="wp-caption aligncenter"><img data-attachment-id="119666" data-permalink="https://blog.logrocket.com/implementing-pagination-graphql-nestjs/attachment/frontend-users/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users.png" data-orig-size="800,750" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="frontend-users" data-image-description="" data-image-caption="&lt;p&gt;How &lt;code&gt;take&lt;/code&gt; and &lt;code&gt;skip&lt;/code&gt; work, but visually&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users-300x281.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users.png" decoding="async" class="size-full wp-image-119666 jetpack-lazy-image" src="../Images/f9ff337cb1bef731fc6130275166b2ed.png" alt="Using skip and take to keep track of users" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users.png 800w, https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users-300x281.png 300w, https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users-768x720.png 768w" data-lazy-sizes="(max-width: 800px) 100vw, 800px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="119666" data-permalink="https://blog.logrocket.com/implementing-pagination-graphql-nestjs/attachment/frontend-users/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users.png" data-orig-size="800,750" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="frontend-users" data-image-description="" data-image-caption="&lt;p&gt;How &lt;code&gt;take&lt;/code&gt; and &lt;code&gt;skip&lt;/code&gt; work, but visually&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users-300x281.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users.png" decoding="async" loading="lazy" class="size-full wp-image-119666" src="../Images/f9ff337cb1bef731fc6130275166b2ed.png" alt="Using skip and take to keep track of users" srcset="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users.png 800w, https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users-300x281.png 300w, https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users-768x720.png 768w" sizes="(max-width: 800px) 100vw, 800px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-users.png"/></noscript><figcaption id="caption-attachment-119666" class="wp-caption-text">How <code>take</code> and <code>skip</code> work, but visually</figcaption></figure>
<p>é€šè¿‡è·Ÿè¸ªæˆ‘ä»¬åœ¨å‰ç«¯æ£€ç´¢äº†å¤šå°‘ç”¨æˆ·ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªæ•°å­—ä¼ é€’ç»™<code>skip</code>å‚æ•°æ¥æ£€ç´¢ä¸‹ä¸€ä¸ªç”¨æˆ·çš„æ­£ç¡®æ•°é‡ã€‚å½“æˆ‘ä»¬å®ç°å‰ç«¯æ—¶ï¼Œè¿™å°†å˜å¾—æ›´åŠ æ¸…æ™°ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬è®¾ç½® API æ¥å®ç°åˆ°ç›®å‰ä¸ºæ­¢è®¨è®ºçš„åŠŸèƒ½ã€‚</p>
<h2 id="setting-api-using-nestjs-graphql">ä½¿ç”¨ NestJSã€GraphQL å’Œ Mongoose è®¾ç½® API</h2>
<p>é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šä»å»ºç«‹ä¸€ä¸ªæ–°çš„ NestJS é¡¹ç›®å’Œå®‰è£…ä¸€äº›ä¾èµ–é¡¹å¼€å§‹ã€‚</p>
<p>ç„¶è€Œï¼Œä¸ºäº†è·³è¿‡æŒ‰ç…§æ•™ç¨‹è®¾ç½®é¡¹ç›®çš„æ‰€æœ‰ç—›è‹¦éƒ¨åˆ†ï¼Œæˆ‘å·²ç»å¼€å§‹ç”¨æ‰€æœ‰å¿…è¦çš„åº“å’Œè®¾ç½®æ–‡ä»¶å»ºç«‹ä¸€ä¸ªå­˜å‚¨åº“ã€‚</p>
<p>å­˜å‚¨åº“æ˜¯ä¸€ä¸ªåŒ…å«åç«¯å’Œå‰ç«¯ç»„ä»¶çš„ monorepoã€‚è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ª repo ä¸­æ„å»º API å’Œå‰ç«¯ï¼Œä»è€ŒåŠ å¿«å¼€å‘é€Ÿåº¦ã€‚</p>
<p>å®ƒä¾èµ–äº<a href="https://classic.yarnpkg.com/lang/en/docs/workspaces/"> Y </a> <a href="https://classic.yarnpkg.com/lang/en/docs/workspaces/" target="_blank" rel="noopener"> arn å·¥ä½œç©ºé—´</a>ï¼Œæ‰€ä»¥ä½ éœ€è¦å®‰è£… npm å’Œ Yarnã€‚</p>
<p>å…‹éš†å­˜å‚¨åº“å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤å¼€å§‹ã€‚</p>
<pre class="language-bash hljs">git clone https://github.com/ovieokeh/graphql-nestjs-pagination-guide.git
npm install

cd ../workspaces/frontend
npm install

cd workspaces/backend
npm install

mkdir src &amp;&amp; cd src
</pre>
<p>å¦‚æœæ‚¨è¿è¡Œ<code>package.json</code>æ–‡ä»¶ä¸­çš„ä»»ä½•å‘½ä»¤ï¼Œå®ƒä»¬å¾ˆå¯èƒ½ä¼šå‡ºé”™ã€‚å¦‚æœæ‚¨é…ç½®äº†ç¼–è¾‘å™¨ï¼Œä¹Ÿå¯èƒ½ä¼šçœ‹åˆ°<code>eslint</code>é”™è¯¯ã€‚è¿™å¾ˆå¥½ã€‚æˆ‘ä»¬å°†åœ¨é˜…è¯»æŒ‡å—çš„è¿‡ç¨‹ä¸­è§£å†³è¿™äº›é—®é¢˜ã€‚</p>
<p>ç°åœ¨æ‚¨å·²ç»å®‰è£…äº†æ‰€æœ‰éœ€è¦çš„åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹æ„å»º API çš„ä¸åŒç»„ä»¶äº†ã€‚</p>
<h3 id="mongoose-schema-setup">Mongoose æ¨¡å¼è®¾ç½®</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªæŸ¥è¯¢ GraphQL çš„æ•°æ®åº“ã€‚æˆ‘å†³å®šä½¿ç”¨ Mongoose ä½œä¸ºæœ¬æŒ‡å—ï¼Œå› ä¸ºå®ƒæ˜¯ç›®å‰æœ€æµè¡Œçš„æ•°æ®åº“ ORM ä¹‹ä¸€ï¼Œä½†æ˜¯æ‚¨åº”è¯¥èƒ½å¤Ÿå°†ç›¸åŒçš„æ¦‚å¿µåº”ç”¨äºå…¶ä»– ORMã€‚</p>
<p>æˆ‘ä»¬å°†é¦–å…ˆåˆ›å»ºä¸€ä¸ª<code>src/mongoose</code>æ–‡ä»¶å¤¹å’Œä¸€ä¸ª<code>src/mongoose/schema.ts</code>æ–‡ä»¶æ¥ä¿å­˜æˆ‘ä»¬çš„æ•°æ®åº“ç±»å‹ã€æ¨¡å‹å’Œæ¨¡å¼ã€‚</p>
<pre>mkdir mongoose
touch mongoose/schema.ts
</pre>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬é…ç½®æˆ‘ä»¬çš„<code>schema.ts</code>æ–‡ä»¶ã€‚</p>
<pre class="language-typescript hljs">// src/mongoose/schema.ts

import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose'
import { Document } from 'mongoose'

export type UserDocument = UserModel &amp; Document

@Schema()
export class UserModel {
  @Prop()
  firstName: string

  @Prop()
  lastName: string

  @Prop()
  email: string

  @Prop()
  dateOfBirth: Date
}

export const UserSchema = SchemaFactory.createForClass(UserModel)
</pre>
<ul>
<li><code>UserDocument</code>æ˜¯è¡¨ç¤ºç”¨æˆ·æ¨¡å‹å’Œ Mongoose æ–‡æ¡£çš„ TypeScript ç±»å‹</li>
<li><code>UserModel</code>è¡¨ç¤ºè¦å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„å•ä¸ªç”¨æˆ·</li>
<li><code>UserSchema</code>æ˜¯ä»<code>UserModel</code>æ´¾ç”Ÿå‡ºæ¥çš„ä¸€ä¸ªçŒ«é¼¬æ¨¡å¼</li>
</ul>
<p>å½“æˆ‘ä»¬å®Œæˆ API çš„è®¾ç½®æ—¶ï¼Œæˆ‘ä»¬å°†ä¼šç”¨åˆ°å®ƒä»¬ã€‚</p>
<h2 id="nestjs-graphql">nestjs å’Œ GraphQL</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€äº›æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œè¿™äº›å°†åœ¨æˆ‘ä»¬å¡«å……å†…å®¹æ—¶è§£é‡Šã€‚</p>
<pre class="language-bash hljs">mkdir users &amp;&amp; cd users

mkdir dto entities
touch dto/fetch-users.input.ts entities/user.entity.ts 
</pre>
<h3><strong>T2<code>dto/fetch-users.input.ts</code></strong></h3>
<hr/>
<pre class="language-typescript hljs">// dto/fetch-users.input.ts

import { Field, Int, ArgsType } from '@nestjs/graphql'
import { Max, Min } from 'class-validator'

@ArgsType()
export class FetchUsersArgs {
  @Field(() =&gt; Int)
  @Min(0)
  skip = 0

  @Field(() =&gt; Int)
  @Min(1)
  @Max(50)
  take = 25
}
</pre>
<p><code>FetchUsersArgs</code>æ˜¯ä¸€ä¸ª<a href="https://docs.nestjs.com/controllers#request-payloads" target="_blank" rel="noopener">æ•°æ®ä¼ è¾“å¯¹è±¡(DTO) </a>ï¼Œè¿™æ„å‘³ç€å®ƒæè¿°äº†ä¸€æ®µé€šè¿‡ç½‘ç»œå‘é€çš„æ•°æ®ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå®ƒæè¿°äº†å‚æ•°<code>skip</code>å’Œ<code>take</code>ï¼Œæˆ‘ä»¬å°†åœ¨æŸ¥è¯¢ç”¨æˆ·æ—¶å°†å®ƒä»¬ä¼ é€’ç»™ APIã€‚</p>
<p>æˆ‘ä»¬å°†åˆ›å»ºçš„ä¸‹ä¸€ç»„æ–‡ä»¶æ˜¯ç”¨æˆ·æœåŠ¡ã€è§£æå™¨å’Œæ¨¡å—ã€‚</p>
<h3>åˆ›å»º<code><strong>users.service.ts</strong></code>æ–‡ä»¶</h3>
<pre class="language-typescript hljs">touch users.service.ts users.resolver.ts users.module.ts

import { Model } from 'mongoose'
import { Injectable } from '@nestjs/common'
import { InjectModel } from '@nestjs/mongoose'

import { UserDocument, UserModel } from '../../mongoose/schema'
import { FetchUsersArgs } from './dto/fetch-users.input'
import { User } from './entities/user.entity'

@Injectable()
export class UsersService {
  constructor(
    @InjectModel(UserModel.name) private userModel: Model&lt;UserDocument&gt;,
  ) {}

... continues below (1) ...
</pre>
<p>NestJS ä½¿ç”¨<code>@InjectModel</code>è£…é¥°å°†æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„ Mongoose æ•°æ®åº“æ³¨å…¥åˆ°<code>UsersService</code>ç±»ä¸­ã€‚è¿™å…è®¸æˆ‘ä»¬ä½¿ç”¨<code>getCount</code>å’Œ<code>findAll</code>æ–¹æ³•æŸ¥è¯¢æ•°æ®åº“ã€‚</p>
<pre class="language-typescript hljs">... continues from (1) ...
  async getCount(): Promise&lt;number&gt; {
    const count = await this.userModel.countDocuments()
    return count
  }
... continues below (2) ...
</pre>
<p><code>UsersService.getCount()</code>æ˜¯ä¸€ç§å…è®¸æˆ‘ä»¬è·å–æ•°æ®åº“ä¸­ç”¨æˆ·æ€»æ•°çš„æ–¹æ³•ã€‚è¿™ä¸ªè®¡æ•°å°†æœ‰åŠ©äºåœ¨å‰ç«¯å®ç°ç¼–å·åˆ†é¡µç»„ä»¶ã€‚</p>
<pre class="language-typescript hljs">... continues from (2) ...
  async findAll(args: FetchUsersArgs = { skip: 0, take: 5 }): Promise&lt;User[]&gt; {
    const users: User[] = (await this.userModel.find(null, null, {
      limit: args.take,
      skip: args.skip,
    })) as User[]

    return users
  }
}
</pre>
<p><code>UsersService.findAll({ skip, take })</code>æ˜¯ä¸€ä¸ªè·å–æŒ‡å®šæ•°é‡çš„ç”¨æˆ·(å¸¦æœ‰<code>take</code>å‚æ•°)å’Œåç§»é‡(<code>skip</code>)çš„æ–¹æ³•ã€‚</p>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•æ„æˆäº†æˆ‘ä»¬å°†è¦æ„å»ºçš„åˆ†é¡µç³»ç»Ÿçš„åŸºç¡€ã€‚</p>
<h3>åˆ›å»º<code>users.resolver.ts</code>æ–‡ä»¶</h3>
<pre class="language-typescript hljs">import { Resolver, Query, Args } from '@nestjs/graphql'

import { User } from './entities/user.entity'
import { UsersService } from './users.service'
import { FetchUsersArgs } from './dto/fetch-users.input'

@Resolver(() =&gt; User)
export class UsersResolver {
  constructor(private readonly usersService: UsersService) {}

  @Query(() =&gt; Number, { name: 'count' })
  async getCount(): Promise&lt;number&gt; {
    return this.usersService.getCount()
  }

  @Query(() =&gt; [User], { name: 'users' })
  async findAll(@Args() args: FetchUsersArgs): Promise&lt;User[]&gt; {
    return this.usersService.findAll(args)
  }
}
</pre>
<p><code>UsersResolver</code>ç±»æ˜¯ç”¨äº<code>count</code>å’Œ<code>users</code>æŸ¥è¯¢çš„ GraphQL è§£æå™¨ã€‚è¿™äº›æ–¹æ³•ç®€å•åœ°è°ƒç”¨ç›¸åº”çš„<code>UsersService</code>æ–¹æ³•ã€‚</p>
<h3>åˆ›å»º<strong> <code>users.module.ts</code> </strong>æ–‡ä»¶</h3>
<pre class="language-typescript hljs">import { Module } from '@nestjs/common'
import { MongooseModule } from '@nestjs/mongoose'

import { UserModel, UserSchema } from '../../mongoose/schema'
import { UsersService } from './users.service'
import { UsersResolver } from './users.resolver'

@Module({
  imports: [
    MongooseModule.forFeature([{ name: UserModel.name, schema: UserSchema }]),
  ],
  providers: [UsersResolver, UsersService],
})
export class UsersModule {}
</pre>
<p><code>UsersModule</code>ç±»å¯¼å…¥ Mongoose æ¨¡å¼å¹¶é…ç½®è§£æå™¨å’ŒæœåŠ¡ç±»ï¼Œå¦‚ä¸Šæ‰€è¿°ã€‚è¿™ä¸ªæ¨¡å—è¢«ä¼ é€’ç»™ä¸»åº”ç”¨ç¨‹åºæ¨¡å—ï¼Œå¹¶å…è®¸å‰é¢å®šä¹‰çš„æŸ¥è¯¢ã€‚</p>
<h3>åˆ›å»º<code>app.module.ts</code>æ–‡ä»¶</h3>
<p>æœ€åï¼Œä¸ºäº†å°†ä¸€åˆ‡è”ç³»åœ¨ä¸€èµ·ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª<code>app.module.ts</code>æ–‡ä»¶æ¥ä½¿ç”¨æˆ‘ä»¬åˆ°ç›®å‰ä¸ºæ­¢å®šä¹‰çš„æ‰€æœ‰æ¨¡å—ã€‚</p>
<pre class="language-typescript hljs">import { Module } from '@nestjs/common'
import { GraphQLModule } from '@nestjs/graphql'
import { ApolloDriver, ApolloDriverConfig } from '@nestjs/apollo'
import { MongooseModule } from '@nestjs/mongoose'

import { UsersModule } from './users/users.module'
import { ConfigModule, ConfigService } from '@nestjs/config'
import configuration from '../nest.config'

@Module({
  imports: [
    UsersModule,
    ConfigModule.forRoot({
      load: [configuration],
    }),
    MongooseModule.forRootAsync({
      imports: [ConfigModule],
      useFactory: async (configService: ConfigService) =&gt; ({
        uri: configService.get('databaseUrl'),
      }),
      inject: [ConfigService],
    }),
    GraphQLModule.forRoot&lt;ApolloDriverConfig&gt;({
      driver: ApolloDriver,
      autoSchemaFile: 'schema.gql',
      include: [UsersModule],
    }),
  ],
})
export class AppModule {}
</pre>
<p>å¦‚æœæ‚¨å·²ç»æœ‰äº†ä½¿ç”¨ GraphQL å’Œ NestJS çš„ç»éªŒï¼Œåº”è¯¥å¯¹è¿™äº›éƒ½å¾ˆç†Ÿæ‚‰ã€‚æˆ‘ä»¬æ­£åœ¨å¯¼å…¥:</p>
<ul>
<li><code>GraphQLModule</code>ç”¨äºè®¾ç½®å›¾è¡¨ QL</li>
<li><code>MongooseModule</code>ä¸ºæ•°æ®åº“</li>
<li><code>UsersModule</code>å¯¹äºç”¨æˆ·èµ„æº</li>
<li><code>ConfigModule</code>ç”¨äºè®¾ç½®ç¯å¢ƒå˜é‡</li>
</ul>
<p>ç°åœ¨ï¼Œåœ¨æ·»åŠ æ‚¨çš„æ•°æ®åº“è¿æ¥ URI ä¹‹å‰ï¼Œç¡®ä¿è®¾ç½®ä¸€ä¸ª<a href="https://www.mongodb.com/docs/drivers/node/current/fundamentals/connection/" target="_blank" rel="noopener"> MongoDB æ•°æ®åº“</a>å¹¶ä½¿ç”¨<code>.env.example</code>ä½œä¸ºå‘å¯¼åˆ›å»ºä¸€ä¸ª<code>.env</code>æ–‡ä»¶ã€‚</p>
<p>æ­¤æ—¶ï¼Œæ‚¨å¯ä»¥é€šè¿‡æ‰§è¡Œä»¥ä¸‹æ“ä½œæ¥æµ‹è¯• API:</p>
<ol>
<li>ç¡®ä¿æ‚¨ä½äºåç«¯ç›®å½•â€” <code>cd src/workspaces/backend</code></li>
<li>è¿è¡Œ<code>yarn seed</code>æ¤å…¥ä¸€äº›è™šå‡çš„ç”¨æˆ·æ•°æ®</li>
<li>è¿è¡Œ<code>yarn start:dev</code>åœ¨ç«¯å£ 3000 ä¸Šå¯åŠ¨æœåŠ¡å™¨</li>
<li>åœ¨æµè§ˆå™¨ä¸Šå¯¼èˆªåˆ°<code><a href="http://localhost:3000/graphql" rel="nofollow">http://localhost:3000/graphql</a></code>æ‰“å¼€ GraphQL playgroundï¼Œåœ¨è¿™é‡Œæ‚¨å¯ä»¥å°è¯•æ¥è‡ªâ€œ<a href="https://blog.logrocket.com/?p=119650&amp;preview=true#pagination-algorithm" target="_blank" rel="noopener">åˆ†é¡µç®—æ³•</a>â€éƒ¨åˆ†çš„æŸ¥è¯¢ï¼Œå¦‚ä¸‹æ‰€ç¤º:<pre class="language-graphql hljs">{   count   users(take: 20, skip: 0) {     firstName     lastName   } }</pre></li>
</ol>
<p>å¦‚æœä½ èƒ½èµ°åˆ°è¿™ä¸€æ­¥ï¼Œä½ å°±æ˜¯æ‘‡æ»šæ˜æ˜ŸğŸ˜ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªä¼‘æ¯ä¸€ä¸‹ï¼Œå†æ¬¡æµè§ˆåç«¯ä»£ç çš„å¥½æ—¶æœºã€‚èŠ±ç‚¹æ—¶é—´ç†è§£å®ƒï¼Œä¹Ÿè®¸å¯ä»¥å–æ¯æœæ±(æˆ–è€…èŒ¶ï¼Œå¦‚æœä½ å–œæ¬¢çš„è¯)ï¼Œç„¶åç»§ç»­å‰ç«¯ã€‚</p>
<h2 id="building-react-frontend">æ„å»ºä¸€ä¸ª React å‰ç«¯æ¥ä½¿ç”¨ API</h2>
<p>è®¾ç½®å¥½åç«¯ä¹‹åï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åˆ›å»ºä¸€ä¸ªé—ªäº®çš„ React å‰ç«¯æ¥å®ç°ä¸€ä¸ªåŸºæœ¬çš„åˆ†é¡µç³»ç»Ÿã€‚</p>
<h2 id="building-components">æ„å»ºç»„ä»¶</h2>
<p>æ‚¨å¯ä»¥åˆ©ç”¨<code>workspaces/frontend</code>æ–‡ä»¶å¤¹ï¼Œè€Œä¸æ˜¯å»ºç«‹ä¸€ä¸ªå…¨æ–°çš„å‰ç«¯é¡¹ç›®ï¼Œè¯¥æ–‡ä»¶å¤¹å·²ç»å®‰è£…äº†ä¸€ä¸ª React åº”ç”¨ç¨‹åºï¼Œå¹¶å®‰è£…äº†æ‰€æœ‰å¿…è¦çš„ä¾èµ–é¡¹ã€‚</p>
<pre class="language-bash hljs">cd ../frontend/src
</pre>
<p>è®©æˆ‘ä»¬ä»è‡ªåº•å‘ä¸Šçš„æ–¹æ³•å¼€å§‹æ„å»ºç»„ä»¶ï¼Œç„¶ååœ¨æœ€åé›†æˆæ‰€æœ‰ç»„ä»¶ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦ä»¥ä¸‹ç»„ä»¶:</p>
<ul>
<li><code>Users</code> â€”æŸ¥è¯¢ API å¹¶å‘ˆç°ç”¨æˆ·åˆ—è¡¨</li>
<li><code>Pagination</code> â€”æä¾›åˆ†é¡µé€»è¾‘å¹¶å‘ˆç°æ§ä»¶</li>
<li><code>App</code> â€”å‘ˆç°ç”¨æˆ·å’Œåˆ†é¡µ</li>
<li><code>Index</code> â€”å°†åº”ç”¨ç¨‹åºåŒ…è£…åœ¨ Apollo æä¾›ç¨‹åºä¸­ï¼Œå¹¶å‘ˆç°ç»™ DOM</li>
</ul>
<h3>ç¼–å†™æˆ‘ä»¬çš„<code><strong>users.tsx</strong></code>ç»„ä»¶</h3>
<figure id="attachment_119682" aria-describedby="caption-attachment-119682" class="wp-caption aligncenter"><img data-attachment-id="119682" data-permalink="https://blog.logrocket.com/implementing-pagination-graphql-nestjs/attachment/list-of-names/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names.png" data-orig-size="599,199" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="list-of-names" data-image-description="" data-image-caption="&lt;p&gt;Just a list of names&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names-300x100.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names.png" decoding="async" class="size-full wp-image-119682 jetpack-lazy-image" src="../Images/58cd4e41f6b59c48ac7db178deba90c5.png" alt="List of names" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names.png 599w, https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names-300x100.png 300w" data-lazy-sizes="(max-width: 599px) 100vw, 599px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="119682" data-permalink="https://blog.logrocket.com/implementing-pagination-graphql-nestjs/attachment/list-of-names/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names.png" data-orig-size="599,199" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="list-of-names" data-image-description="" data-image-caption="&lt;p&gt;Just a list of names&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names-300x100.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names.png" decoding="async" loading="lazy" class="size-full wp-image-119682" src="../Images/58cd4e41f6b59c48ac7db178deba90c5.png" alt="List of names" srcset="https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names.png 599w, https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names-300x100.png 300w" sizes="(max-width: 599px) 100vw, 599px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/06/list-of-names.png"/></noscript><figcaption id="caption-attachment-119682" class="wp-caption-text">Just a list of names</figcaption></figure>
<p>è¯¥ç»„ä»¶å°†ä½¿ç”¨<code>@apollo/client</code>åº“æŸ¥è¯¢ GraphQL APIï¼Œå¹¶åœ¨æŸ¥è¯¢å®Œæˆæ—¶å‘ˆç°ä¸€ä¸ªç”¨æˆ·åˆ—è¡¨ã€‚</p>
<pre class="language-bash hljs">// ensure you're in /workspaces/frontend/src
touch Users.tsx
</pre>
<p>æ‰“å¼€æ–°åˆ›å»ºçš„æ–‡ä»¶ã€‚</p>
<pre class="language-typescript hljs">// Users.tsx
import { gql, useQuery } from '@apollo/client'

const GET_USERS = gql`
  query GetUsers($skip: Int!, $amountToFetch: Int!) {
    users(skip: $skip, take: $amountToFetch) {
      id
      firstName
      lastName
    }
  }
`

type User = {
  id: string
  firstName: string
  lastName: string
}
... continues below (3) ...
</pre>
<p>åœ¨æ–‡ä»¶çš„é¡¶éƒ¨ï¼Œæˆ‘ä»¬ä»å‰é¢æåˆ°çš„<code>@apollo/client</code>åº“ä¸­å¯¼å…¥<code>gql</code>å’Œ<code>useQuery</code>ã€‚</p>
<p>å…è®¸æˆ‘ä»¬æ„å»ºä¸€ä¸ª GraphQL æŸ¥è¯¢ï¼Œå…·æœ‰åŠ¨æ€å˜é‡æ›¿æ¢ç­‰åŠŸèƒ½ã€‚<code>GET_USERS</code>å˜é‡æ˜¯ä¸€ä¸ªæŸ¥è¯¢ï¼Œå®ƒä»åç§»é‡<code>$skip</code>è¯·æ±‚é•¿åº¦<code>$amountToFetch</code>çš„<code>users</code>åˆ—è¡¨ã€‚</p>
<p>æˆ‘ä»¬æ­£åœ¨æŸ¥è¯¢æ¯ä¸ªç”¨æˆ·çš„<code>id</code>ã€<code>firstName</code>å’Œ<code>lastName</code>å±æ€§ã€‚<code>User</code>å˜é‡æ˜¯æŒ‡å®šç”¨æˆ·ç»“æ„çš„ TypeScript ç±»å‹ã€‚</p>
<pre class="language-typescript hljs">... continues from (3) ...

const Users = (props: { skip?: number; amountToFetch?: number }) =&gt; {
  const { data } = useQuery&lt;{ count: number; users: User[] }&gt;(GET_USERS, {
    variables: props,
  })

  const renderedUsers = data?.users?.map(({ id, firstName, lastName }) =&gt; {
    const name = `${firstName} ${lastName}`
    return (
      &lt;div key={id}&gt;
        &lt;p&gt;{name}&lt;/p&gt;
      &lt;/div&gt;
    )
  })

  return &lt;div className="Users"&gt;{renderedUsers}&lt;/div&gt;
}

export default Users
</pre>
<p>æœ€åï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ¥å—ä¸¤ä¸ªé“å…·çš„<code>Users</code>ç»„ä»¶:<code>skip</code>å’Œ<code>amountToFetch</code>ã€‚</p>
<p>å®ƒç«‹å³å¯åŠ¨å¯¹ API çš„æŸ¥è¯¢<code>GET_USERS</code>æŸ¥è¯¢ï¼Œå¹¶å°†<code>props</code>ä½œä¸º<code>variables</code>ä¼ é€’ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬æ˜ å°„ç”¨æˆ·æ•°ç»„(ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œä»¥é˜²æ•°æ®å°šæœªå‡†å¤‡å¥½),å¹¶è¿”å›åŒ…å«æ¯ä¸ªç”¨æˆ·å§“åçš„<code>div</code>ã€‚</p>
<p>æœ€åï¼Œreturn è¯­å¥å®Œæˆäº†è¿™ä¸ªç»„ä»¶ã€‚</p>
<h3><code><strong>pagination.tsx</strong></code>ç»„ä»¶</h3>
<figure id="attachment_119686" aria-describedby="caption-attachment-119686" class="wp-caption aligncenter"><img data-attachment-id="119686" data-permalink="https://blog.logrocket.com/implementing-pagination-graphql-nestjs/attachment/pagination-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component.png" data-orig-size="716,95" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="pagination-component" data-image-description="" data-image-caption="&lt;p&gt;The glorious pagination component&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component-300x40.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component.png" decoding="async" class="size-full wp-image-119686 jetpack-lazy-image" src="../Images/4c52515de0f73f54858be27d1e62a7d7.png" alt="Pagination component" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component.png 716w, https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component-300x40.png 300w" data-lazy-sizes="(max-width: 716px) 100vw, 716px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="119686" data-permalink="https://blog.logrocket.com/implementing-pagination-graphql-nestjs/attachment/pagination-component/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component.png" data-orig-size="716,95" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="pagination-component" data-image-description="" data-image-caption="&lt;p&gt;The glorious pagination component&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component-300x40.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component.png" decoding="async" loading="lazy" class="size-full wp-image-119686" src="../Images/4c52515de0f73f54858be27d1e62a7d7.png" alt="Pagination component" srcset="https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component.png 716w, https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component-300x40.png 300w" sizes="(max-width: 716px) 100vw, 716px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/06/pagination-component.png"/></noscript><figcaption id="caption-attachment-119686" class="wp-caption-text">The glorious pagination component</figcaption></figure>
<p>å¸Œæœ›ä½ ç†Ÿæ‚‰ React ä¸­çš„<code>renderProps</code>æŠ€æœ¯ã€‚è¯¥ç»„ä»¶åˆ©ç”¨<code>renderProps</code>æ¥å‘ˆç°å¸¦æœ‰é“å…·çš„ç»„ä»¶ï¼Œä»¥åŠå‘ˆç°é€‰æ‹©è¾“å…¥å’Œä¸€äº›æŒ‰é’®ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªæ–°çš„<code>Pagination.tsx</code>æ–‡ä»¶å¹¶æ‰“å¼€å®ƒã€‚</p>
<pre class="language-bash hljs">// ensure you're in /workspaces/frontend/src
touch Pagination.tsx
</pre>
<p>æˆ‘ä»¬é¦–å…ˆä» React å¯¼å…¥ä¸€äº›ç±»å‹å’Œå®ç”¨ç¨‹åºï¼Œå¹¶è®¾ç½®ä¸€äº›çŠ¶æ€å˜é‡æ¥è·Ÿè¸ªåˆ†é¡µç»„ä»¶çš„å½“å‰çŠ¶æ€ã€‚</p>
<pre class="language-typescript hljs">import { ChangeEvent, cloneElement, FunctionComponentElement, useState } from 'react'

const Pagination = ({ count, render }: {
  count: number
  render: FunctionComponentElement&lt;{ skip: number; amountToFetch: number }&gt;
}) =&gt; {
  const [step, setStep] = useState(0)
  const [amountToFetch, setAmountToFetch] = useState(10)

... continues below (4) ...
</pre>
<p><code>Pagination</code>ç»„ä»¶æ¥å—ä¸¤ä¸ªé“å…·:</p>
<ol>
<li><code>count</code> â€”æ•°æ®åº“ä¸­çš„ç”¨æˆ·æ€»æ•°ã€‚ç”¨äºè®¡ç®—åœ¨ UI ä¸­å‘ˆç°çš„æ­¥éª¤æ•°</li>
<li><code>render</code> â€”å°†ä»<code>Pagination</code>ç»„ä»¶æ¥æ”¶é¢å¤–é“å…·çš„ React ç»„ä»¶</li>
</ol>
<p>å®ƒè¿˜æœ‰ä¸¤ä¸ªçŠ¶æ€å˜é‡:</p>
<ol>
<li><code>step</code> â€”æ­£åœ¨æ¸²æŸ“çš„å½“å‰æ­¥éª¤</li>
<li><code>amountToFetch</code> â€”åœ¨ä»»ä½•ç»™å®šæ—¶é—´è·å–çš„ç”¨æˆ·æ•°é‡</li>
</ol>
<pre class="language-typescript hljs">... continues from (4) ...

const steps = count ? Math.ceil(count / amountToFetch) : 0
const renderedSteps = new Array(steps).fill(0).map((num, index) =&gt; (
  &lt;button
    data-is-active={index === step}
    key={index}
    type="button"
    onClick={() =&gt; setStep(index)}
  &gt;
    {index + 1}
  &lt;/button&gt;
))

const renderWithProps = cloneElement(render, {
  skip: step * amountToFetch,
  amountToFetch,
})

... continues below (5) ...</pre>
<p>æ¥ä¸‹æ¥ï¼Œå®šä¹‰ä¸‰ä¸ªå˜é‡:</p>
<ol>
<li><code>steps</code> â€”è¿™æ‰§è¡Œä¸€äº›ç®€å•çš„ç®—æœ¯æ¥è·å¾—æ¸²æŸ“çš„æ­¥éª¤æ•°<br/> <em> &gt;å¦‚æœ count = 10 ä¸ªç”¨æˆ·ï¼ŒamountToFetch = 5</em><br/><em>&gt;æ­¥éª¤æ•°= 2/&lt;1 2&gt;</em><br/><em>&gt;å¦‚æœ count = 10 ä¸ªç”¨æˆ·ï¼ŒamountToFetch = 2</em><em>&gt;æ­¥éª¤æ•°= 5/&lt;1 2 3 4 5&gt;</em></li>
<li><code>renderedSteps</code> â€”åˆ©ç”¨<code>steps</code>å‘ˆç°æ¥è‡ª<code>1..steps</code>çš„æŒ‰é’®æ•°ç»„ã€‚æ¯ä¸ªæŒ‰é’®éƒ½æœ‰ä¸€ä¸ªæ›´æ–°<code>step</code>çŠ¶æ€çš„<code>onClick</code>å¤„ç†å™¨</li>
<li><code>renderWithProps</code> â€”å…‹éš†åœ¨<code>render</code>é“å…·ä¸­ä¼ é€’çš„ç»„ä»¶ï¼Œå¹¶å‘å…¶æ·»åŠ ä¸¤ä¸ªæ–°é“å…·:<pre class="language-typescript hljs"> ... continues from (5) ...  return ( &lt;&gt; {renderWithProps}  &lt;select     name="amount to fetch"     id="amountToFetch"     value={amountToFetch}     onChange={(e: ChangeEvent&lt;HTMLSelectElement&gt;) =&gt; {       const newAmount = +e.target.value       setAmountToFetch(newAmount)       setStep(0)     }}   &gt;     &lt;option value={10}&gt;10&lt;/option&gt;     &lt;option value={20}&gt;20&lt;/option&gt;     &lt;option value={50}&gt;50&lt;/option&gt;   &lt;/select&gt;   &lt;button     type="button"     disabled={step === 0}     onClick={() =&gt; setStep((prevstep) =&gt; prevstep - 1)}   &gt;     {'&lt;'}   &lt;/button&gt;    {renderedSteps}    &lt;button     type="button"     disabled={(step + 1) * amountToFetch &gt; count}     onClick={() =&gt; setStep((prevstep) =&gt; prevstep + 1)}   &gt;     {'&gt;'}   &lt;/button&gt; &lt;/&gt; ) }  export default Pagination</pre><ol>
<li><code>skip</code> â€”æŸ¥è¯¢ç”¨æˆ·æ—¶è·³è¿‡å¤šå°‘</li>
<li><code>amountToFetch</code> â€”è¦æ£€ç´¢çš„ç”¨æˆ·æ•°é‡</li>
</ol>
</li>
</ol>
<p>æœ€åï¼Œæˆ‘ä»¬å‘ DOM å‘ˆç°äº”ä¸ªå…ƒç´ :</p>
<ol>
<li><code>renderWithProps</code>:æ·»åŠ é“å…·å…‹éš†çš„<code>render</code>ç»„ä»¶</li>
<li><code>select</code>:æ§åˆ¶<code>amountToFetch</code>çŠ¶æ€å˜é‡ï¼Œå…è®¸ç”¨æˆ·æ”¹å˜æ¯é¡µå–å¤šå°‘ç”¨æˆ·ã€‚æˆ‘ä»¬ç›®å‰å·²ç»å¯¹ 20ã€50 å’Œ 100 è¿™ä¸‰ä¸ªæ­¥éª¤è¿›è¡Œäº†ç¡¬ç¼–ç ã€‚<code>onChange</code>å¤„ç†å™¨æ›´æ–°<code>amountToFetch</code>çŠ¶æ€å¹¶é‡ç½®<code>step</code></li>
<li><code>button</code>:å…è®¸ç”¨æˆ·åé€€ä¸€æ­¥</li>
<li><code>renderedSteps</code>:å…è®¸åˆ‡æ¢åˆ°ç›¸åº”æ­¥éª¤çš„æŒ‰é’®åˆ—è¡¨</li>
<li><code>button</code>:å…è®¸ç”¨æˆ·å‘å‰ç§»åŠ¨ä¸€æ­¥</li>
</ol>
<p>å†æ¬¡ï¼ŒèŠ±ä¸€äº›æ—¶é—´å‘¼å¸ï¼Œæ”¾æ¾ï¼Œç†è§£åˆ°ç›®å‰ä¸ºæ­¢æ‰€æ¶µç›–çš„æ¦‚å¿µã€‚æ•£æ­¥å¯èƒ½ä¸æ˜¯ä¸€ä¸ªåä¸»æ„ğŸ˜‰</p>
<h3 id="react-apollo">ååº”å’Œé˜¿æ³¢ç½—</h3>
<p>æˆ‘ä»¬ç°åœ¨ç¦»ç»ˆç‚¹çº¿å¾ˆè¿‘äº†ï¼å‰©ä¸‹çš„å·¥ä½œå°±æ˜¯å°†<code>Users</code>ç»„ä»¶ä¸<code>Pagination</code>ç»„ä»¶è¿æ¥èµ·æ¥å¹¶è¿›è¡Œæ¸²æŸ“ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ª<code>App.tsx</code>æ–‡ä»¶å¹¶æ‰“å¼€å®ƒã€‚</p>
<pre class="language-bash hljs">// ensure you're in /workspaces/frontend/src
touch App.tsx
</pre>
<p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬çš„æ–‡ä»¶å†…å®¹:</p>
<pre class="language-typescript hljs">import { gql, useQuery } from '@apollo/client'

import Users from './Users'
import Pagination from './Pagination'

import './App.css'

const GET_USERS_COUNT = gql`
  query GetUsersCount {
    count
  }
`

function App() {
  const { data } = useQuery&lt;{ count: number }&gt;(GET_USERS_COUNT)

  return (
    &lt;div className="App"&gt;
      &lt;Pagination count={data?.count || 0} render={(&lt;Users /&gt;) as any} /&gt;
    &lt;/div&gt;
  )
}

export default App
</pre>
<p>è¿™æ˜¯ä¸€ä¸ªç›¸å¯¹ç®€å•çš„ç»„ä»¶ã€‚æˆ‘ä»¬è¿›å£:</p>
<ul>
<li><code>gql</code>å’Œ<code>useQuery</code>æˆ‘ä»¬å°†åœ¨ä¸‹é¢å®šä¹‰ä¸€ä¸ªæŸ¥è¯¢</li>
<li><code>Users</code>å’Œ<code>Pagination</code>ç»„ä»¶</li>
<li>é¡¹ç›®é™„å¸¦çš„ CSS æ ·å¼è¡¨</li>
</ul>
<p>ç„¶åæˆ‘ä»¬å®šä¹‰äº†<code>GET_USERS_COUNT</code>æŸ¥è¯¢ï¼Œå®ƒç®€å•åœ°è¯·æ±‚æ•°æ®åº“ä¸­çš„ç”¨æˆ·æ€»æ•°ã€‚</p>
<p><code>App</code>å‡½æ•°è¯·æ±‚<code>GET_USERS_COUNT</code>æŸ¥è¯¢ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨<code>data</code>å˜é‡ä¸­ã€‚<br/>åœ¨<code>return</code>è¯­å¥ä¸­ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ª div ä¸­å‘ˆç°äº†<code>Pagination</code>ç»„ä»¶ï¼Œå¹¶ä¸”â€”</p>
<ul>
<li>å°†<code>data.count</code>å˜é‡ä½œä¸º<code>count</code>å±æ€§ä¼ é€’</li>
<li>å°†<code>Users</code>ç»„ä»¶ä½œä¸º<code>render</code>é“å…·ä¼ é€’</li>
</ul>
<p>åªå‰©ä¸‹æœ€åä¸€éƒ¨åˆ†ï¼Œæ‚¨å°†èƒ½å¤Ÿåœ¨æµè§ˆå™¨ä¸­æµ‹è¯•æ‚¨çš„ç»“æœã€‚å’»ï¼</p>
<p>ç°åœ¨ï¼Œåˆ›å»ºä¸€ä¸ª<code>index.tsx</code>æ–‡ä»¶å¹¶æ‰“å¼€å®ƒã€‚</p>
<pre class="language-bash hljs">// ensure you're in /workspaces/frontend/src
touch index.tsx
</pre>
<p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬çš„æ–‡ä»¶å†…å®¹:</p>
<pre class="language-typescript hljs">import React from 'react'
import ReactDOM from 'react-dom/client'
import { ApolloClient, InMemoryCache, ApolloProvider } from '@apollo/client'

import App from './App'

import './index.css'

const client = new ApolloClient({
  uri: process.env.REACT_APP_API_GRAPHQL_URL,
  cache: new InMemoryCache(),
})

const root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement)

root.render(
  &lt;React.StrictMode&gt;
    &lt;ApolloProvider client={client}&gt;
      &lt;App /&gt;
    &lt;/ApolloProvider&gt;
  &lt;/React.StrictMode&gt;
)
</pre>
<p>è¿™ä¸ªæ–‡ä»¶ä¸­çš„å¤§éƒ¨åˆ†å†…å®¹ç°åœ¨åº”è¯¥å¾ˆç†Ÿæ‚‰äº†ã€‚æœ‰è¶£çš„æ˜¯ï¼Œæˆ‘ä»¬æ­£åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„ Apollo å®¢æˆ·æœºæ¥è¿æ¥æˆ‘ä»¬çš„ APIï¼Œå¹¶åœ¨<code>root.render</code>è¯­å¥ä¸­å°†å…¶ä¼ é€’ç»™ Apollo æä¾›è€…ã€‚</p>
<p>æ³¨æ„:ç¡®ä¿ä½¿ç”¨<code>.env.example</code>ä½œä¸ºå‘å¯¼åˆ›å»ºä¸€ä¸ª<code>.env</code>æ–‡ä»¶ï¼Œå¹¶æ·»åŠ æ‚¨çš„ API URL(å¾ˆå¯èƒ½æ˜¯<code>http:localhost:3000/graphql</code>)ã€‚</p>
<p>æ­¤æ—¶ï¼Œæ‚¨ç°åœ¨å¯ä»¥åœ¨æµè§ˆå™¨ä¸­å¯åŠ¨å‰ç«¯ï¼Œå¹¶æƒŠå¹æ‚¨çš„åˆ›é€ ã€‚</p>
<ul>
<li>ç¡®ä¿åç«¯æ­£åœ¨è¿è¡Œ(<code>yarn start:dev</code>)</li>
<li>ç¡®ä¿æ‚¨åœ¨<code>workspaces/frontend</code>å¹¶è¿è¡Œ<code>yarn start</code></li>
<li>å¯¼èˆªåˆ°<a href="http://localhost:3001" target="_blank" rel="noopener"> http://localhost:3001 </a></li>
</ul>
<figure id="attachment_119695" aria-describedby="caption-attachment-119695" class="wp-caption aligncenter"><img data-attachment-id="119695" data-permalink="https://blog.logrocket.com/implementing-pagination-graphql-nestjs/attachment/frontend-pagination-creation/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation.png" data-orig-size="737,452" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="frontend-pagination-creation" data-image-description="" data-image-caption="&lt;p&gt;Tada!&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation-300x184.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation.png" decoding="async" class="size-full wp-image-119695 jetpack-lazy-image" src="../Images/f2a84d5ed86146f92e03d6f932ae2f70.png" alt="End result is paginated list of users" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation.png 737w, https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation-300x184.png 300w" data-lazy-sizes="(max-width: 737px) 100vw, 737px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="119695" data-permalink="https://blog.logrocket.com/implementing-pagination-graphql-nestjs/attachment/frontend-pagination-creation/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation.png" data-orig-size="737,452" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="frontend-pagination-creation" data-image-description="" data-image-caption="&lt;p&gt;Tada!&lt;/p&gt;&#10;" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation-300x184.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation.png" decoding="async" loading="lazy" class="size-full wp-image-119695" src="../Images/f2a84d5ed86146f92e03d6f932ae2f70.png" alt="End result is paginated list of users" srcset="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation.png 737w, https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation-300x184.png 300w" sizes="(max-width: 737px) 100vw, 737px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/06/frontend-pagination-creation.png"/></noscript><figcaption id="caption-attachment-119695" class="wp-caption-text">Tada!</figcaption></figure>
<h2 id="conclusion">ç»“è®º</h2>
<p>ç»§ç»­ä¸åˆ†é¡µæ§ä»¶è¿›è¡Œäº¤äº’ã€‚ä¹Ÿè®¸ä½ å¯ä»¥æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥æˆªæ–­ä¸­é—´éƒ¨åˆ†ï¼Œç”šè‡³æ·»åŠ ä¸€äº›æ¼‚äº®çš„é€ å‹ï¼›è¿™æ˜¯ä¸€ä¸ªåŸºæœ¬çš„åˆ†é¡µç³»ç»Ÿï¼Œæ‚¨å¯ä»¥æ ¹æ®ä»»ä½•æ•°æ®ç±»å‹æˆ–åœºæ™¯è¿›è¡Œå®šåˆ¶ã€‚</p>
<p>ä½ å¯ä»¥åœ¨æˆ‘çš„ GitHub ä¸Šæ‰¾åˆ°è¿™ç¯‡æ–‡ç« çš„æºä»£ç ã€‚</p>
<p>å¦‚æœä½ è®¾æ³•åšæŒåˆ°æœ€åï¼Œä½ åº”è¯¥å—åˆ°è¡¨æ‰¬ã€‚æˆ‘çŸ¥é“å®ƒæœ‰æ—¶æœ‰ç‚¹æ™¦æ¶©ï¼Œä½†å¸Œæœ›è¿™å¯¹ä½ æœ‰ç”¨ã€‚</p><div class="code-block code-block-24">
<div class="blog-plug inline-plug graphql-plug"><h2>ç›‘æ§ç”Ÿäº§ä¸­å¤±è´¥å’Œç¼“æ…¢çš„ GraphQL è¯·æ±‚</h2><p>è™½ç„¶ GraphQL æœ‰ä¸€äº›è°ƒè¯•è¯·æ±‚å’Œå“åº”çš„ç‰¹æ€§ï¼Œä½†ç¡®ä¿ GraphQL å¯é åœ°ä¸ºæ‚¨çš„ç”Ÿäº§åº”ç”¨ç¨‹åºæä¾›èµ„æºæ˜¯ä¸€ä»¶æ¯”è¾ƒå›°éš¾çš„äº‹æƒ…ã€‚å¦‚æœæ‚¨å¯¹ç¡®ä¿å¯¹åç«¯æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡çš„ç½‘ç»œè¯·æ±‚æˆåŠŸæ„Ÿå…´è¶£ï¼Œ</p><a href="https://lp.logrocket.com/blg/graphql-signup" target="_blank">try LogRocket</a><p>.</p><a class="signup" href="https://lp.logrocket.com/blg/graphql-signup" target="_blank" rel="noopener noreferrer"><img src="../Images/432a3823c85b3fb72a206e6236a29f48.png" data-lazy-src="https://files.readme.io/69aa835-Image_2019-11-09_at_1.28.05_PM.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://files.readme.io/69aa835-Image_2019-11-09_at_1.28.05_PM.png"/><noscript><img data-lazy-fallback="1" src="../Images/432a3823c85b3fb72a206e6236a29f48.png" data-original-src="https://files.readme.io/69aa835-Image_2019-11-09_at_1.28.05_PM.png"/></noscript><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a><a href="https://lp.logrocket.com/blg/graphql-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket å°±åƒæ˜¯ç½‘ç»œå’Œç§»åŠ¨åº”ç”¨çš„ DVRï¼Œè®°å½•ä¸‹ä½ ç½‘ç«™ä¸Šå‘ç”Ÿçš„æ¯ä¸€ä»¶äº‹ã€‚æ‚¨å¯ä»¥æ±‡æ€»å¹¶æŠ¥å‘Šæœ‰é—®é¢˜çš„ GraphQL è¯·æ±‚ï¼Œä»¥å¿«é€Ÿäº†è§£æ ¹æœ¬åŸå› ï¼Œè€Œä¸æ˜¯çŒœæµ‹é—®é¢˜å‘ç”Ÿçš„åŸå› ã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥è·Ÿè¸ª Apollo å®¢æˆ·æœºçŠ¶æ€å¹¶æ£€æŸ¥ GraphQL æŸ¥è¯¢çš„é”®å€¼å¯¹ã€‚</p><p>LogRocket æ£€æµ‹æ‚¨çš„åº”ç”¨ç¨‹åºä»¥è®°å½•åŸºçº¿æ€§èƒ½è®¡æ—¶ï¼Œå¦‚é¡µé¢åŠ è½½æ—¶é—´ã€åˆ°è¾¾ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æ—¶é—´ã€æ…¢é€Ÿç½‘ç»œè¯·æ±‚ï¼Œè¿˜è®°å½• Reduxã€NgRx å’Œ Vuex æ“ä½œ/çŠ¶æ€ã€‚</p><a class="signup" href="https://lp.logrocket.com/blg/graphql-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a><p>.</p></div>


</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>