<html>
<head>
<title>Handling local data persistence in Flutter with Hive - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>ç”¨ Hive - LogRocket åšå®¢å¤„ç† Flutter ä¸­çš„æœ¬åœ°æ•°æ®æŒä¹…æ€§</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/#0001-01-01">https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/#0001-01-01</a></blockquote><div><article class="article-post">
<p>åœ¨æœ¬åœ°å­˜å‚¨æ•°æ®å¹¶åœ¨åº”ç”¨å¯åŠ¨ä¹‹é—´ä¿æŒæ•°æ®æ˜¯ä»»ä½•ç§»åŠ¨åº”ç”¨å¼€å‘è¿‡ç¨‹çš„åŸºæœ¬æ¦‚å¿µä¹‹ä¸€ã€‚å‡ ä¹æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½è¦æ±‚æ‚¨å¤„ç†æ•°æ®ï¼Œä»å­˜å‚¨é€é¤åº”ç”¨ç¨‹åºçš„å®¢æˆ·ä¿¡æ¯ï¼Œåˆ°æ¸¸æˆä¸­çš„åˆ†æ•°ï¼Œæˆ–è€…ä¸€ä¸ªç®€å•çš„å€¼ï¼Œä»¥äº†è§£ç”¨æˆ·åœ¨ä¸Šæ¬¡è®¿é—®æ—¶æ˜¯å¦æ‰“å¼€äº†é»‘æš—æ¨¡å¼ã€‚</p>
<p>Flutter æä¾›äº†å¾ˆå¤šæœ¬åœ°æ•°æ®æŒä¹…åŒ–é€‰é¡¹ä¾›å¼€å‘è€…é€‰æ‹©ã€‚<a href="https://pub.dev/packages/shared_preferences" target="_blank" rel="noopener"> shared_preferences </a>æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åŒ…ï¼Œç”¨äºåœ¨æœ¬åœ°å­˜å‚¨å°çš„é”®å€¼å¯¹ï¼Œè€Œ<a href="https://pub.dev/packages/sqflite" target="_blank" rel="noopener"> sqflite </a>ï¼ŒFlutter çš„ SQLite åŒ…ï¼Œå½“æ‚¨å¤„ç†éœ€è¦æ‚¨å¤„ç†æ•°æ®åº“ä¸­å¤æ‚å…³ç³»çš„å¼ºå…³ç³»æ•°æ®æ—¶ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚</p>
<p>ä½†æ˜¯å¦‚æœä½ æƒ³è¦ä¸€ä¸ªå¿«é€Ÿå®‰å…¨çš„æœ¬åœ°æ•°æ®åº“ï¼Œæ²¡æœ‰æœ¬åœ°ä¾èµ–ï¼Œä¹Ÿå¯ä»¥åœ¨ Flutter web ä¸Šè¿è¡Œ(ğŸ˜‰)ï¼Œé‚£ä¹ˆ<a href="https://pub.dev/packages/hive" target="_blank" rel="noopener">èœ‚å·¢</a>æ˜¯ä¸€ä¸ªç›¸å½“ä¸é”™çš„é€‰æ‹©ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨ Flutter æ„å»ºä¸€ä¸ªç®€å•çš„åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œæ‚¨å°†äº†è§£å¦‚ä½•å¼€å§‹ä½¿ç”¨ Hiveã€‚æˆ‘ä»¬è¿˜å°†ç ”ç©¶ä¸€ä¸ªå…è®¸æ‚¨åœ¨ Hive ä¸­å¤„ç†ç®€å•å…³ç³»æ•°æ®çš„æ¦‚å¿µã€‚</p>
<h2>ä¸ºä»€ä¹ˆæ˜¯èœ‚å·¢ï¼Ÿ</h2>
<p>è®©æˆ‘ä»¬é¦–å…ˆæ¥çœ‹çœ‹ä¸ºä»€ä¹ˆåº”è¯¥é€‰æ‹© Hiveï¼Œè€Œä¸æ˜¯å…¶ä»–å¯ä»¥åœ¨ Flutter ä¸­æœ¬åœ°æŒä¹…åŒ–æ•°æ®çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>Hive æ˜¯ä¸€ä¸ªè½»é‡çº§å’Œå¿«é€Ÿçš„é”®å€¼æ•°æ®åº“è§£å†³æ–¹æ¡ˆï¼Œå®ƒæ˜¯è·¨å¹³å°çš„(è¿è¡Œåœ¨ç§»åŠ¨ã€æ¡Œé¢å’Œ web ä¸Š)ï¼Œå¹¶ä¸”æ˜¯ç”¨çº¯ Dart ç¼–å†™çš„ã€‚è¿™è®©å®ƒæ¯”ä¸æ”¯æŒ Flutter web çš„<a href="https://pub.dev/packages/sqflite" target="_blank" rel="noopener"> sqflite </a>æ›´å…·ä¼˜åŠ¿â€”â€”Hive æ²¡æœ‰åŸç”Ÿä¾èµ–ï¼Œæ‰€ä»¥å®ƒå¯ä»¥åœ¨ web ä¸Šæ— ç¼è¿è¡Œã€‚</p>
<p>ä¸‹å›¾æ˜¯ Hive ä¸å…¶ä»–ç±»ä¼¼æ•°æ®åº“è§£å†³æ–¹æ¡ˆçš„å¯¹æ¯”åŸºå‡†:</p>
<figure id="attachment_61830" aria-describedby="caption-attachment-61830" class="wp-caption aligncenter"><img data-attachment-id="61830" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/hive-benchmark-graph/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph.png" data-orig-size="730,498" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hive-benchmark-graph" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph-300x205.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph.png" decoding="async" class="wp-image-61830 size-full jetpack-lazy-image" src="../Images/9090f5c754f864815dbf09911a1e2f57.png" alt="Hive benchmark graph" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph-300x205.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph.png"/><noscript><img data-lazy-fallback="1" data-attachment-id="61830" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/hive-benchmark-graph/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph.png" data-orig-size="730,498" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hive-benchmark-graph" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph-300x205.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph.png" decoding="async" loading="lazy" class="wp-image-61830 size-full" src="../Images/9090f5c754f864815dbf09911a1e2f57.png" alt="Hive benchmark graph" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph-300x205.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/hive-benchmark-graph.png"/></noscript><figcaption id="caption-attachment-61830" class="wp-caption-text">This is a benchmark of 1000 read and write operations performed on a Oneplus 6T device with Android Q. You can learn more about this benchmark on <a href="https://github.com/hivedb/hive#benchmark" target="_blank" rel="noopener">Hiveâ€™s GitHub</a>.</figcaption></figure>
<p>Hive è¿˜å…è®¸æ‚¨ä½¿ç”¨<a href="https://docs.hivedb.dev/#/custom-objects/type_adapters" target="_blank" rel="noopener"> TypeAdapters </a>å­˜å‚¨è‡ªå®šä¹‰ç±»ã€‚æˆ‘ä»¬å°†åœ¨æœ¬æ–‡åé¢çš„ä¸­æ›´è¯¦ç»†åœ°ä»‹ç»<a href="#using-custom-objects-typeadapter">ã€‚</a></p>
<h2>Hive å…¥é—¨</h2>
<p>è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªåŸºæœ¬çš„åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­å­˜å‚¨äº†ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥å¯¹æ•°æ®æ‰§è¡Œæ·»åŠ ã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œã€‚</p>
<p><img data-attachment-id="61833" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/sample-app-all-screens/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens.png" data-orig-size="730,414" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="sample-app-all-screens" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens-300x170.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens.png" decoding="async" class="aligncenter size-full wp-image-61833 jetpack-lazy-image" src="../Images/712e792d5ebffad5a32d7ea61219f34b.png" alt="A view of all three screens in the final sample app" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens-300x170.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="61833" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/sample-app-all-screens/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens.png" data-orig-size="730,414" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="sample-app-all-screens" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens-300x170.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-61833" src="../Images/712e792d5ebffad5a32d7ea61219f34b.png" alt="A view of all three screens in the final sample app" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens-300x170.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/sample-app-all-screens.png"/></noscript>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°çš„<a href="https://blog.logrocket.com/tag/flutter/" target="_blank" rel="noopener">é¢¤æŒ¯é¡¹ç›®</a>:</p>
<pre class="language-bash hljs">flutter create hive_demo
</pre>
<p>æ‚¨å¯ä»¥ä½¿ç”¨æ‚¨æœ€å–œæ¬¢çš„ IDE æ‰“å¼€é¡¹ç›®ï¼Œä½†æ˜¯å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘å°†ä½¿ç”¨ VS ä»£ç :</p>
<pre class="language-bash hljs">code hive_demo
</pre>
<p>å°† Hive å’Œ<a href="https://pub.dev/packages/hive_flutter" target="_blank" rel="noopener"> hive_flutter </a>åŒ…æ·»åŠ åˆ°æ‚¨çš„<code>pubspec.yaml</code>æ–‡ä»¶ä¸­:</p>
<pre class="language-dart hljs">dependencies:
  hive: ^2.1.0
  hive_flutter: ^1.1.0
</pre>
<p>å°†æ‚¨çš„<code>main.dart</code>æ–‡ä»¶çš„å†…å®¹æ›¿æ¢ä¸º:</p>
<pre class="language-dart hljs">import 'package:flutter/material.dart';

main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Hive Demo',
      theme: ThemeData(
        primarySwatch: Colors.purple,
      ),
      debugShowCheckedModeBanner: false,
      home: InfoScreen(),
    );
  }
}
</pre>
<p><code>InfoScreen</code>å°†æ˜¾ç¤ºç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯â€”â€”æˆ‘ä»¬ä¸€ä¼šå„¿å°±æ¥çœ‹çœ‹ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ Hive ä½¿ç”¨çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚</p>
<h2>äº†è§£ Hive ä¸­çš„ç›’å­</h2>
<p>Hive ä½¿ç”¨â€œç›’å­â€çš„æ¦‚å¿µåœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ•°æ®ã€‚ç›’å­ç±»ä¼¼äº SQL æ•°æ®åº“ä¸­çš„è¡¨ï¼Œåªæ˜¯ç›’å­æ²¡æœ‰ä¸¥æ ¼çš„ç»“æ„ã€‚è¿™æ„å‘³ç€ç›’å­æ˜¯çµæ´»çš„ï¼Œåªèƒ½å¤„ç†æ•°æ®ä¹‹é—´çš„ç®€å•å…³ç³»ã€‚</p>
<p>åœ¨è®¿é—®å­˜å‚¨åœ¨ç›’å­é‡Œçš„æ•°æ®ä¹‹å‰ï¼Œä½ å¿…é¡»æ‰“å¼€å®ƒã€‚è¿™ä¼šå°†ç›’å­çš„å…¨éƒ¨å†…å®¹ä»æœ¬åœ°å­˜å‚¨åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œä»¥ä¾¿å¯ä»¥è½»æ¾è®¿é—®ç›’å­ä¸­çš„ä»»ä½•æ•°æ®ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•æ‰“å¼€ä¸€ä¸ªåä¸º<code>peopleBox</code>çš„ç›’å­å¹¶ä»ä¸­è·å–å‚æ•°<code>name</code>:</p>
<pre class="language-dart hljs">var box = await Hive.openBox('peopleBox');
String name = box.get('name');</pre>
<p>é™¤äº†æ™®é€šç›’å­ï¼Œè¿˜æœ‰ä¸¤ç§ä¸åŒçš„ç›’å­:</p>

<h3>åœ¨ Hive ä¸­ä½¿ç”¨æƒ°æ€§ç›’</h3>
<p>æ­£å¸¸çš„èœ‚å·¢ç›’åœ¨æ‰“å¼€æ—¶ä¼šå°†ç›’å­çš„å…¨éƒ¨å†…å®¹è½½å…¥å†…å­˜ã€‚ä½†æ˜¯å¦‚æœç›’å­é‡Œæœ‰å¤§é‡çš„æ•°æ®ï¼Œè¿™å¯èƒ½ä¸æ˜¯åŠ è½½ç›’å­çš„å¥½æ–¹æ³•ã€‚</p>
<p>åœ¨æ‰“å¼€ä¸€ä¸ªæƒ°æ€§ç›’æ—¶ï¼Œåªæœ‰å¯†é’¥è¢«è¯»å–å¹¶å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚æ‚¨å¯ä»¥ä½¿ç”¨é”®ä»æ¡†ä¸­æ£€ç´¢å…¶å„è‡ªçš„å€¼ã€‚</p>
<p>ä½ å¯ä»¥åƒè¿™æ ·ä½¿ç”¨ä¸€ä¸ªæ‡’äººç›’å­:</p>
<pre class="language-dart hljs">var lazyBox = await Hive.openLazyBox('hugePeopleBox');
String name = await lazyBox.get('name');</pre>
<p>æ³¨æ„:ä¸ºäº†ä»ä¸€ä¸ªæ™®é€šçš„ç›’å­ä¸­è®¿é—®ä¸€ä¸ªå€¼ï¼Œä½ å¿…é¡»åœ¨ä¸ä½¿ç”¨<code>await</code>çš„æƒ…å†µä¸‹è·å¾—å®ƒã€‚ä½†æ˜¯ï¼Œåœ¨æƒ°æ€§ç›’ä¸­ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨<code>await</code>,å› ä¸ºå†…å®¹ä¸åœ¨å†…å­˜ä¸­â€”â€”åªæœ‰å®ƒå„è‡ªçš„é”®å¯ç”¨ã€‚</p>
<h3>ç”¨åŠ å¯†ç®±å­˜å‚¨æ•æ„Ÿä¿¡æ¯</h3>
<p>æ‚¨å¯èƒ½éœ€è¦ä½¿ç”¨ Hive å­˜å‚¨ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œè¿™å°±æ˜¯åŠ å¯†ç›’çš„ç”¨å¤„ã€‚Hive è‡ªå¸¦å¯¹ AES-256 åŠ å¯†çš„æ”¯æŒï¼Œä»¥åŠä¸€ä¸ªä½¿ç”¨ç¦å°”å›¾å¨œç®—æ³•ç”ŸæˆåŠ å¯†å¯†é’¥çš„å¸®åŠ©å‡½æ•°ã€‚</p>
<p>ä¸ºäº†å°†åŠ å¯†å¯†é’¥å®‰å…¨åœ°å­˜å‚¨åœ¨è®¾å¤‡ä¸­ï¼Œå»ºè®®ä½¿ç”¨<code>flutter_secure_storage</code>åŒ…ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªåˆ›å»ºå’Œæ‰“å¼€åŠ å¯†ç›’å­çš„ç¤ºä¾‹:</p>
<pre class="language-dart hljs">const secureStorage = FlutterSecureStorage();
final encryprionKey = await secureStorage.read(key: 'key');

if (encryprionKey == null) {
  final key = Hive.generateSecureKey();
  await secureStorage.write(
    key: 'key',
    value: base64UrlEncode(key),
  );
}

final key = await secureStorage.read(key: 'key');
final encryptionKey = base64Url.decode(key!);
print('Encryption key: $encryptionKey');

await Hive.openBox(
  'securedBox',
  encryptionCipher: HiveAesCipher(encryptionKey),
);</pre>
<p>è¦åœ¨è¯¥æ¡†ä¸­è·å–å’Œå­˜å‚¨æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•:</p>
<pre class="language-dart hljs">final encryptedBox = Hive.box('securedBox');

_getData() {
  setState(() {
    data = encryptedBox.get('secret');
  });
  log('Fetched data');
}

_putData() async {
  await encryptedBox.put('secret', 'Test secret key');
  log('Stored data');
}</pre>
<p>ä½¿ç”¨ Hive åŠ å¯†ç›’çš„å®Œæ•´ç¤ºä¾‹å¯ä»<a href="https://github.com/sbis04/hive_demo/tree/encrypted-box" target="_blank" rel="noopener">è¿™é‡Œ</a>è·å¾—ã€‚</p>
<h2>æ­£åœ¨åˆå§‹åŒ–é…ç½®å•å…ƒ</h2>
<p>åœ¨ç»§ç»­è¿›è¡Œæ•°æ®åº“çš„ CRUD æ“ä½œä¹‹å‰ï¼Œåˆå§‹åŒ– Hive å¹¶æ‰“å¼€ä¸€ä¸ªå°†ç”¨äºå­˜å‚¨æ•°æ®çš„ç›’å­ã€‚</p>
<p>Hive åº”è¯¥åœ¨æˆ‘ä»¬åŠ è½½ä»»ä½•ç›’å­ä¹‹å‰è¿›è¡Œåˆå§‹åŒ–ï¼Œæ‰€ä»¥æœ€å¥½åœ¨ä½ çš„ Flutter app çš„<code>main()</code>å‡½æ•°å†…éƒ¨è¿›è¡Œåˆå§‹åŒ–ï¼Œä»¥é¿å…ä»»ä½•é”™è¯¯ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨åœ¨é Flutterã€çº¯ Dart åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ Hiveï¼Œè¯·ä½¿ç”¨<code>Hive.init()</code>æ¥åˆå§‹åŒ– Hiveã€‚</p>
<pre class="language-dart hljs">main() async {
  // Initialize hive
  await Hive.initFlutter();
  runApp(MyApp());
}
</pre>
<p>è®© main å‡½æ•°å¼‚æ­¥ï¼Œç”¨<code>await</code>åˆå§‹åŒ– Hiveã€‚</p>
<p>ç°åœ¨ï¼Œæ‰“å¼€ä¸€ä¸ªèœ‚ç®±ã€‚å¦‚æœæ‚¨è®¡åˆ’åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å¤šä¸ªç›’å­ï¼Œè¯·æ³¨æ„æ‚¨åº”è¯¥åœ¨ä½¿ç”¨å®ƒä¹‹å‰æ‰“å¼€ä¸€ä¸ªç›’å­ã€‚</p>
<p>åœ¨è¿™ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªåœ¨ Hive å®Œæˆåˆå§‹åŒ–åæ‰“å¼€çš„ç›’å­ã€‚</p>
<pre class="language-dart hljs">main() async {
  // Initialize hive
  await Hive.initFlutter();
  // Open the peopleBox
  await Hive.openBox('peopleBox');
  runApp(MyApp());
}
</pre>
<p>æˆ‘ä»¬ç°åœ¨å‡†å¤‡åœ¨æœ¬åœ°æ•°æ®åº“ä¸Šæ‰§è¡Œ CRUD æ“ä½œã€‚</p><div class="code-block code-block-54">
<hr/>
<h3>æ›´å¤šæ¥è‡ª LogRocket çš„ç²¾å½©æ–‡ç« :</h3>

<hr/></div>
<h2>æ‰§è¡Œ CRUD æ“ä½œ</h2>
<p>æˆ‘ä»¬å°†åœ¨<code>InfoScreen StatefulWidget</code>ä¸­å®šä¹‰åŸºæœ¬çš„ CRUD æ“ä½œã€‚è¿™ä¸ªç±»çš„ç»“æ„å¦‚ä¸‹:</p>
<pre class="language-dart hljs">import 'package:flutter/material.dart';
import 'package:hive/hive.dart';

class InfoScreen extends StatefulWidget {
  @override
  _InfoScreenState createState() =&gt; _InfoScreenState();
}

class _InfoScreenState extends State&lt;InfoScreen&gt; {
  late final Box box;

  @override
  void initState() {
    super.initState();
    // Get reference to an already opened box
    box = Hive.box('peopleBox');
  }

  @override
  void dispose() {
    // Closes all Hive boxes
    Hive.close();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return Container();
  }
}
</pre>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ä¹‹å‰æ‰“å¼€çš„<code>initState()</code>æ–¹æ³•ä¸­æ£€ç´¢å¯¹ç›’å­çš„å¼•ç”¨ã€‚åœ¨ä½¿ç”¨å®Œæ‰“å¼€çš„ç›’å­åï¼Œåœ¨å…³é—­åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œæ‚¨åº”è¯¥å…³é—­å®ƒä»¬ã€‚</p>
<p>ç”±äºæˆ‘ä»¬ç›®å‰åªéœ€è¦è¿™ä¸ªå°éƒ¨ä»¶ä¸­çš„ç›’å­ï¼Œæˆ‘ä»¬å¯ä»¥å…³é—­è¿™ä¸ªç±»çš„<code>dispose()</code>æ–¹æ³•ä¸­çš„ç›’å­ã€‚</p>
<p>è®©æˆ‘ä»¬åˆ›å»ºä¸€äº›æ–¹æ³•æ¥æ‰§è¡Œ CRUD æ“ä½œã€‚</p>
<pre class="language-dart hljs">class _InfoScreenState extends State&lt;InfoScreen&gt; {
  late final Box box;

  _addInfo() async {
    // Add info to people box
  }

  _getInfo() {
    // Get info from people box
  }

  _updateInfo() {
    // Update info of people box
  }

  _deleteInfo() {
    // Delete info from people box
  }

  // ...
}
</pre>
<p>ç°åœ¨æˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªéå¸¸åŸºæœ¬çš„ UIï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥æµ‹è¯•æ“ä½œæ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
<pre class="language-dart hljs">class _InfoScreenState extends State&lt;InfoScreen&gt; {
  // ...
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('People Info'),
      ),
      body: Center(
        child: Row(
          mainAxisAlignment: MainAxisAlignment.spaceAround,
          children: [
            ElevatedButton(
              onPressed: _addInfo,
              child: Text('Add'),
            ),
            ElevatedButton(
              onPressed: _getInfo,
              child: Text('Get'),
            ),
            ElevatedButton(
              onPressed: _updateInfo,
              child: Text('Update'),
            ),
            ElevatedButton(
              onPressed: _deleteInfo,
              child: Text('Delete'),
            ),
          ],
        ),
      ),
    );
  }
}
</pre>
<p>è¯¥åº”ç”¨ç¨‹åºå°†å¦‚ä¸‹æ‰€ç¤º:</p>
<p><img data-attachment-id="61835" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/basic-ui-crud-operations/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations.png" data-orig-size="730,769" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="basic-ui-crud-operations" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations-285x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations.png" decoding="async" class="aligncenter size-full wp-image-61835 jetpack-lazy-image" src="../Images/3847f4fb12aed675036b7ba7707ab6f0.png" alt="The basic UI we created to perform CRUD operations" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations-285x300.png 285w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="61835" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/basic-ui-crud-operations/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations.png" data-orig-size="730,769" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="basic-ui-crud-operations" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations-285x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-61835" src="../Images/3847f4fb12aed675036b7ba7707ab6f0.png" alt="The basic UI we created to perform CRUD operations" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations-285x300.png 285w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/basic-ui-crud-operations.png"/></noscript>
<h3>åœ¨é…ç½®å•å…ƒä¸­å­˜å‚¨æ•°æ®</h3>
<p>å¦‚æœéœ€è¦å­˜å‚¨æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨å¯¹ Hive box çš„å¼•ç”¨ï¼Œå¹¶åœ¨å…¶ä¸Šè°ƒç”¨<code>put()</code>ã€‚æ­¤æ–¹æ³•æ¥å—é”®å€¼å¯¹ã€‚</p>
<pre class="language-dart hljs">// Add info to people box
_addInfo() async {
  // Storing key-value pair
  box.put('name', 'John');
  box.put('country', 'Italy');
  print('Info added to box!');
}
</pre>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å­˜å‚¨äº†ä¸¤ä¸ªé”®å€¼å¯¹ï¼Œä¸€ä¸ªæ˜¯äººçš„<strong>åå­—</strong>ï¼Œå¦ä¸€ä¸ªæ˜¯ä»–ä»¬çš„<strong>ç¥–å›½</strong>ã€‚</p>
<p>Hive è¿˜æ”¯æŒæ•´æ•°é”®ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨è‡ªåŠ¨é€’å¢é”®ã€‚å¦‚æœä½ å­˜å‚¨å¤šä¸ªå€¼(æœ‰ç‚¹ç±»ä¼¼äºä¸€ä¸ªåˆ—è¡¨)å¹¶ä¸”æƒ³é€šè¿‡å®ƒä»¬çš„ç´¢å¼•æ¥æ£€ç´¢ï¼Œè¿™å¯èƒ½æ˜¯æœ‰ç”¨çš„ã€‚ä½ å¯ä»¥è¿™æ ·å‚¨å­˜:</p>
<pre class="language-dart hljs">box.add('Linda'); // index 0, key 0
box.add('Dan');   // index 1, key 1
</pre>
<h3>æ£€ç´¢æ•°æ®</h3>
<p>è¦è¯»å–æ•°æ®ï¼Œå¯ä»¥å¯¹ box å¯¹è±¡ä½¿ç”¨<code>get()</code>æ–¹æ³•ã€‚æ‚¨åªéœ€æä¾›<code>key</code>æ¥æ£€ç´¢å®ƒçš„å€¼ã€‚</p>
<pre class="language-dart hljs">// Read info from people box
_getInfo() {
  var name = box.get('name');
  var country = box.get('country');
  print('Info retrieved from box: $name ($country)');
}
</pre>
<p>å¦‚æœä½¿ç”¨è‡ªåŠ¨é€’å¢å€¼ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•è¿›è¡Œè¯»å–ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-dart hljs">box.getAt(0); // retrieves the value with index 0
box.getAt(1); // retrieves the value with index 1
</pre>
<h3>æ›´æ–°æ•°æ®</h3>
<p>è¦æ›´æ–°ç‰¹å®šé”®çš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨æœ€åˆç”¨æ¥å­˜å‚¨å€¼çš„ç›¸åŒçš„<code>put()</code>æ–¹æ³•ã€‚è¿™å°†ç”¨æ–°æä¾›çš„å€¼æ›´æ–°è¯¥é”®ä¸Šçš„å€¼ã€‚</p>
<pre class="language-dart hljs">// Update info of people box
_updateInfo() {
  box.put('name', 'Mike');
  box.put('country', 'United States');
  print('Info updated in box!');
}
</pre>
<p>å¦‚æœä½¿ç”¨è‡ªåŠ¨é€’å¢çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨<code>putAt()</code>æ–¹æ³•æ›´æ–°ç‰¹å®šç´¢å¼•å¤„çš„å€¼ã€‚</p>
<pre class="language-dart hljs">box.putAt(0, 'Jenifer');
</pre>
<h3>åˆ é™¤æ•°æ®</h3>
<p>è¦åˆ é™¤æ•°æ®ï¼Œæ‚¨å¯ä»¥é€šè¿‡æä¾›é”®æ¥ä½¿ç”¨<code>delete()</code>æ–¹æ³•ã€‚</p>
<pre class="language-dart hljs">// Delete info from people box
_deleteInfo() {
  box.delete('name');
  box.delete('country');
  print('Info deleted from box!');
}
</pre>
<p>è¿™å°†åˆ é™¤è¿™äº›ç‰¹å®šé”®ä¸Šçš„å€¼ã€‚ç°åœ¨ï¼Œå¦‚æœæ‚¨å°è¯•ä½¿ç”¨è¿™äº›é”®è°ƒç”¨<code>get()</code>æ–¹æ³•ï¼Œå®ƒå°†è¿”å›ç©ºå€¼ã€‚</p>
<p>å¦‚æœä½¿ç”¨è‡ªåŠ¨é€’å¢å€¼ï¼Œå¯ä»¥é€šè¿‡æä¾›ç´¢å¼•æ¥ä½¿ç”¨<code>deleteAt()</code>æ–¹æ³•ã€‚</p>
<pre class="language-dart hljs">box.deleteAt(0);
</pre>
<h2 id="using-custom-objects-typeadapter">å°†è‡ªå®šä¹‰å¯¹è±¡ä¸ TypeAdapter ä¸€èµ·ä½¿ç”¨</h2>
<p>ä¸€èˆ¬æ¥è¯´ï¼ŒHive æ”¯æŒæ‰€æœ‰çš„åŸè¯­ç±»å‹ï¼Œå¦‚<code>List</code>ã€<code>Map</code>ã€<code>DateTime</code>å’Œ<code>Uint8List</code>ã€‚ä½†æ˜¯æœ‰æ—¶æ‚¨å¯èƒ½éœ€è¦å­˜å‚¨å®šåˆ¶çš„æ¨¡å‹ç±»æ¥ç®€åŒ–æ•°æ®ç®¡ç†ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥åˆ©ç”¨ TypeAdapterï¼Œå®ƒä¼šç”Ÿæˆ<code>to</code>å’Œ<code>from</code>äºŒè¿›åˆ¶æ–¹æ³•ã€‚</p>
<p>TypeAdapters å¯ä»¥æ‰‹åŠ¨ç¼–å†™ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨ç”Ÿæˆã€‚ä½¿ç”¨ä»£ç ç”Ÿæˆæ¥ç”Ÿæˆæ‰€éœ€çš„æ–¹æ³•æ€»æ˜¯æ›´å¥½ï¼Œå› ä¸ºå®ƒæœ‰åŠ©äºé˜²æ­¢æ‰‹åŠ¨ç¼–å†™æ—¶å¯èƒ½å‡ºç°çš„ä»»ä½•é”™è¯¯(è€Œä¸”å®ƒä¹Ÿæ›´å¿«)ã€‚</p>
<p>æˆ‘ä»¬å°†ç”¨äºå­˜å‚¨<code>Person</code>æ•°æ®çš„æ¨¡å‹ç±»æ˜¯:</p>
<pre class="language-dart hljs">class Person {
  final String name;
  final String country;

  Person({
    required this.name,
    required this.country,
  });
}
</pre>
<h3>æ­£åœ¨ç”Ÿæˆé…ç½®å•å…ƒé€‚é…å™¨</h3>
<p>æ‚¨éœ€è¦æ·»åŠ ä¸€äº›ä¾èµ–é¡¹æ¥ä¸ºé…ç½®å•å…ƒç”Ÿæˆ TypeAdapterã€‚å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨çš„<code>pubspec.yaml</code>æ–‡ä»¶ä¸­:</p>
<pre class="language-dart hljs">dev_dependencies:
  hive_generator: ^1.1.2
  build_runner: ^2.1.8
</pre>
<p>æ³¨é‡Šæ¨¡å‹ç±»ä»¥ä½¿ç”¨ä»£ç ç”Ÿæˆ:</p>
<pre class="language-dart hljs">import 'package:hive/hive.dart';
part 'people.g.dart';

@HiveType(typeId: 1)
class People {
  @HiveField(0)
  final String name;

  @HiveField(1)
  final String country;

  People({
    required this.name,
    required this.country,
  });
}
</pre>
<p>ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è§¦å‘ä»£ç ç”Ÿæˆ:</p>
<pre class="language-bash hljs">flutter packages pub run build_runner build
</pre>
<h3>æ³¨å†Œ TypeAdapter</h3>
<p>æ‚¨åº”è¯¥åœ¨æ‰“å¼€ä½¿ç”¨ TypeAdapter çš„ç›’å­ä¹‹å‰æ³¨å†Œå®ƒï¼Œå¦åˆ™ï¼Œå®ƒå°†äº§ç”Ÿä¸€ä¸ªé”™è¯¯ã€‚å› ä¸ºæˆ‘ä»¬åªä½¿ç”¨äº†ä¸€ä¸ªç›’å­ï¼Œå¹¶åœ¨<code>main()</code>å‡½æ•°ä¸­æ‰“å¼€äº†å®ƒï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»åœ¨æ­¤ä¹‹å‰æ³¨å†Œé€‚é…å™¨ã€‚</p>
<pre class="language-dart hljs">main() async {
  // Initialize hive
  await Hive.initFlutter();
  // Registering the adapter
  Hive.registerAdapter(PersonAdapter());
  // Opening the box
  await Hive.openBox('peopleBox');

  runApp(MyApp());
}
</pre>
<p>ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿™ä¸ªè‡ªå®šä¹‰ç±»ç›´æ¥æ‰§è¡Œæ•°æ®åº“æ“ä½œã€‚</p>
<h2>æ„å»ºæœ€ç»ˆçš„åº”ç”¨ç¨‹åº</h2>
<p>æœ€ç»ˆçš„åº”ç”¨ç¨‹åºå°†ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªå±å¹•:</p>
<ol>
<li><code>AddScreen</code>:ç”¨äºåœ¨æ•°æ®åº“ä¸­å­˜å‚¨ç”¨æˆ·ä¿¡æ¯</li>
<li><code>InfoScreen</code>:ç”¨äºæ˜¾ç¤º Hive æ•°æ®åº“ä¸­å­˜åœ¨çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä»¥åŠç”¨äºåˆ é™¤ç”¨æˆ·æ•°æ®çš„æŒ‰é’®</li>
<li><code>UpdateScreen</code>:ç”¨äºæ›´æ–°æ•°æ®åº“ä¸­çš„ç”¨æˆ·ä¿¡æ¯</li>
</ol>
<p>æ‚¨ä¸éœ€è¦ä¿®æ”¹åŒ…å«<code>MyApp</code>å°éƒ¨ä»¶å’Œ<code>main()</code>å‡½æ•°çš„<code>main.dart</code>æ–‡ä»¶ã€‚</p>
<h3><code>AddScreen</code></h3>
<p><code>AddScreen</code>å°†æ˜¾ç¤ºä¸€ä¸ªå°†ç”¨æˆ·æ•°æ®ä½œä¸ºè¾“å…¥çš„è¡¨æ ¼ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†åªè¾“å…¥ä¸¤ä¸ªå€¼ï¼Œ<strong>å§“å</strong>å’Œ<strong>æœ¬å›½</strong>ã€‚åº•éƒ¨å°†æœ‰ä¸€ä¸ªæŒ‰é’®å‘é€æ•°æ®åˆ°é…ç½®å•å…ƒã€‚</p>
<p><img data-attachment-id="61838" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/add-screen-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page.png" data-orig-size="730,779" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="add-screen-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page-281x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page.png" decoding="async" class="aligncenter size-full wp-image-61838 jetpack-lazy-image" src="../Images/157357e1f916fe81b11bb5bc055ed2ae.png" alt="The AddScreen" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page-281x300.png 281w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="61838" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/add-screen-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page.png" data-orig-size="730,779" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="add-screen-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page-281x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-61838" src="../Images/157357e1f916fe81b11bb5bc055ed2ae.png" alt="The AddScreen" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page-281x300.png 281w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/add-screen-page.png"/></noscript>
<p><code>AddScreen</code>çš„ä»£ç æ˜¯:</p>
<pre class="language-dart hljs">class AddScreen extends StatefulWidget {
  @override
  _AddScreenState createState() =&gt; _AddScreenState();
}
class _AddScreenState extends State&lt;AddScreen&gt; {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Colors.white,
      appBar: AppBar(
        title: Text('Add Info'),
      ),
      body: Padding(
        padding: const EdgeInsets.all(16.0),
        child: AddPersonForm(),
      ),
    );
  }
}
</pre>
<p><code>AddPersonForm</code>æ˜¯åˆ›å»ºè¡¨å• UI çš„ä¸»è¦å°éƒ¨ä»¶ã€‚å®ƒè¿˜åŒ…å«é…ç½®å•å…ƒå­˜å‚¨åŠŸèƒ½ã€‚</p>
<p>å°éƒ¨ä»¶çš„åŸºæœ¬ç»“æ„å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-dart hljs">class AddPersonForm extends StatefulWidget {
  const AddPersonForm({Key? key}) : super(key: key);
  @override
  _AddPersonFormState createState() =&gt; _AddPersonFormState();
}

class _AddPersonFormState extends State&lt;AddPersonForm&gt; {
  late final Box box;

  @override
  void initState() {
    super.initState();
    // Get reference to an already opened box
    box = Hive.box('peopleBox');
  }

  @override
  Widget build(BuildContext context) {
    return Container(); 
  }
}
</pre>
<p>æˆ‘ä»¬å·²ç»åœ¨<code>initState()</code>æ–¹æ³•ä¸­è·å–äº†å¯¹ç›’å­çš„å¼•ç”¨ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºè¡¨å•å®šä¹‰ä¸€ä¸ªå…¨å±€é”®ï¼Œå¹¶æ·»åŠ ä¸€äº›æ–‡æœ¬ç¼–è¾‘æ§åˆ¶å™¨ã€‚</p>
<pre class="language-dart hljs">class _AddPersonFormState extends State&lt;AddPersonForm&gt; {
  final _nameController = TextEditingController();
  final _countryController = TextEditingController();
  final _personFormKey = GlobalKey&lt;FormState&gt;();

  // ...
}
</pre>
<p>å®šä¹‰å°†æ•°æ®å­˜å‚¨åˆ° Hive çš„æ–¹æ³•ï¼Œå¹¶æ·»åŠ æ–‡æœ¬å­—æ®µéªŒè¯å™¨:</p>
<pre class="language-dart hljs">class _AddPersonFormState extends State&lt;AddPersonForm&gt; {
  // ...

  // Add info to people box
  _addInfo() async {
    Person newPerson = Person(
      name: _nameController.text,
      country: _countryController.text,
    );
    box.add(newPerson);
    print('Info added to box!');
  }

  String? _fieldValidator(String? value) {
    if (value == null || value.isEmpty) {
      return 'Field can\'t be empty';
    }
    return null;
  }

  // ...
}
</pre>
<p>ç”¨æˆ·ç•Œé¢çš„ä»£ç å¦‚ä¸‹:</p>
<pre class="language-dart hljs">class _AddPersonFormState extends State&lt;AddPersonForm&gt; {
  // ...

  @override
  Widget build(BuildContext context) {
    return Form(
      key: _personFormKey,
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          Text('Name'),
          TextFormField(
            controller: _nameController,
            validator: _fieldValidator,
          ),
          SizedBox(height: 24.0),
          Text('Home Country'),
          TextFormField(
            controller: _countryController,
            validator: _fieldValidator,
          ),
          Spacer(),
          Padding(
            padding: const EdgeInsets.fromLTRB(8.0, 0.0, 8.0, 24.0),
            child: Container(
              width: double.maxFinite,
              height: 50,
              child: ElevatedButton(
                onPressed: () {
                  if (_personFormKey.currentState!.validate()) {
                    _addInfo();
                    Navigator.of(context).pop();
                  }
                },
                child: Text('Add'),
              ),
            ),
          ),
        ],
      ),
    );
  }
}
</pre>
<h3><code>UpdateScreen</code>åœ¨èœ‚æˆ¿é‡Œ</h3>
<p><code>UpdateScreen</code>å°†ç±»ä¼¼äº<code>AddScreen</code>ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬å°†ä¼ é€’<code>Person</code>å¯¹è±¡æ¥æ˜¾ç¤ºæ–‡æœ¬å­—æ®µä¸­çš„å½“å‰å€¼ã€‚</p>
<p><img data-attachment-id="61840" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/update-screen-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page.png" data-orig-size="730,779" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="update-screen-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page-281x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page.png" decoding="async" class="aligncenter size-full wp-image-61840 jetpack-lazy-image" src="../Images/611573f562514a05ec64533791b95812.png" alt="The UpdateScreen" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page-281x300.png 281w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="61840" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/update-screen-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page.png" data-orig-size="730,779" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="update-screen-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page-281x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-61840" src="../Images/611573f562514a05ec64533791b95812.png" alt="The UpdateScreen" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page-281x300.png 281w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/update-screen-page.png"/></noscript>
<p>è¯¥å±å¹•çš„ä»£ç å°†æ˜¯:</p>
<pre class="language-dart hljs">class UpdateScreen extends StatefulWidget {
  final int index;
  final Person person;

  const UpdateScreen({
    required this.index,
    required this.person,
  });

  @override
  _UpdateScreenState createState() =&gt; _UpdateScreenState();
}

class _UpdateScreenState extends State&lt;UpdateScreen&gt; {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Colors.white,
      appBar: AppBar(
        title: Text('Update Info'),
      ),
      body: Padding(
        padding: const EdgeInsets.all(16.0),
        child: UpdatePersonForm(
          index: widget.index,
          person: widget.person,
        ),
      ),
    );
  }
}
</pre>
<p>åœ¨<code>UpdatePersonForm</code>å°éƒ¨ä»¶ä¸­å”¯ä¸€çš„ä¸åŒæ˜¯å®ƒå°†åŒ…å«ä¸€ä¸ªæ›´æ–° Hive æ•°æ®åº“ä¸­çš„å€¼çš„æ–¹æ³•ã€‚</p>
<pre class="language-dart hljs">class _UpdatePersonFormState extends State&lt;UpdatePersonForm&gt; {
  late final _nameController;
  late final _countryController;
  late final Box box;

  // ...

  // Update info of people box
  _updateInfo() {
    Person newPerson = Person(
      name: _nameController.text,
      country: _countryController.text,
    );
    box.putAt(widget.index, newPerson);
    print('Info updated in box!');
  }

  @override
  void initState() {
    super.initState();
    // Get reference to an already opened box
    box = Hive.box('peopleBox');
    // Show the current values
    _nameController = TextEditingController(text: widget.person.name);
    _countryController = TextEditingController(text: widget.person.country);
  }

  @override
  Widget build(BuildContext context) {
    return Form(
      // ...
    );
  }
}
</pre>
<h3><code>InfoScreen</code></h3>
<p><code>InfoScreen</code>å°†æ˜¾ç¤ºå­˜å‚¨åœ¨ Hive ä¸­çš„<code>Person</code>æ•°æ®ã€‚åŸºæœ¬ä¸Šï¼Œ<code>read</code>æ“ä½œå°†åœ¨è¿™é‡Œè¿›è¡Œã€‚</p>
<p><img data-attachment-id="61844" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/info-screen-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page.png" data-orig-size="730,779" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="info-screen-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page-281x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page.png" decoding="async" class="aligncenter size-full wp-image-61844 jetpack-lazy-image" src="../Images/beb09545b511de0c545bf5686fe70ee2.png" alt="The InfoScreen" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page-281x300.png 281w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="61844" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/info-screen-page/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page.png" data-orig-size="730,779" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="info-screen-page" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page-281x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-61844" src="../Images/beb09545b511de0c545bf5686fe70ee2.png" alt="The InfoScreen" srcset="https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page.png 730w, https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page-281x300.png 281w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/info-screen-page.png"/></noscript>
<p>Hive æä¾›äº†ä¸€ä¸ªåä¸º<code>ValueListenableBuilder</code>çš„å°éƒ¨ä»¶ï¼Œåªæœ‰å½“æ•°æ®åº“ä¸­çš„ä»»ä½•å€¼è¢«ä¿®æ”¹æ—¶æ‰ä¼šåˆ·æ–°ã€‚</p>
<p>è¯¥å±å¹•å°†åŒ…å«ä¸€äº›é™„åŠ åŠŸèƒ½:</p>
<ul>
<li>ç‚¹å‡»æ¯ä¸ªåˆ—è¡¨é¡¹æ—è¾¹çš„<strong>åˆ é™¤</strong>æŒ‰é’®å°†ä»æ•°æ®åº“ä¸­åˆ é™¤ç”¨æˆ·æ•°æ®</li>
<li>ç‚¹å‡»æ¯ä¸ªåˆ—è¡¨é¡¹å°†å¯¼èˆªè‡³<code>UpdateScreen</code></li>
<li>ç‚¹å‡»å³ä¸‹æ–¹çš„æµ®åŠ¨æ“ä½œæŒ‰é’®å°†å¸¦æ‚¨è¿›å…¥<code>AddScreen</code></li>
</ul>
<p>è¯¥å±å¹•çš„ä»£ç æ˜¯:</p>
<pre class="language-dart hljs">class InfoScreen extends StatefulWidget {
  @override
  _InfoScreenState createState() =&gt; _InfoScreenState();
}

class _InfoScreenState extends State&lt;InfoScreen&gt; {
  late final Box contactBox;

  // Delete info from people box
  _deleteInfo(int index) {
    contactBox.deleteAt(index);
    print('Item deleted from box at index: $index');
  }

  @override
  void initState() {
    super.initState();
    // Get reference to an already opened box
    contactBox = Hive.box('peopleBox');
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('People Info'),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: () =&gt; Navigator.of(context).push(
          MaterialPageRoute(
            builder: (context) =&gt; AddScreen(),
          ),
        ),
        child: Icon(Icons.add),
      ),
      body: ValueListenableBuilder(
        valueListenable: contactBox.listenable(),
        builder: (context, Box box, widget) {
          if (box.isEmpty) {
            return Center(
              child: Text('Empty'),
            );
          } else {
            return ListView.builder(
              itemCount: box.length,
              itemBuilder: (context, index) {
                var currentBox = box;
                var personData = currentBox.getAt(index)!;
                return InkWell(
                  onTap: () =&gt; Navigator.of(context).push(
                    MaterialPageRoute(
                      builder: (context) =&gt; UpdateScreen(
                        index: index,
                        person: personData,
                      ),
                    ),
                  ),
                  child: ListTile(
                    title: Text(personData.name),
                    subtitle: Text(personData.country),
                    trailing: IconButton(
                      onPressed: () =&gt; _deleteInfo(index),
                      icon: Icon(
                        Icons.delete,
                        color: Colors.red,
                      ),
                    ),
                  ),
                );
              },
            );
          }
        },
      ),
    );
  }
}
</pre>
<p>æ­å–œä½ ï¼ŒğŸ¥³ï¼Œä½ å·²ç»ä½¿ç”¨ Hive ä½œä¸ºæœ¬åœ°æŒä¹…æ•°æ®åº“å®Œæˆäº†ä½ çš„ Flutter åº”ç”¨ç¨‹åºã€‚</p>
<p>æœ€ç»ˆåº”ç”¨ç¨‹åºçš„æ¼”ç¤ºå¦‚ä¸‹æ‰€ç¤º:</p>
<p><img data-attachment-id="61851" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/flutter-hive-app-demo-final/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-hive-app-demo-final.gif" data-orig-size="730,772" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="flutter-hive-app-demo-final" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-hive-app-demo-final-284x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-hive-app-demo-final.gif" decoding="async" class="aligncenter size-full wp-image-61851 jetpack-lazy-image" src="../Images/a15e117037a0e8686f5290451ade4944.png" alt="Final demo of the Flutter app using Hive" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-hive-app-demo-final.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-hive-app-demo-final.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="61851" data-permalink="https://blog.logrocket.com/handling-local-data-persistence-flutter-hive/flutter-hive-app-demo-final/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-hive-app-demo-final.gif" data-orig-size="730,772" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="flutter-hive-app-demo-final" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-hive-app-demo-final-284x300.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-hive-app-demo-final.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-61851" src="../Images/a15e117037a0e8686f5290451ade4944.png" alt="Final demo of the Flutter app using Hive" data-original-src="https://blog.logrocket.com/wp-content/uploads/2021/08/flutter-hive-app-demo-final.gif"/></noscript>
<h2>ç»“è®º</h2>
<p>æœ¬æ–‡æ¶µç›–äº† Hive çš„å¤§éƒ¨åˆ†é‡è¦çš„åŸºæœ¬æ¦‚å¿µã€‚ä½¿ç”¨ Hive æ•°æ®åº“è¿˜å¯ä»¥åšä¸€äº›äº‹æƒ…ï¼ŒåŒ…æ‹¬å­˜å‚¨ç®€å•çš„å…³ç³»æ•°æ®ã€‚ä½¿ç”¨<a href="https://docs.hivedb.dev/#/custom-objects/relationships" target="_blank" rel="noopener"> HiveList </a>å¯ä»¥å¤„ç†æ•°æ®ä¹‹é—´çš„ç®€å•å…³ç³»ï¼Œä½†æ˜¯å¦‚æœä½ åœ¨ Hive ä¸­å­˜å‚¨ä»»ä½•æ•æ„Ÿæ•°æ®ï¼Œé‚£ä¹ˆä½ åº”è¯¥ä½¿ç”¨<a href="https://docs.hivedb.dev/#/advanced/encrypted_box" target="_blank" rel="noopener">åŠ å¯†ç›’</a>ã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼ŒHive æ˜¯ Flutter ä¸­æœ¬åœ°æ•°æ®æŒä¹…æ€§çš„æœ€ä½³é€‰æ‹©ä¹‹ä¸€ï¼Œç‰¹åˆ«æ˜¯è€ƒè™‘åˆ°å®ƒçš„é€Ÿåº¦éå¸¸å¿«ï¼Œè€Œä¸”<a href="https://blog.logrocket.com/achieving-responsive-design-flutter/" target="_blank" rel="noopener">å‡ ä¹æ”¯æŒæ‰€æœ‰å¹³å°</a>ã€‚</p>
<p>æ„Ÿè°¢æ‚¨é˜…è¯»æ–‡ç« ï¼å¦‚æœä½ å¯¹è¿™ç¯‡æ–‡ç« æˆ–ä¾‹å­æœ‰ä»»ä½•å»ºè®®æˆ–é—®é¢˜ï¼Œè¯·éšæ—¶é€šè¿‡<a href="https://twitter.com/sbis04" target="_blank" rel="noopener"> Twitter </a>æˆ–<a href="https://www.linkedin.com/in/sbis04/" target="_blank" rel="noopener"> LinkedIn </a>ä¸æˆ‘è”ç³»ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨æˆ‘çš„ GitHub ä¸Šæ‰¾åˆ°ç¤ºä¾‹åº”ç”¨<a href="https://github.com/sbis04/hive_demo" target="_blank" rel="noopener">çš„èµ„æºåº“ã€‚</a></p><div class="code-block code-block-1">
<div class="blog-plug base-cta"><h2>ä½¿ç”¨<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ¶ˆé™¤ä¼ ç»Ÿé”™è¯¯æŠ¥å‘Šçš„å¹²æ‰°</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ˜¯ä¸€ä¸ªæ•°å­—ä½“éªŒåˆ†æè§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªå‡é˜³æ€§é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å‡ ä¸ªçœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocket ä¼šå‘Šè¯‰æ‚¨åº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„ bug å’Œ UX é—®é¢˜ã€‚</p>
<p>ç„¶åï¼Œä½¿ç”¨å…·æœ‰æ·±å±‚æŠ€æœ¯é¥æµ‹çš„ä¼šè¯é‡æ”¾æ¥ç¡®åˆ‡åœ°æŸ¥çœ‹ç”¨æˆ·çœ‹åˆ°äº†ä»€ä¹ˆä»¥åŠæ˜¯ä»€ä¹ˆå¯¼è‡´äº†é—®é¢˜ï¼Œå°±åƒä½ åœ¨ä»–ä»¬èº«åçœ‹ä¸€æ ·ã€‚</p>
<p>LogRocket è‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€JS å¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶å LogRocket ä½¿ç”¨æœºå™¨å­¦ä¹ æ¥å‘Šè¯‰ä½ å“ªäº›é—®é¢˜æ­£åœ¨å½±å“å¤§å¤šæ•°ç”¨æˆ·ï¼Œå¹¶æä¾›ä½ éœ€è¦ä¿®å¤å®ƒçš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>å…³æ³¨é‡è¦çš„ bugâ€”<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">ä»Šå¤©å°±è¯•è¯• LogRocketã€‘ã€‚</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>