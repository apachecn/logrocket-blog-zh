<html>
<head>
<title>Editing GIFs in your Node.js project with canvas-gif </title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>ä½¿ç”¨canvas-gifç¼–è¾‘Node.jsé¡¹ç›®ä¸­çš„gif</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/#0001-01-01">https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/#0001-01-01</a></blockquote><div><article class="article-post">
<p>Canvas-gifæ˜¯åœ¨Node.jsé¡¹ç›®ä¸­è®¿é—®å’Œç¼–è¾‘gifæ¡†æ¶çš„ä¼˜ç§€å·¥å…·ï¼ŒåŒ…æ‹¬æ·»åŠ æ–‡æœ¬ã€è¿›ä¸€æ­¥åŠ¨ç”»å’Œç¼–è¾‘æ¡†æ¶ã€‚Canvas-gifåˆ©ç”¨äº†Canvasçš„æ‰€æœ‰è¶…èƒ½åŠ›ï¼Œå…è®¸ä½ æ“ä½œå›¾åƒçš„æ¯ä¸€éƒ¨åˆ†ï¼Œè€Œä¸ä»…ä»…æ˜¯ç»™æ¯ä¸ªgifæ¡†æ¶æ·»åŠ æ–‡æœ¬ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä¸ºæ‚¨çš„ä¸‹ä¸€ä¸ªNode.jsé¡¹ç›®ç¼–å†™ä¸€ä¸ªä½¿ç”¨canvas-gifè¯»å–å’Œç¼–è¾‘GIFçš„ç¤ºä¾‹ä»£ç ã€‚åœ¨å¼€å§‹ç¼–è¾‘gifä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»ç†Ÿæ‚‰äº†ä½¿ç”¨node-canvas åˆ›å»ºå’Œä¿å­˜å›¾åƒçš„<a href="https://blog.logrocket.com/creating-saving-images-node-canvas/" target="_blank" rel="noopener">ã€‚</a></p>
<p><em>å‘å‰è·³è½¬:</em></p>

<h2 id="getting-started-canvas-gif">å¼€å§‹ä½¿ç”¨canvas-gif</h2>
<p><a href="https://www.npmjs.com/package/canvas-gif" target="_blank" rel="noopener"> canvas-gif </a>åº“å…è®¸ä½ å°†è¾“å…¥çš„gifä½œä¸º<a href="https://blog.logrocket.com/node-js-buffer-complete-guide/" target="_blank" rel="noopener">ç¼“å†²åŒº</a>æ¥è¯»å–ï¼Œå¹¶å¯ä»¥é€‰æ‹©åˆå¹¶GIFã€‚ç„¶è€Œï¼Œå¦‚æœä½ æ‰“ç®—åˆå¹¶GIFï¼Œä½ éœ€è¦å®‰è£…<a href="https://imagemagick.org/script/download.php" target="_blank" rel="noopener"> ImageMagick </a>ã€‚</p>
<p>é¦–å…ˆï¼Œcanvas-gifå°†gifè§£ç æˆä¸€ä¸ª<code>UInt8Array(s)</code>å¹¶ä¸ºGIFè¿”å›çš„æ¯ä¸€å¸§åˆ›å»ºä¸€ä¸ªcanvaså®ä¾‹ã€‚ç„¶åï¼Œå®ƒå°†<code>UInt8Array</code>è½¬æ¢æˆç”»å¸ƒ<a href="https://developer.mozilla.org/en-US/docs/Web/API/ImageData" target="_blank" rel="noopener"> <code>ImageData</code> </a>ï¼Œå¹¶å°†å…¶æ”¾å…¥<a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D" target="_blank" rel="noopener"> <code>CanvasRenderingContext</code> </a>ã€‚ä»é‚£é‡Œï¼Œåº“å°†ä¸Šä¸‹æ–‡å’Œå…¶ä»–ç›¸å…³ä¿¡æ¯ä¼ é€’ç»™å‡½æ•°æ¥ç¼–è¾‘æ¡†æ¶ã€‚</p>
<p>ç„¶åï¼Œè¯¥åº“å°†å¤„ç†ä¸Šä¸‹æ–‡ï¼Œå¹¶å°†æ–°ç¼–è¾‘çš„å¸§çš„ä¸Šä¸‹æ–‡æ·»åŠ åˆ°ç¼–ç å™¨ä¸­ã€‚æœ€åï¼Œcanvas-gifå°†è¿”å›ç¼–ç å™¨çš„æ•°æ®ä½œä¸ºç¼“å†²åŒºï¼Œæˆ‘ä»¬å°†æŠŠå®ƒå†™å…¥ä¸€ä¸ªgifæ–‡ä»¶ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»ä»‹ç»äº†èƒŒæ™¯çŸ¥è¯†ï¼Œè®©æˆ‘ä»¬å¼€å§‹ç€æ‰‹å»ºç«‹ä¸€ä¸ªé¡¹ç›®ï¼Œæ¢ç´¢ä¸€ä¸ªå®é™…çš„ä¾‹å­ã€‚</p>
<h2 id="project-setup">é¡¹ç›®è®¾ç½®</h2>
<p>ä½ éœ€è¦å®‰è£…<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener"> Node.js </a>å’Œ<a href="http://npmjs.com/package/npm" target="_blank" rel="noopener"> npm </a>æ¥å¤„ç†canvas-gifã€‚</p>
<p>ä¸ºé¡¹ç›®åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œåˆå§‹åŒ–Node.jsé¡¹ç›®ï¼Œå¹¶ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…<code>canvas-gif</code> npmåº“:</p>
<pre class="language-bash hljs">mkdir edit-gif &amp;&amp; cd edit-gif &amp;&amp; npm init -y &amp;&amp; npm install canvas-gif
</pre>
<p>ä¸‹é¢æ˜¯è¿è¡Œä»£ç æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆçš„ç¤ºä¾‹:</p>
<p><img data-attachment-id="137739" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/editing-gifs-node-js-example-code/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code.png" data-orig-size="730,517" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Code for editing GIFs in Node.js projects using canvas-gif" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code-300x212.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code.png" decoding="async" class="aligncenter size-full wp-image-137739 jetpack-lazy-image" src="../Images/be8c92369660939993fd363f1ab09aed.png" alt="Code for Editing GIFs in Node.js Projects Using canvas-gif" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code-300x212.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137739" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/editing-gifs-node-js-example-code/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code.png" data-orig-size="730,517" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Code for editing GIFs in Node.js projects using canvas-gif" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code-300x212.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137739" src="../Images/be8c92369660939993fd363f1ab09aed.png" alt="Code for Editing GIFs in Node.js Projects Using canvas-gif" srcset="https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code-300x212.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/editing-gifs-node-js-example-code.png"/></noscript>
<p>è®¾ç½®å’Œå®‰è£…å®Œæˆåï¼Œä¸‹è½½ä¸€ä¸ªGIFæ–‡ä»¶å¹¶æ”¾åœ¨æ ¹ç›®å½•ä¸‹ã€‚å¯¹äºæœ¬æ–‡ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è¿™å¼ <a href="https://c.tenor.com/1HnbW0C8O_0AAAAC/mr-rogers-nightmare.gif" target="_blank" rel="noopener"> GIF </a>:</p>
<p><img data-attachment-id="137847" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/gif-node-js-project-start-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/gif-node-js-project-start-1.gif" data-orig-size="720,540" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GIF to start editing using canvas-gif for a Node.js project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/gif-node-js-project-start-1-300x225.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/gif-node-js-project-start-1.gif" decoding="async" class="aligncenter wp-image-137847 size-full jetpack-lazy-image" src="../Images/4be995e6911c75bfce6ac5a58e283c78.png" alt="GIF to Start Editing Using Canvas-gif for a Node.js Project" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/gif-node-js-project-start-1.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/gif-node-js-project-start-1.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137847" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/gif-node-js-project-start-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/gif-node-js-project-start-1.gif" data-orig-size="720,540" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GIF to start editing using canvas-gif for a Node.js project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/gif-node-js-project-start-1-300x225.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/gif-node-js-project-start-1.gif" decoding="async" loading="lazy" class="aligncenter wp-image-137847 size-full" src="../Images/4be995e6911c75bfce6ac5a58e283c78.png" alt="GIF to Start Editing Using Canvas-gif for a Node.js Project" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/gif-node-js-project-start-1.gif"/></noscript>
<p>æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ª<code>app.js</code>æ–‡ä»¶ï¼Œå¹¶å‘å…¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹:</p>
<pre class="language-javascript hljs">const canvasGif = require("canvas-gif");
const fs = require("fs");

canvasGif(path.join(__dirname, "mr-rogers-nightmare.gif"), callBack, options)
  .then((buffer) =&gt;
    fs.writeFileSync(path.resolve(__dirname, "output1.gif"), buffer)
  )
  .catch((error) =&gt; {
    console.log(error);
  });
</pre>
<p>è¿™é‡Œï¼Œ<code>canvasGif</code>å…¬å¼€äº†<code>callBack</code>å‡½æ•°æ¥æ¥å—GIFæ–‡ä»¶è·¯å¾„ï¼Œå¹¶éœ€è¦ç¬¬ä¸‰ä¸ªå¯é€‰çš„é…ç½®å‚æ•°ã€‚ä¸ç”¨æ‹…å¿ƒï¼›æˆ‘ä»¬å°†å¾ˆå¿«ç ”ç©¶å¦‚ä½•å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚</p>
<h2 id="using-callback-function-canvas-gif">ä½¿ç”¨canvas-gifçš„<code>callBack</code>å‡½æ•°</h2>
<p>ä½œä¸ºç”»å¸ƒAPIçš„ä¸€éƒ¨åˆ†ï¼Œå…è®¸æ‚¨ä¿®æ”¹æ¡†æ¶çš„ä¸Šä¸‹æ–‡ã€‚åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥æ¸²æŸ“2Dç»˜å›¾ï¼Œç»˜åˆ¶å½¢çŠ¶ï¼Œåˆ›å»ºå›¾åƒï¼Œæ–‡æœ¬ï¼Œç­‰ç­‰ã€‚æˆ‘ä»¬å°†åˆ©ç”¨è¿™ä¸ªAPIæ¥ä¿®æ”¹GIFã€‚</p>
<p>åœ¨ä¸‹é¢è¾“å…¥å‡½æ•°å®šä¹‰:</p>
<pre class="language-javascript hljs">const callBack = (context, width, height, totalFrames, currentFrame) =&gt; {
};
</pre>
<p>å¦‚æ‚¨æ‰€è§ï¼Œ<code>callBack</code>æ¥å—ä¸€ä¸ª<code>context</code>ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåé¢æ˜¯<code>width</code>ã€<code>height</code>ã€<code>totalFrames</code>å’Œ<code>currentFrame</code>ï¼Œå¦‚ä¸Šé¢çš„ä»£ç æ‰€ç¤ºã€‚</p>
<h2 id="editing-gifs-canvas-gif">ç¼–è¾‘å’Œæ·»åŠ æ–‡æœ¬åˆ°æˆ‘ä»¬çš„Node.js GIF</h2>
<p>ä¸ºäº†ç»™æ¯ä¸ªæ¡†æ¶æ·»åŠ æ–‡æœ¬ï¼Œæˆ‘ä»¬å°†é€šè¿‡è¾“å…¥ä»¥ä¸‹ä»£ç æ¥ä¿®æ”¹ä¸Šä¸‹æ–‡:</p>
<pre class="language-javascript hljs">const callBack = (context, width, height, totalFrames, currentFrame) =&gt; {
// Edit the frame
  context.fillStyle = "#FFA500";
  context.font = '30px "Fira Code Retina"';
  context.fillText("Edited by Eze!", 40, 80);
}; 
</pre>
<p>å½“æ‚¨å°†<code>callBack</code>ä¼ é€’ç»™<code>canvasGif</code>æ—¶ï¼Œå®ƒå°†æ“ä½œGIFå¸§å¹¶æ·»åŠ <code>text</code>ã€<code>font</code>ã€<code>color</code>å’Œå­—ä½“ç³»åˆ—ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å½“å‰çš„ä»£ç å°†å¦‚ä¸‹æ‰€ç¤º:</p>
<pre class="language-javascript hljs">const canvasGif = require("canvas-gif");
const fs = require("fs");

const callBack = (context, width, height, totalFrames, currentFrame) =&gt; {
// Edit the frame
  context.fillStyle = "#FFA500";
  context.font = '30px "Fira Code Retina"';
  context.fillText("Edited by Eze!", 40, 80);
}; 
const options = {}

canvasGif(path.join(__dirname, "mr-rogers-nightmare.gif"), callBack, options)
  .then((buffer) =&gt;
    fs.writeFileSync(path.resolve(__dirname, "output1.gif"), buffer)
  )
  .catch((error) =&gt; {
    console.log(error);
  });
</pre>
<p>ç„¶åï¼Œå½“æˆ‘ä»¬è¿è¡Œå®ƒæ—¶ï¼Œæˆ‘ä»¬å°†å¾—åˆ°è¿™æ ·çš„è¾“å‡º:</p>
<p><img data-attachment-id="137845" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/canvas-gif-edited-node-js-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/canvas-gif-edited-node-js-project.gif" data-orig-size="720,540" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Canvas-gif edited GIF in the Node.js project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/canvas-gif-edited-node-js-project-300x225.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/canvas-gif-edited-node-js-project.gif" decoding="async" class="aligncenter size-full wp-image-137845 jetpack-lazy-image" src="../Images/4220c659ef234b525aa9b6e64ad77bc8.png" alt="Canvas-gif Edited GIF in the Node.js Project" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/canvas-gif-edited-node-js-project.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/canvas-gif-edited-node-js-project.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137845" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/canvas-gif-edited-node-js-project/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/canvas-gif-edited-node-js-project.gif" data-orig-size="720,540" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Canvas-gif edited GIF in the Node.js project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/canvas-gif-edited-node-js-project-300x225.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/canvas-gif-edited-node-js-project.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137845" src="../Images/4220c659ef234b525aa9b6e64ad77bc8.png" alt="Canvas-gif Edited GIF in the Node.js Project" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/canvas-gif-edited-node-js-project.gif"/></noscript>
<h3 id="using-configurations-canvas-gif">ä½¿ç”¨canvas-gifä¸­çš„é…ç½®</h3>
<p>æ–‡å­—åœ¨GIFé‡Œï¼Œä½†æ˜¯GIFæ¸²æŸ“å¤ªå¿«äº†å§ï¼Ÿè¿™æ˜¯å› ä¸ºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œcanvas-gifæ¯ç§’æ¸²æŸ“60å¸§(fps)ã€‚ä¸ºäº†é™ä½é€Ÿåº¦ï¼Œè®©æˆ‘ä»¬åœ¨é€‰é¡¹å‚æ•°ä¸­ç¼–è¾‘fpsï¼Œå¹¶é€šè¿‡æ·»åŠ ä¸€ä¸ªå€¼ä¸º<code>20</code>çš„é”®<code>fps</code>å°†å…¶é™ä½åˆ°20fps:</p>
<pre class="language-javascript hljs">let options = {
  fps: 20
};
</pre>
<p>å½“æˆ‘ä»¬é‡æ–°è¿è¡Œè„šæœ¬æ—¶ï¼Œä¼šå¾—åˆ°ä»¥ä¸‹ç»“æœ:</p>
<p><img data-attachment-id="137810" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/rerun-edited-gif-canvas-gif-node-js/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/rerun-edited-gif-canvas-gif-node-js.gif" data-orig-size="720,540" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Rerun of the edited GIF using canvas-gif in a Node.js project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/rerun-edited-gif-canvas-gif-node-js-300x225.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/rerun-edited-gif-canvas-gif-node-js.gif" decoding="async" class="aligncenter size-full wp-image-137810 jetpack-lazy-image" src="../Images/31f2a74af10a4c990ab2960ae84a0e3b.png" alt="Rerun of the Edited GIF Using Canvas-gif in a Node.js Project" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/rerun-edited-gif-canvas-gif-node-js.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/rerun-edited-gif-canvas-gif-node-js.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137810" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/rerun-edited-gif-canvas-gif-node-js/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/rerun-edited-gif-canvas-gif-node-js.gif" data-orig-size="720,540" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Rerun of the edited GIF using canvas-gif in a Node.js project" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/rerun-edited-gif-canvas-gif-node-js-300x225.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/rerun-edited-gif-canvas-gif-node-js.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137810" src="../Images/31f2a74af10a4c990ab2960ae84a0e3b.png" alt="Rerun of the Edited GIF Using Canvas-gif in a Node.js Project" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/rerun-edited-gif-canvas-gif-node-js.gif"/></noscript>
<p>è¿™è¦æ…¢å¾—å¤šï¼Œå¹¶ä¸”ç±»ä¼¼äºåŸå§‹çš„GIFğŸ™‚ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥æ·»åŠ æ›´å¤šçš„é…ç½®ï¼Œå¦‚å¾ªç¯GIFæˆ–è®¾ç½®åœæ­¢ç‚¹ã€‚</p>
<p>ä»¥ä¸‹æ˜¯é…ç½®æ¨¡æ¿ç¤ºä¾‹:</p>
<pre class="language-javascript hljs">let options = {
   coalesce: false,
   delay: 0, 
   repeat: 0, 
   algorithm: "neuquant",
   optimiser: true,
   fps: 20, 
   quality: 100, 
};
</pre>
<p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹æ¯ç§é…ç½®:</p>
<ul>
<li><code>delay</code>:ä»¥æ¯«ç§’ä¸ºå•ä½è®¾ç½®æ¯å¸§ä¹‹é—´çš„å»¶è¿Ÿï¼Œé»˜è®¤ä¸º<code>0</code></li>
<li><code>repeat</code>:æè¿°GIFåº”è¯¥é‡å¤å¤šå°‘æ¬¡ï¼Œé»˜è®¤ä¸º<code>0</code>ï¼Œæ— é™è¿è¡ŒGIF</li>
<li><code>algorithm</code>:å®šä¹‰ç¼–ç å™¨åº”è¯¥ä½¿ç”¨å“ªç§ç®—æ³•ä½œä¸º<code>neuquant</code>ï¼Œä½†å¯ä»¥è®¾ç½®ä¸º<code>octree</code>ã€‚è™½ç„¶<code>octree</code>å¯èƒ½ä¼šå¢åŠ å¤„ç†æ—¶é—´ï¼Œä½†å®ƒå¯ä»¥å‡å°æ–‡ä»¶å¤§å°</li>
<li><code>optimiser</code>:å‘Šè¯‰ç¼–ç å™¨æ˜¯å¦ä½¿ç”¨å†…ç½®ä¼˜åŒ–å™¨ï¼Œé»˜è®¤ä¸º<code>false</code></li>
<li><code>fps</code>:æè¿°æ¯ç§’æ¸²æŸ“çš„å¸§æ•°ï¼Œé»˜è®¤å€¼ä¸º60fps</li>
<li><code>quality</code>:è®¾ç½®GIFçš„è´¨é‡ï¼Œä»1åˆ°100ã€‚æ•°å­—è¶Šé«˜ï¼Œè´¨é‡è¶Šå¥½ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒè®¾ç½®ä¸º<code>100</code></li>
<li><code>coalesce</code>:è¿™å…è®¸ä½ åˆå¹¶GIFï¼Œé»˜è®¤ä¸º<code>false</code></li>
</ul>
<h3 id="adding-context-drawing">æ·»åŠ ä¸Šä¸‹æ–‡ç»˜å›¾</h3>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ç¼–è¾‘äº†æˆ‘ä»¬çš„GIFï¼Œå¹¶ä¸ºæ¯ä¸€å¸§æ·»åŠ äº†æ–‡æœ¬ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ï¼ŒåŒ…æ‹¬ç»˜åˆ¶å½¢çŠ¶ã€æ“ä½œåƒç´ å’Œåˆæˆã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¿™æ˜¯å¦ä¸€ä¸ªå‘ˆç°ç¬‘è„¸çš„ä¸Šä¸‹æ–‡ç»˜å›¾:</p>
<pre class="language-javascript hljs">const canvasGif = require("canvas-gif");
const fs = require("fs");

const callBack = (context, width, height, totalFrames, currentFrame) =&gt; {
// Edit the frame
  context.fillStyle = '#FFA500';
  context.strokeStyle = 'black';
  context.lineWidth = 5;
  context.beginPath();
  context.arc(80, 60, 50, 0, 2 * Math.PI);
  context.fill();
  context.stroke();
  context.closePath();
  //eyes
  context.fillStyle = 'white';
  context.beginPath();
  context.arc(67, 43.75, 7.5, 0, 2 * Math.PI);
  context.fill();
  context.stroke();
  context.closePath();
  context.beginPath();
  context.arc(92.5, 43.75, 7.5, 0, 2 * Math.PI);
  context.fill();
  context.stroke();
  context.closePath();
  //mouth
  context.strokeStyle = 'magenta';
  context.lineWidth = 5;
  context.beginPath();
  context.arc(80, 60, 37.5, 0, -1 * Math.PI);
  context.stroke();
  context.closePath();

}; 

let options = {
   coalesce: false,
   delay: 0, 
   repeat: 0, 
   algorithm: "neuquant",
   optimiser: true,
   fps: 20, 
   quality: 100, 
};

canvasGif(path.join(__dirname, "mr-rogers-nightmare.gif"), callBack, options)
  .then((buffer) =&gt;
    fs.writeFileSync(path.resolve(__dirname, "output1.gif"), buffer)
  )
  .catch((error) =&gt; {
    console.log(error);
  });
</pre>
<p>è¿™æ˜¯æœ€ç»ˆäº§å“:</p>
<p><img data-attachment-id="137801" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/edited-canvas-gif-context-image/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/edited-canvas-gif-context-image.gif" data-orig-size="700,525" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Example of context image edited canvas-gif in Node.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/edited-canvas-gif-context-image-300x225.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/edited-canvas-gif-context-image.gif" decoding="async" class="aligncenter size-full wp-image-137801 jetpack-lazy-image" src="../Images/0254741f06a2acd494eae234edbd2952.png" alt="Example of Context Image Edited Canvas-gif in Node.js" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/edited-canvas-gif-context-image.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/edited-canvas-gif-context-image.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137801" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/edited-canvas-gif-context-image/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/edited-canvas-gif-context-image.gif" data-orig-size="700,525" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Example of context image edited canvas-gif in Node.js" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/edited-canvas-gif-context-image-300x225.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/edited-canvas-gif-context-image.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137801" src="../Images/0254741f06a2acd494eae234edbd2952.png" alt="Example of Context Image Edited Canvas-gif in Node.js" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/edited-canvas-gif-context-image.gif"/></noscript>
<h2 id="alternatives-canvas-gif">ç”»å¸ƒçš„æ›¿ä»£å“-gif</h2>
<p>è™½ç„¶æœ‰canvas-gifçš„æ›¿ä»£æ–¹æ¡ˆï¼Œæ¯”å¦‚<a href="https://www.npmjs.com/package/jimp" target="_blank" rel="noopener"> jimp </a>ã€<a href="https://www.npmjs.com/package/gifwrap" target="_blank" rel="noopener"> gifwrap </a>å’Œ<a href="https://www.npmjs.com/package/text-on-gif" target="_blank" rel="noopener"> text-on-gif </a>ï¼Œä½†æ˜¯å®ƒä»¬å¹¶æ²¡æœ‰ç›´æ¥è§£å†³canvas-gifçš„é—®é¢˜ã€‚</p>
<ul>
<li>Jimpæ˜¯ä¸€ä¸ªJavaScriptåº“ï¼Œå…è®¸æ‚¨åœ¨ä»£ç ä¸­æ“ä½œå›¾åƒã€‚ä½¿ç”¨jimpï¼Œæ‚¨å¯ä»¥è°ƒæ•´å¤§å°ã€å¢åŠ äº®åº¦ã€ç¿»è½¬ã€è£å‰ªï¼Œç”šè‡³å¢åŠ å›¾åƒçš„ä¸é€æ˜åº¦</li>
<li>Gifwrapæ˜¯ä¸€ä¸ªNode.js jimpå¯å‹ç¼©åº“ï¼Œç”¨äºå¤„ç†gifã€‚ä½¿ç”¨gifwrapï¼Œæ‚¨å¯ä»¥åˆ›å»ºgifå¹¶å°†å…¶è¯»å…¥å†…éƒ¨è¡¨ç¤ºï¼Œä»¥å¤‡æ“ä½œ</li>
<li>Text-on-gifæ˜¯å¦ä¸€ä¸ªå…è®¸ä½ ç¼–è¾‘gifçš„åº“ï¼Œä½†æ˜¯å®ƒçš„é‡ç‚¹æ˜¯æ“çºµgifæ¥æ·»åŠ æ–‡æœ¬</li>
</ul>
<h3 id="gifwrap-jimp">ä½¿ç”¨gifwrapå’Œè·³è½¬</h3>
<p>ä¸ºäº†å®ç°ç±»ä¼¼äºcanvas-gifçš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¿…é¡»ç»“åˆjimpå’Œgifwrapçš„åŠŸèƒ½ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•ä½¿ç”¨è¿™ä¸¤ä¸ªå·¥å…·é€šè¿‡åœ¨GIFä¸Šæ”¾ç½®æ–‡æœ¬æ¥ä¿®æ”¹GIF:</p>
<pre class="language-javascript hljs">const { GifUtil, GifFrame, BitmapImage } = require("gifwrap");
const Jimp = require("jimp");
async function editGif() {
  var frames = [];
  let font = await Jimp.loadFont(Jimp.FONT_SANS_32_WHITE);
  let readGif = await GifUtil.read("mr-rogers-nightmare.gif");

  for (const frame of readGif.frames) {
    let jimpCopied = GifUtil.copyAsJimp(Jimp, frame);

    jimpCopied.print(font, 10, 0, "LogRocket");

    const modifiedFrame = new GifFrame(
      new BitmapImage(jimpCopied.bitmap, {
        disposalMethod: frame.disposalMethod,
        delayCentisecs: frame.delayCentisecs,
      })
    );

    frames.push(modifiedFrame);
  }

  GifUtil.quantizeDekker(frames);
  GifUtil.write("modified.gif", frames);
}
editGif()
</pre>
<p>åœ¨<code>let readGif = await GifUtil.read("mr-rogers-nightmare.gif");</code>ä¸­ï¼Œæˆ‘ä»¬ç”¨gifwrapå°†GIFè¯»å…¥å†…å­˜ï¼Œç„¶åé€šè¿‡å¸§å¾ªç¯ä½¿ç”¨jimpæ¥åˆ›å»º<code>jimpCopied.print(font, 10, 0, "LogRocket");</code>ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬æ ¹æ®ç‰¹å®šæ¡†æ¶ä¸­çš„æ–‡æœ¬å’Œå›¾åƒåˆ¶ä½œäº†ä¸€ä¸ªæ–°æ¡†æ¶ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬å°†æ‰€æœ‰æ–°çš„å¸§æ”¾å…¥framesæ•°ç»„æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼–è¾‘è¿‡çš„GIFã€‚</p>
<p>è¿™æ˜¯æ‚¨è¿è¡Œä»£ç æ—¶å°†å¾—åˆ°çš„ç»“æœ:</p>
<p><img data-attachment-id="137813" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/gifwrap-jimp-gif-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/gifwrap-jimp-gif-example.gif" data-orig-size="720,540" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Example of a GIF created using gifwrap and jimp" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/gifwrap-jimp-gif-example-300x225.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/gifwrap-jimp-gif-example.gif" decoding="async" class="aligncenter size-full wp-image-137813 jetpack-lazy-image" src="../Images/43da8f0364ae2e7c0f427a0d2aaa980b.png" alt="Example of a GIF Created Using gifwrap and jimp" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/gifwrap-jimp-gif-example.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/gifwrap-jimp-gif-example.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137813" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/gifwrap-jimp-gif-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/gifwrap-jimp-gif-example.gif" data-orig-size="720,540" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Example of a GIF created using gifwrap and jimp" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/gifwrap-jimp-gif-example-300x225.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/gifwrap-jimp-gif-example.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137813" src="../Images/43da8f0364ae2e7c0f427a0d2aaa980b.png" alt="Example of a GIF Created Using gifwrap and jimp" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/gifwrap-jimp-gif-example.gif"/></noscript>
<p>è™½ç„¶è¿™ä¸ªè¿‡ç¨‹æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯å®ƒæœ‰æ€§èƒ½é—®é¢˜ï¼Œè€Œä¸”é€Ÿåº¦å¤ªæ…¢ã€‚Canvas-gifä¿®æ”¹ä¸€ä¸ªgifå¤§æ¦‚éœ€è¦ä¸‰ç§’ï¼Œä½†æ˜¯ç”¨gifwrapå’Œjimpæ“ä½œåŒä¸€ä¸ªGIFéœ€è¦21ç§’ã€‚</p>
<p>è¿™ç§åŒºåˆ«æ˜¯å› ä¸ºgifwrapæ˜¯åŸºäºç°æœ‰çš„GIFç”Ÿæˆä¸€ä¸ªæ–°çš„GIFï¼Œè€Œcanvas-gifæ˜¯ç›´æ¥ä¿®æ”¹æ¡†æ¶ã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œ<code>Canvas-gif</code>å®ç°æ¯”<code>Gifwrap</code>å’Œ<code>Jimp</code>å®ç°çš„æ‰§è¡Œæ•ˆç‡æ›´é«˜ã€‚</p>
<h3 id="text-on-gif">Node.jsä¸­ä½¿ç”¨text-on-gif</h3>
<p>å°½ç®¡text-on-gifå¾ˆç®€å•ï¼Œä½†å®ƒä¸»è¦æ˜¯å¤„ç†gifï¼Œåªæ·»åŠ æ–‡æœ¬ã€‚ä¸åˆ©ç”¨canvasç‰¹æ€§çš„canvas-gifä¸åŒï¼Œtext-on-gifä¸èƒ½å¤„ç†å›¾åƒçš„æ¯ä¸€éƒ¨åˆ†ï¼Œåªèƒ½å‘æ¯ä¸ªgifæ¡†æ¶æ·»åŠ æ–‡æœ¬ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªæ¥è‡ª<a href="https://github.com/sanidhya711/text-on-gif" target="_blank" rel="noopener">æ–‡æ¡£</a>çš„ä¾‹å­:</p>
<pre class="language-javascript hljs">const TextOnGif = require("text-on-gif");
const generate = async ()=&gt;{

  var gif = new TextOnGif({
    file_path: "mr-rogers-nightmare.gif"
  });

  gif.font_color = "orange";
  gif.font_size = "30px";

  var buffer = await gif.textOnGif({
    text: "Made with Love ",
    write_path: "mrroger.gif"
  });
}
generate()
</pre>
<p>ä¸Šé¢çš„ä»£ç å°†ç”Ÿæˆè¿™ä¸ªGIF:</p>
<p><img data-attachment-id="137815" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/text-on-gif-edited-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/text-on-gif-edited-example.gif" data-orig-size="720,540" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GIF edited using text-on-gif" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/text-on-gif-edited-example-300x225.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/text-on-gif-edited-example.gif" decoding="async" class="aligncenter size-full wp-image-137815 jetpack-lazy-image" src="../Images/d2b12ccf72297bda69e6155d308060ab.png" alt="GIF Edited Using Text-on-gif" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/10/text-on-gif-edited-example.gif?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/text-on-gif-edited-example.gif"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="137815" data-permalink="https://blog.logrocket.com/editing-gifs-node-js-project-canvas-gif/attachment/text-on-gif-edited-example/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/10/text-on-gif-edited-example.gif" data-orig-size="720,540" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GIF edited using text-on-gif" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/10/text-on-gif-edited-example-300x225.gif" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/10/text-on-gif-edited-example.gif" decoding="async" loading="lazy" class="aligncenter size-full wp-image-137815" src="../Images/d2b12ccf72297bda69e6155d308060ab.png" alt="GIF Edited Using Text-on-gif" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/10/text-on-gif-edited-example.gif"/></noscript>
<h2>ç»“è®º</h2>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨canvas-gifç¼–è¾‘gifåŠ¨ç”»å¹¶æ·»åŠ å½¢çŠ¶ã€æ–‡æœ¬æˆ–å›¾åƒã€‚å› ä¸ºä½ å¯ä»¥ç”¨canvas-gifåšçš„å¤§éƒ¨åˆ†äº‹æƒ…å–å†³äºcanvas APIï¼Œæˆ‘é¼“åŠ±ä½ åœ¨<a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" target="_blank" rel="noopener"> MN </a>å’Œ<a href="https://www.npmjs.com/package/canvas" target="_blank" rel="noopener"> Node-canvas </a>æ–‡æ¡£ä¸­å­¦ä¹ æ›´å¤šå…³äºCanvas APIçš„çŸ¥è¯†ã€‚</p>
<p>é»‘å®¢å¿«ä¹ï¼</p><div class="code-block code-block-23">
<div class="blog-plug inline-plug node-plug"><h2>200åª<img src="../Images/61167b9d027ca73ed5aaf59a9ec31267.png" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/10/green-check.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/green-check.png"/> <noscript> <img data-lazy-fallback="1" src="../Images/61167b9d027ca73ed5aaf59a9ec31267.png" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/10/green-check.png"/> </noscript>æ˜¾ç¤ºå™¨å‡ºç°æ•…éšœï¼Œç”Ÿäº§ä¸­ç½‘ç»œè¯·æ±‚ç¼“æ…¢</h2><p>éƒ¨ç½²åŸºäºèŠ‚ç‚¹çš„webåº”ç”¨ç¨‹åºæˆ–ç½‘ç«™æ˜¯å®¹æ˜“çš„éƒ¨åˆ†ã€‚ç¡®ä¿æ‚¨çš„èŠ‚ç‚¹å®ä¾‹ç»§ç»­ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºæä¾›èµ„æºæ˜¯äº‹æƒ…å˜å¾—æ›´åŠ å›°éš¾çš„åœ°æ–¹ã€‚å¦‚æœæ‚¨å¯¹ç¡®ä¿å¯¹åç«¯æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡çš„è¯·æ±‚æˆåŠŸæ„Ÿå…´è¶£ï¼Œ</p><a href="https://lp.logrocket.com/blg/node-signup" target="_blank">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/node-signup" target="_blank" rel="noopener noreferrer"><img src="../Images/cae72fd2a54c5f02a6398c4867894844.png" alt="LogRocket Network Request Monitoring" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2019/12/network-request-filter-2-1.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class=" jetpack-lazy-image" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/network-request-filter-2-1.png"/><noscript><img data-lazy-fallback="1" src="../Images/cae72fd2a54c5f02a6398c4867894844.png" alt="LogRocket Network Request Monitoring" data-original-src="https://blog.logrocket.com/wp-content/uploads/2019/12/network-request-filter-2-1.png"/></noscript></a><a href="https://lp.logrocket.com/blg/node-signup" target="_blank" rel="noopener noreferrer">https://logrocket.com/signup/</a><p>LogRocket å°±åƒæ˜¯ç½‘ç»œå’Œç§»åŠ¨åº”ç”¨ç¨‹åºçš„DVRï¼Œè®°å½•ä¸‹ç”¨æˆ·ä¸ä½ çš„åº”ç”¨ç¨‹åºäº¤äº’æ—¶å‘ç”Ÿçš„ä¸€åˆ‡ã€‚æ‚¨å¯ä»¥æ±‡æ€»å¹¶æŠ¥å‘Šæœ‰é—®é¢˜çš„ç½‘ç»œè¯·æ±‚ï¼Œä»¥å¿«é€Ÿäº†è§£æ ¹æœ¬åŸå› ï¼Œè€Œä¸æ˜¯çŒœæµ‹é—®é¢˜å‘ç”Ÿçš„åŸå› ã€‚</p><p>LogRocketæ£€æµ‹æ‚¨çš„åº”ç”¨ç¨‹åºä»¥è®°å½•åŸºçº¿æ€§èƒ½è®¡æ—¶ï¼Œå¦‚é¡µé¢åŠ è½½æ—¶é—´ã€åˆ°è¾¾ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æ—¶é—´ã€æ…¢é€Ÿç½‘ç»œè¯·æ±‚ï¼Œè¿˜è®°å½•Reduxã€NgRxå’ŒVuexæ“ä½œ/çŠ¶æ€ã€‚</p><a class="signup" href="https://lp.logrocket.com/blg/node-signup" target="_blank" rel="noopener noreferrer">Start monitoring for free</a><p>. </p></div>
</div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>