# å¦‚ä½•ä½¿ç”¨ Go é¢‘é“- LogRocket åšå®¢

> åŸæ–‡ï¼š<https://blog.logrocket.com/how-use-go-channels/>

Go é€šé“æ˜¯ä¸€ç§å…è®¸ Goroutines äº¤æ¢æ•°æ®çš„é€šä¿¡æœºåˆ¶ã€‚å½“å¼€å‘äººå‘˜åŒæ—¶è¿è¡Œè®¸å¤š Goroutines æ—¶ï¼Œé€šé“æ˜¯ç›¸äº’é€šä¿¡çš„æœ€æ–¹ä¾¿çš„æ–¹å¼ã€‚

å¼€å‘äººå‘˜é€šå¸¸ä½¿ç”¨è¿™äº›é€šé“æ¥é€šçŸ¥å’Œç®¡ç†åº”ç”¨ç¨‹åºä¸­çš„å¹¶å‘æ€§ã€‚

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®º Go é€šé“çš„ä¸€èˆ¬ç”¨æ³•ï¼ŒåŒ…æ‹¬å¦‚ä½•å†™å…¥å’Œè¯»å–é€šé“ï¼Œå¦‚ä½•ä½¿ç”¨é€šé“ä½œä¸ºå‡½æ•°å‚æ•°ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ range æ¥è¿­ä»£å®ƒä»¬ã€‚

## åˆ›å»º Go æ¸ é“ç»“æ„

é¦–å…ˆï¼Œè®©æˆ‘ä»¬[ä½¿ç”¨`make`å‡½æ•°åœ¨ Go](https://blog.logrocket.com/getting-started-with-go-for-frontend-developers/) ä¸­åˆ›å»ºä¸€ä¸ªé€šé“:

```
// for example if channel created using following : 
ch := make(chan string)

// this is the basic structure of channels 
type hchan struct {
  qcount uint   // total data in the queue
  dataqsiz uint  // size of the circular queue 
  buf  unsafe.Pointer // pointer to an array of dataqsiz elements
  elementSize uint16 
  closed uint32 
  sendx  uint // send index 
  recvx  uint // receive index 
  recvq waitq // list of receive queue 
  sendq  waitq // list of send queue 
  lock mutex // lock protects all fields in hchan, as well as several
}

```

## Go é¢‘é“ç”¨é€”

åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å›é¡¾ Go æ¸ é“çš„ç”¨é€”ä»¥åŠå®ƒä»¬å¦‚ä½•æœ‰åˆ©äºåº”ç”¨ç¨‹åºå¼€å‘ã€‚

### ä½¿ç”¨ Go æ¸ é“ä½œä¸ºæœªæ¥å’Œæ‰¿è¯º

å¼€å‘äººå‘˜ç»å¸¸åœ¨ Go ä¸­ä½¿ç”¨æœªæ¥å’Œæ‰¿è¯ºæ¥è¯·æ±‚å’Œå“åº”ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å®ç°ä¸€ä¸ª async/await æ¨¡å¼ï¼Œæˆ‘ä»¬å¿…é¡»æ·»åŠ ä»¥ä¸‹å†…å®¹:

```
package main 

import (
  "fmt"
  "math/rand"
  "time"
)

func longTimedOperation() <-chan int32 {
  ch := make(chan int32)
  func run(){
    defer close(ch)
    time.Sleep(time.Second * 5)
    ch <- rand.Int31n(300)
  }
  go run()
  return ch
}

func main(){
  ch := longTimedOperation()
  fmt.Println(ch)
}

```

é€šè¿‡ç®€å•åœ°æ¨¡æ‹Ÿä¸€ä¸ªä½¿ç”¨ 5 ç§’å»¶è¿Ÿçš„é•¿æ—¶é—´è¿è¡Œçš„è¿›ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥å‘é€šé“å‘é€ä¸€ä¸ªéšæœºæ•´æ•°å€¼ï¼Œç­‰å¾…è¯¥å€¼ï¼Œç„¶åæ¥æ”¶å®ƒã€‚

### ä½¿ç”¨ Go æ¸ é“è¿›è¡Œé€šçŸ¥

é€šçŸ¥æ˜¯ç‹¬ä¸€æ— äºŒçš„è¿”å›å€¼è¯·æ±‚æˆ–å“åº”ã€‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨[ç©ºç™½ç»“æ„ç±»å‹](https://blog.logrocket.com/exploring-structs-and-interfaces-in-go/)ä½œä¸ºé€šçŸ¥é€šé“å…ƒç´ ç±»å‹ï¼Œå› ä¸ºç©ºç™½ç»“æ„ç±»å‹çš„å¤§å°ä¸ºé›¶ï¼Œè¿™æ„å‘³ç€è¯¥ç»“æ„çš„å€¼ä¸æ¶ˆè€—å†…å­˜ã€‚

ä¾‹å¦‚ï¼Œä½¿ç”¨é€šé“å®ç°ä¸€å¯¹ä¸€é€šçŸ¥ä¼šæ”¶åˆ°ä¸€ä¸ªé€šçŸ¥å€¼:

```
package main 

import (
  "fmt"
  "time"
) 
type T = struct{}

func main() {
  completed := make(chan T)
  go func() {
    fmt.Println("ping")
    time.Sleep(time.Second * 5) // heavy process simulation
    <- completed // receive a value from completed channel
  }

  completed <- struct{}{} // blocked waiting for a notification 
  fmt.Println("pong")
}

```

è¿™è®©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»ä¸€ä¸ªé€šé“æ¥æ”¶åˆ°çš„å€¼æ¥æé†’å¦ä¸€ä¸ªç­‰å¾…å‘åŒä¸€ä¸ªé€šé“æäº¤å€¼çš„ Goroutineã€‚

é¢‘é“è¿˜å¯ä»¥å®‰æ’é€šçŸ¥:

```
package main

import (
  "fmt"
  "time"
) 

func scheduledNotification(t time.Duration) <- chan struct{} {
  ch := make(chan struct{}, 1) 
  go func() {
    time.Sleep(t)
    ch <- struct{}{}
  }()
  return ch
}

func main() {
    fmt.Println("send first")
    <- scheduledNotification(time.Second)
    fmt.Println("secondly send")
    <- scheduledNotification(time.Second)
    fmt.Println("lastly send")
}

```

### ä½¿ç”¨ Go é€šé“ä½œä¸ºè®¡æ•°ä¿¡å·é‡

ä¸ºäº†æ–½åŠ æœ€å¤§æ•°é‡çš„å¹¶å‘è¯·æ±‚ï¼Œå¼€å‘äººå‘˜ç»å¸¸ä½¿ç”¨è®¡æ•°ä¿¡å·é‡æ¥é”å®šå’Œè§£é”å¹¶å‘è¿›ç¨‹ï¼Œä»¥æ§åˆ¶èµ„æºå’Œåº”ç”¨äº’æ–¥ã€‚ä¾‹å¦‚ï¼Œå¼€å‘äººå‘˜å¯ä»¥æ§åˆ¶æ•°æ®åº“ä¸­çš„è¯»å†™æ“ä½œã€‚

æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è·å¾—é€šé“ä¿¡å·é‡æ‰€æœ‰æƒï¼Œç±»ä¼¼äºå°†é€šé“ç”¨ä½œäº’æ–¥ä½“:

1.  é€šè¿‡å‘é€è·å–æ‰€æœ‰æƒï¼Œé€šè¿‡æ¥æ”¶é‡Šæ”¾æ‰€æœ‰æƒ
2.  é€šè¿‡æ¥æ”¶è·å¾—æ‰€æœ‰æƒï¼Œé€šè¿‡å‘é€é‡Šæ”¾æ‰€æœ‰æƒ

ç„¶è€Œï¼Œå½“æ‹¥æœ‰é€šé“ä¿¡å·é‡æ—¶ï¼Œæœ‰ä¸€äº›ç‰¹å®šçš„è§„åˆ™ã€‚é¦–å…ˆï¼Œæ¯ä¸ªé€šé“éƒ½å…è®¸äº¤æ¢ç‰¹å®šçš„æ•°æ®ç±»å‹ï¼Œä¹Ÿç§°ä¸ºé€šé“çš„å…ƒç´ ç±»å‹ã€‚

ç¬¬äºŒï¼Œè¦ä½¿é€šé“æ­£å¸¸è¿è¡Œï¼Œå¿…é¡»æœ‰äººæ¥æ”¶é€šè¿‡é€šé“å‘é€çš„å†…å®¹ã€‚

ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`chan`å…³é”®å­—å£°æ˜ä¸€ä¸ªæ–°çš„é€šé“ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`close()`å‡½æ•°å…³é—­ä¸€ä¸ªé€šé“ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨`< -`é€šé“è¯­æ³•é˜»æ­¢ä»£ç ä»é€šé“ä¸­è¯»å–ï¼Œä¸€æ—¦å®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥å…³é—­å®ƒã€‚

æœ€åï¼Œå½“ä½¿ç”¨é€šé“ä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šå®ƒçš„æ–¹å‘ï¼Œè¿™æ„å‘³ç€æŒ‡å®šé€šé“å°†ç”¨äºå‘é€è¿˜æ˜¯æ¥æ”¶ã€‚

å¦‚æœæˆ‘ä»¬äº‹å…ˆçŸ¥é“ä¸€ä¸ªé€šé“çš„ç”¨é€”ï¼Œå°±ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œå› ä¸ºå®ƒä½¿ç¨‹åºæ›´åŠ å¥å£®å’Œå®‰å…¨ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¸èƒ½æ„å¤–åœ°å‘åªæ¥æ”¶æ•°æ®çš„é€šé“å‘é€æ•°æ®ï¼Œæˆ–è€…ä»åªå‘é€æ•°æ®çš„é€šé“æ¥æ”¶æ•°æ®ã€‚

å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬å£°æ˜ä¸€ä¸ªé€šé“å‡½æ•°å‚æ•°å°†åªç”¨äºè¯»å–ï¼Œè€Œæˆ‘ä»¬è¯•å›¾å†™å…¥å®ƒï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯ï¼Œè¿™å¾ˆå¯èƒ½ä¼šå°†æˆ‘ä»¬ä»è®¨åŒçš„é”™è¯¯ä¸­è§£æ•‘å‡ºæ¥ã€‚

## å†™å…¥ Go é¢‘é“

æœ¬å°èŠ‚ä¸­çš„ä»£ç æ•™æˆ‘ä»¬å¦‚ä½•åœ¨ Go ä¸­å†™é€šé“ã€‚å°†å€¼`x`å†™å…¥é€šé“`c`å°±åƒå†™å…¥`c <- x`ä¸€æ ·ç®€å•ã€‚

ç®­å¤´æ˜¾ç¤ºå€¼çš„æ–¹å‘ï¼›åªè¦`x`å’Œ`c`å…·æœ‰ç›¸åŒçš„ç±»å‹ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸ªè¯­å¥å°±æ²¡æœ‰é—®é¢˜ã€‚

åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œ`chan`å…³é”®å­—å£°æ˜äº†`c`å‡½æ•°å‚æ•°æ˜¯ä¸€ä¸ªé€šé“ï¼Œåé¢å¿…é¡»è·Ÿé€šé“çš„ç±»å‹ï¼Œå³`int`ã€‚ç„¶åï¼Œ`c <- x`è¯­å¥å…è®¸æˆ‘ä»¬å°†å€¼`x`å†™å…¥é€šé“`c`ï¼Œ`close()`å‡½æ•°å…³é—­é€šé“:

```
package main
import (
  "fmt"
  "time"
)

func writeToChannel(c chan int, x int) {
   fmt.Println(x)
   c <- x
   close(c)
   fmt.Println(x)
}

func main() {
    c := make(chan int)
    go writeToChannel(c, 10)
    time.Sleep(1 * time.Second)
}

```

æœ€åï¼Œæ‰§è¡Œå‰é¢çš„ä»£ç ä¼šåˆ›å»ºä»¥ä¸‹è¾“å‡º:

```
$ go run writeCh.go 
10

```

è¿™é‡Œå¥‡æ€ªçš„æ˜¯`writeToChannel()`å‡½æ•°åªæ‰“å°ä¸€æ¬¡ç»™å®šå€¼ï¼Œè¿™æ˜¯ç¬¬äºŒä¸ª`fmt.Println(x)`è¯­å¥ä»ä¸æ‰§è¡Œæ—¶é€ æˆçš„ã€‚

åŸå› å¾ˆç®€å•:`c <- x`è¯­å¥é˜»å¡äº†å…¶ä½™`writeToChannel()`å‡½æ•°çš„æ‰§è¡Œï¼Œå› ä¸ºæ²¡æœ‰äººåœ¨è¯»å–å†™å…¥`c`é€šé“çš„å†…å®¹ã€‚

å› æ­¤ï¼Œå½“`time.Sleep(1 * time.Second)`è¯­å¥ç»“æŸæ—¶ï¼Œç¨‹åºä¸ç­‰å¾…`writeToChannel()`å°±ç»ˆæ­¢ã€‚

* * *

### æ›´å¤šæ¥è‡ª LogRocket çš„ç²¾å½©æ–‡ç« :

* * *

ä¸‹ä¸€èŠ‚è¯´æ˜å¦‚ä½•ä»é€šé“è¯»å–æ•°æ®ã€‚

## ä» Go é¢‘é“è¯»å–

æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰§è¡Œ`<-c`ä»åä¸º`c`çš„é€šé“ä¸­è¯»å–å•ä¸ªå€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ–¹å‘æ˜¯ä»é€šé“åˆ°å¤–éƒ¨èŒƒå›´:

```
package main
import (
"fmt"
"time"
)

func writeToChannel(c chan int, x int) {
  fmt.Println("1", x)
  c <- x
  close(c)
  fmt.Println("2", x)
}

func main() {
  c := make(chan int)
  go writeToChannel(c, 10)
  time.Sleep(1 * time.Second)
  fmt.Println("Read:", <-c)
  time.Sleep(1 * time.Second)
  _, ok := <-c

  if ok {
    fmt.Println("Channel is open!")
  } else {
    fmt.Println("Channel is closed!")
  }
}

```

`writeToChannel()`åŠŸèƒ½çš„å®ç°ä¸ä¹‹å‰ç›¸åŒã€‚åœ¨å‰é¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`<-c`ç¬¦å·ä»é€šé“`c`è¯»å–ã€‚

ç¬¬äºŒä¸ª`time.Sleep(1 * time.Second)`è¯­å¥ç»™äº†æˆ‘ä»¬ä»é€šé“ä¸­è¯»å–çš„æ—¶é—´ã€‚

å½“é€šé“å…³é—­æ—¶ï¼Œå½“å‰çš„ Go ä»£ç å·¥ä½œæ­£å¸¸ï¼›ç„¶è€Œï¼Œå¦‚æœé€šé“æ˜¯æ‰“å¼€çš„ï¼Œè¿™é‡Œæ˜¾ç¤ºçš„ Go ä»£ç å°†ä¸¢å¼ƒé€šé“çš„è¯»å–å€¼ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨`_, ok := <-c`è¯­å¥ä¸­ä½¿ç”¨äº†`_`å­—ç¬¦ã€‚

å¦‚æœæˆ‘ä»¬è¿˜æƒ³åœ¨é€šé“æ‰“å¼€çš„æƒ…å†µä¸‹å­˜å‚¨åœ¨é€šé“ä¸­æ‰¾åˆ°çš„å€¼ï¼Œè¯·ä½¿ç”¨åˆé€‚çš„å˜é‡åï¼Œè€Œä¸æ˜¯`_`ã€‚

æ‰§è¡Œ`readCh.go`äº§ç”Ÿä»¥ä¸‹è¾“å‡º:

```
$ go run readCh.go
1 10
Read: 10
2 10
Channel is closed!
$ go run readCh.go
1 10
2 10
Read: 10
Channel is closed!

```

å°½ç®¡è¾“å‡ºä»ç„¶æ˜¯ä¸ç¡®å®šçš„ï¼Œä½†æ˜¯`writeToChannel()`å‡½æ•°çš„ä¸¤ä¸ª`fmt.Println(x)`è¯­å¥éƒ½ä¼šæ‰§è¡Œï¼Œå› ä¸ºå½“æˆ‘ä»¬ä»é€šé“ä¸­è¯»å–æ—¶ï¼Œé€šé“ä¼šè§£é™¤é˜»å¡ã€‚

### ä»å°é—­ä¿¡é“æ¥æ”¶

åœ¨è¿™ä¸€å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å›é¡¾å½“æˆ‘ä»¬è¯•å›¾ä½¿ç”¨`readClose.go`ä¸­çš„ Go ä»£ç ä»ä¸€ä¸ªå°é—­é€šé“ä¸­è¯»å–æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆã€‚

åœ¨`readClose.go`ç¨‹åºçš„è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ªåä¸º`willClose`çš„æ–°çš„`int`é€šé“ï¼Œå‘å…¶å†™å…¥æ•°æ®ï¼Œè¯»å–æ•°æ®ï¼Œå¹¶åœ¨æ¥æ”¶åˆ°æ•°æ®åå…³é—­é€šé“:

```
package main
import (
  "fmt"
)

func main() {
  willClose := make(chan int, 10)
  willClose <- -1
  willClose <- 0
  willClose <- 2
  <-willClose
  <-willClose
  <-willClose
  close(willClose)
  read := <-willClose
  fmt.Println(read)
}

```

æ‰§è¡Œä¹‹å‰çš„ä»£ç (ä¿å­˜åœ¨`readClose.go`æ–‡ä»¶ä¸­)ä¼šç”Ÿæˆä»¥ä¸‹è¾“å‡º:

```
$ go run readClose.go
0

```

è¿™æ„å‘³ç€ä»ä¸€ä¸ªå°é—­çš„é€šé“ä¸­è¯»å–ä¼šè¿”å›å…¶æ•°æ®ç±»å‹çš„é›¶å€¼ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯`0`ã€‚

## ä½œä¸ºå‡½æ•°å‚æ•°çš„é€šé“

è™½ç„¶æˆ‘ä»¬åœ¨ä½¿ç”¨`readCh.go`æˆ–`writeCh.go`æ—¶æ²¡æœ‰ä½¿ç”¨å‡½æ•°å‚æ•°ï¼Œä½† Go ç¡®å®å…è®¸æˆ‘ä»¬åœ¨ä½¿ç”¨å®ƒä½œä¸ºå‡½æ•°å‚æ•°æ—¶æŒ‡å®šé€šé“çš„æ–¹å‘ï¼Œè¿™æ„å‘³ç€å®ƒæ˜¯ç”¨äºè¯»å–è¿˜æ˜¯å†™å…¥ã€‚

è¿™ä¸¤ç§ç±»å‹çš„é€šé“ç§°ä¸ºå•å‘é€šé“ï¼Œè€Œé»˜è®¤æƒ…å†µä¸‹é€šé“æ˜¯åŒå‘çš„ã€‚

æ£€æŸ¥ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°çš„ Go ä»£ç :

```
func f1(c chan int, x int) {
 fmt.Println(x)
 c <- x
}

func f2(c chan<- int, x int) {
 fmt.Println(x)
 c <- x
}

```

å°½ç®¡è¿™ä¸¤ä¸ªå‡½æ•°å®ç°äº†ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†å®ƒä»¬çš„å®šä¹‰ç•¥æœ‰ä¸åŒã€‚è¿™ç§å·®å¼‚æ˜¯ç”±åœ¨`f2()`å‡½æ•°å®šä¹‰ä¸­çš„`chan`å…³é”®å­—å³è¾¹çš„`<-`ç¬¦å·äº§ç”Ÿçš„ã€‚

è¿™è¡¨ç¤º`c`é€šé“åªèƒ½å†™å…¥ã€‚å¦‚æœ Go å‡½æ•°çš„ä»£ç è¯•å›¾ä»åªå†™é€šé“(ä¹Ÿç§°ä¸ºåªå‘é€é€šé“)å‚æ•°ä¸­è¯»å–ï¼ŒGo ç¼–è¯‘å™¨å°†ç”Ÿæˆä»¥ä¸‹é”™è¯¯ä¿¡æ¯:

```
# command-line-arguments
a.go:19:11: invalid operation: range in (receive from send-only type chan<-int)

```

ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰ä»¥ä¸‹å‡½æ•°å®šä¹‰:

```
func f1(out chan<- int64, in <-chan int64) {
  fmt.Println(x)
  c <- x
}

func f2(out chan int64, in chan int64) {
  fmt.Println(x)
  c <- x
}

```

`f2()`çš„å®šä¹‰ç»“åˆäº†ä¸€ä¸ªåä¸º in çš„åªè¯»é€šé“å’Œä¸€ä¸ªåä¸º out çš„åªå†™é€šé“ã€‚å¦‚æœæˆ‘ä»¬æ— æ„ä¸­è¯•å›¾å†™å…¥å’Œå…³é—­å‡½æ•°çš„åªè¯»é€šé“(ä¹Ÿç§°ä¸ºåªæ¥æ”¶é€šé“)å‚æ•°ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä»¥ä¸‹é”™è¯¯ä¿¡æ¯:

```
# command-line-arguments
a.go:13:7: invalid operation: out <- i (send to receive-only type <-chan int)
a.go:15:7: invalid operation: close(out) (cannot close receive-only 
channel)

```

## Go é¢‘é“èŒƒå›´

æˆ‘ä»¬å¯ä»¥åœ¨ Golang ä¸­ä½¿ç”¨èŒƒå›´è¯­æ³•æ¥éå†ä¸€ä¸ªé€šé“ä»¥è¯»å–å…¶å€¼ã€‚è¿™é‡Œçš„è¿­ä»£åº”ç”¨äº†å…ˆè¿›å…ˆå‡º(FIFO)çš„æ¦‚å¿µ:åªè¦æˆ‘ä»¬å‘é€šé“ç¼“å†²åŒºæ·»åŠ æ•°æ®ï¼Œæˆ‘ä»¬å°±å¯ä»¥åƒé˜Ÿåˆ—ä¸€æ ·ä»ç¼“å†²åŒºè¯»å–æ•°æ®:

```
package main

import "fmt"

func main() {

    ch := make(chan string, 2)
    ch <- "one"
    ch <- "two"
    close(ch)

    for elem := range ch {
        fmt.Println(elem)
    }
}

```

å¦‚ä¸Šæ‰€è¿°ï¼Œä½¿ç”¨ range ä»é€šé“è¿›è¡Œè¿­ä»£åº”ç”¨äº† FIFO åŸç†(ä»é˜Ÿåˆ—ä¸­è¯»å–)ã€‚å› æ­¤ï¼Œæ‰§è¡Œå‰é¢çš„ä»£ç ä¼šè¾“å‡ºä»¥ä¸‹å†…å®¹:

```
$ go run range-over-channels.go
one
two

```

## ç»“è®º

[Go](https://blog.logrocket.com/tag/go/) é€šé“ç”¨äºé€šè¿‡å‘é€å’Œæ¥æ”¶ç‰¹å®šå…ƒç´ ç±»å‹çš„æ•°æ®ï¼Œåœ¨å¹¶å‘è¿è¡Œçš„å‡½æ•°ä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚å½“æˆ‘ä»¬æœ‰è®¸å¤š Goroutines åŒæ—¶è¿è¡Œæ—¶ï¼Œé€šé“æ˜¯å®ƒä»¬ç›¸äº’é€šä¿¡çš„æœ€æ–¹ä¾¿çš„æ–¹å¼ã€‚

æ„Ÿè°¢é˜…è¯»å’Œå¿«ä¹ç¼–ç ï¼ğŸ™‚

## ä½¿ç”¨ [LogRocket](https://lp.logrocket.com/blg/signup) æ¶ˆé™¤ä¼ ç»Ÿé”™è¯¯æŠ¥å‘Šçš„å¹²æ‰°

[![LogRocket Dashboard Free Trial Banner](img/d6f5a5dd739296c1dd7aab3d5e77eeb9.png)](https://lp.logrocket.com/blg/signup)

[LogRocket](https://lp.logrocket.com/blg/signup) æ˜¯ä¸€ä¸ªæ•°å­—ä½“éªŒåˆ†æè§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªå‡é˜³æ€§é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å‡ ä¸ªçœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocket ä¼šå‘Šè¯‰æ‚¨åº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„ bug å’Œ UX é—®é¢˜ã€‚

ç„¶åï¼Œä½¿ç”¨å…·æœ‰æ·±å±‚æŠ€æœ¯é¥æµ‹çš„ä¼šè¯é‡æ”¾æ¥ç¡®åˆ‡åœ°æŸ¥çœ‹ç”¨æˆ·çœ‹åˆ°äº†ä»€ä¹ˆä»¥åŠæ˜¯ä»€ä¹ˆå¯¼è‡´äº†é—®é¢˜ï¼Œå°±åƒä½ åœ¨ä»–ä»¬èº«åçœ‹ä¸€æ ·ã€‚

LogRocket è‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€JS å¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶å LogRocket ä½¿ç”¨æœºå™¨å­¦ä¹ æ¥å‘Šè¯‰ä½ å“ªäº›é—®é¢˜æ­£åœ¨å½±å“å¤§å¤šæ•°ç”¨æˆ·ï¼Œå¹¶æä¾›ä½ éœ€è¦ä¿®å¤å®ƒçš„ä¸Šä¸‹æ–‡ã€‚

å…³æ³¨é‡è¦çš„ bugâ€”[ä»Šå¤©å°±è¯•è¯• LogRocketã€‘ã€‚](https://lp.logrocket.com/blg/signup-issue-free)