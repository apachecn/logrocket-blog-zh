# åˆ›å»ºä¸€ä¸ªæ‰‘ä¸Šå±å¹•çš„æ—¥å¿—ç«ç®­åšå®¢

> åŸæ–‡ï¼š<https://blog.logrocket.com/creating-flutter-onboarding-screen/>

è¯´åˆ°ç§»åŠ¨åº”ç”¨ï¼Œç¬¬ä¸€å°è±¡éå¸¸é‡è¦ã€‚é€šå¸¸ï¼Œç¬¬ä¸€å°è±¡å‘ç”Ÿåœ¨å…¥èŒè¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·åœ¨æ‰‹æœºä¸Šè®¾ç½®åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼Œå› ä¸ºå…¥èŒåªæ˜¯ç®€å•åœ°é…ç½®åº”ç”¨ç¨‹åºä»¥ä½¿å…¶ç¬¬ä¸€æ¬¡å·¥ä½œï¼Œæ‰€ä»¥å®ƒå¾ˆå®¹æ˜“å˜æˆä¸€ä¸ªæ— èŠçš„è¿‡ç¨‹ã€‚

å…¥èŒåŸ¹è®­è¿˜å¿…é¡»è¿åˆå¤§é‡ç”¨æˆ·ï¼ŒåŒ…æ‹¬é€šè¿‡è¥é”€æ´»åŠ¨ã€å£å¤´å®£ä¼ æˆ–åœ¨åº”ç”¨å•†åº—ä¸­çœ‹åˆ°æŸä¸ªåº”ç”¨çš„ç”¨æˆ·ã€‚

ä¸ç®¡ç”¨æˆ·æ˜¯å¦‚ä½•è¿›å…¥åº”ç”¨ç¨‹åºçš„ï¼Œå…¥èŒæµç¨‹å¿…é¡»ä¸ºä¸€ä¸ªä¿¡æ¯ä¸°å¯Œä½†æœ‰è¶£çš„æµç¨‹æä¾›è¶³å¤Ÿçš„ä¿¡æ¯ï¼ŒåŒæ—¶ç•™ä½æ–°ç”¨æˆ·ã€‚

è‰¯å¥½çš„å…¥èŒæµç¨‹:

*   æä¾›å¸å¼•äººçš„å¤–è§‚å’Œæ„Ÿè§‰ï¼ŒåŒæ—¶å¼•äººå…¥èƒœ
*   ä¸ºç”¨æˆ·æä¾›äº†æ¥å—ä»»ä½•æ‰€éœ€è®¸å¯æˆ–åè®®çš„æœºä¼š
*   ä»ç”¨æˆ·é‚£é‡Œæ”¶é›†æ‰€æœ‰é€‚å½“çš„æ•°æ®ï¼Œä»¥ä¾¿åœ¨å…¥èŒæµç¨‹åä½¿ç”¨è¯¥åº”ç”¨ç¨‹åº

åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨å¦‚ä½•ä¸ºåä¸ºâ€œååŒæ—…è¡Œâ€çš„åº”ç”¨ç¨‹åºåˆ›å»ºåˆé€‚çš„å…¥èŒä½“éªŒåœ¨ä¸–ç•Œä¸Šçš„è®¸å¤šåœ°æ–¹ï¼Œæˆ‘ä»¬ç›®å‰ä¸èƒ½å»ä»»ä½•åœ°æ–¹æ—…è¡Œï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æŠŠæ‰€æœ‰çš„æ—…è¡Œæ„¿æœ›éƒ½é›†ä¸­åˆ°åˆ›é€ ä¸€ä¸ªä¼Ÿå¤§çš„å…¥èŒä½“éªŒä¸Šæ¥ï¼âœˆ

![Final Onboarding Screen Shows Slide Show And Words Saying "Welcome To Synergy," Followed By An Onboarding Slideshow And Grid Of Interests](img/a8b2506b8b6fda72a4e4ec40f2cbed0f.png)

è¿™æ˜¯æˆ‘ä»¬å®Œæˆçš„å…¥èŒåŸ¹è®­å±å¹•çš„å¤–è§‚ã€‚å½“æ‰“å¼€åº”ç”¨ç¨‹åºæ—¶ï¼Œç”¨æˆ·ä¼šçœ‹åˆ°ä¸€ä¸ªä»¥æ—…è¡Œä¸ºä¸»é¢˜çš„å¹»ç¯ç‰‡ï¼Œé€šè¿‡ç¼©æ”¾å’Œæ·¡å…¥æ·¡å‡ºæ¥å¸å¼•ä»–ä»¬ï¼Œç„¶åæ˜¯ä¸»è¦çš„å…¥èŒæµç¨‹ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªè®¸å¯åè®®å’Œä¸€ä¸ªé€‰æ‹©ä»–ä»¬å…´è¶£çš„å±å¹•ã€‚

é€šè¿‡ä½¿ç”¨ motionï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºç”¨æˆ·åˆ›é€ å¼•äººå…¥èƒœçš„æœ‰è¶£ä½“éªŒã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹å‘¢ï¼Ÿè®©æˆ‘ä»¬æ‰¾å‡ºç­”æ¡ˆã€‚

## è§„åˆ’æˆ‘ä»¬çš„ Flutter åº”ç”¨ç¨‹åºçš„å…¥èŒæµç¨‹

é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»è§„åˆ’æˆ‘ä»¬çš„å…¥èŒæµç¨‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè®©æˆ‘ä»¬æ’­æ”¾å¼€åœºå¹»ç¯ç‰‡ï¼Œè®©ç”¨æˆ·çš„è§†å›¾å‚ç›´å‘ä¸‹æ»šåŠ¨åˆ°ä¸»å…¥èŒæµç¨‹ã€‚

å¦‚æœæˆ‘ä»¬æƒ³è±¡ç”¨æˆ·å¯ä»¥åœ¨æ‰‹æœºä¸Šçœ‹åˆ°æµ…è“è‰²çš„æ–¹æ¡†ï¼Œæˆ‘ä»¬çš„å…¥èŒæµç¨‹å¦‚ä¸‹æ‰€ç¤º:

![Onboarding Navigation Flow Shows Five Blue Boxes Showing How The App Will Move Through Each Onboarding Screen; The Boxes Contain "Opening Slideshow," "Welcome," "Accept License," "Choose Interests," and "Finalize The Onboarding Process"](img/7c07ef9c678c5687be1171831d7ed2fc.png)

æœ‰æ•ˆåœ°è§„åˆ’æˆ‘ä»¬è¿½æ±‚çš„å½¢è±¡æ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“æˆ‘ä»¬åœ¨æœç€ä»€ä¹ˆæ–¹å‘åŠªåŠ›ã€‚å¦‚æœæˆ‘ä»¬ä¸çŸ¥é“æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬çš„ä»£ç ä¼šå˜å¾—ä¸€å›¢ç³Ÿã€‚

å› ä¸ºæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåœ¨ç”¨æˆ·æ‰“å¼€æ—¶çœ‹èµ·æ¥å¾ˆå¥½ï¼Œæ‰€ä»¥å…¥èŒæµç¨‹çš„ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ªå¼•äººå…¥èƒœçš„å¼€åœºå¹»ç¯ç‰‡ã€‚

## åœ¨ Flutter ä¸­åˆ›å»ºå¼€åœºå¹»ç¯ç‰‡

æˆ‘ä»¬çš„å¼€åœºå¹»ç¯ç‰‡ç”±å‡ å¹…å›¾ç‰‡ç»„æˆï¼Œä¸Šé¢è¦†ç›–ç€ä¸€ä¸ªå•è¯ï¼Œæœ€åä¸€å¼ å¹»ç¯ç‰‡å°†æ‰€æœ‰çš„å•è¯æ”¾åœ¨ä¸€èµ·ã€‚

è™½ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è§†é¢‘æ¥å®ç°è¿™ä¸€ç‚¹ï¼Œè€Œæ— éœ€åœ¨è¿è¡Œæ—¶åœ¨è®¾å¤‡ä¸Šæ’­æ”¾ï¼Œä½†æˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°ä¸€äº›å‹ç¼©å·¥ä»¶ï¼Œå¹¶ä¾èµ–äºå¦ä¸€ä¸ªåŒ…ï¼Œä»è€Œå¢åŠ åº”ç”¨ç¨‹åºçš„æ•´ä½“å¤§å°ã€‚

ç›¸åï¼Œæˆ‘ä»¬å°†ä¸º Flutter æä¾›åœ¨è®¾å¤‡ä¸Šå‘ˆç°å¹»ç¯ç‰‡æ‰€éœ€çš„å†…å®¹ï¼Œä»¥ä¿æŒè¾ƒå°çš„å®‰è£…åŒ…å¤§å°ï¼Œå¹¶ç¡®ä¿æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºè·å¾—æœ€ä½³çš„è§†è§‰å‘ˆç°ã€‚

è¦å¼€å§‹åˆ›å»ºè¿™ä¸ªï¼Œè®©æˆ‘ä»¬æŒ‡å®šæƒ³è¦åœ¨æˆ‘ä»¬çš„å¼€åœºå¹»ç¯ç‰‡é¡¶éƒ¨æ˜¾ç¤ºçš„å•è¯:

```
final List<String> textOpeners = ['HELLO', 'WELCOME', 'TO', 'SYNERGY', 'HELLO,\r\nWELCOME\r\nTO\r\nSYNERGY'];

```

ç°åœ¨ï¼Œè¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„å•è¯åˆ—è¡¨ã€‚è¿™ä¸ªæ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå€¼ä½¿ç”¨æ¢è¡Œç¬¦æ¥åˆ†éš”è¿™äº›å•è¯ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„å¼€å§‹å›¾åƒæ¯ 2 ç§’æ”¹å˜ä¸€æ¬¡ï¼Œå¹¶ä¸”[æ˜¾ç¤ºä¸€ä¸ªæŒ‰é’®](https://blog.logrocket.com/new-material-buttons-in-flutter/)ä»¥åœ¨æœ€åä¸€ä¸ªå›¾åƒä¸Šå¼€å§‹å…¥èŒè¿‡ç¨‹ã€‚

å¹¸è¿çš„æ˜¯ï¼ŒFlutter è‡ªå¸¦çš„`Timer.periodic`ä½¿å¾—è¿™ç§å·¥ä½œå˜å¾—è½»è€Œæ˜“ä¸¾:

```
void initState() {
  Timer.periodic(
    Duration(seconds: 2),
    (timer) {
      setState(() {
        if (index == 5) { // if we're at the end of the slideshow...
          timer.cancel(); //...stop running the timer
          setState(() {
            showStartCard = true; //...and show the button to begin the onboarding process
          });
        } else {
          index++; // otherwise, show the next slide
        }
      });
    },
  );
  super.initState();
}

```

å› ä¸ºå½“[è°ƒç”¨`setState`](https://blog.logrocket.com/flutter-state-management-methods/) æ—¶ï¼Œæˆ‘ä»¬çš„ç´¢å¼•æ¯ 2 ç§’å¢åŠ  1ï¼Œè¿™è§¦å‘äº†æˆ‘ä»¬çš„å°éƒ¨ä»¶çš„é‡å»ºï¼Œä»¥æ˜¾ç¤ºæˆ‘ä»¬å¹»ç¯ç‰‡ä¸­çš„ä¸‹ä¸€å¹…å›¾åƒã€‚è¿™ç”±åœ¨å‚è€ƒå›¾åƒä¹‹é—´åˆ‡æ¢çš„`AnimatedSwitcher`å‚è€ƒ:

```
Widget build(BuildContext context) {
  return AnimatedSwitcher(
    duration: const Duration(milliseconds: 2000),
    child: Container(
      child: Stack(
        children: [
          Center(
            child: Text(
              textOpeners[index - 1],
              style: Theme.of(context).textTheme.headline3!.copyWith(
                    fontWeight: FontWeight.w900,
                    // color: Colors.white,
                  ),
            ),
          ),
          if (index == 5) // only on the last page
            AnimatedOpacity(
              duration: Duration(milliseconds: 400),
              opacity: showStartCard ? 1 : 0,
              child: Align(
                child: Padding(
                  padding: const EdgeInsets.all(80.0).copyWith(bottom: 120),
                  child: BottomTextInvite(
                    getStartedPressed: widget.getStartedPressed,
                  ),
                ),
                alignment: Alignment.bottomCenter,
              ),
            )
        ],
      ),
      key: ValueKey<int>(index),
      height: double.maxFinite, // occupy the entire screen
      width: double.maxFinite, // occupy the entire screen
      decoration: BoxDecoration(
        image: DecorationImage(
          fit: BoxFit.cover,
          image: AssetImage(
            'assets/opener/slide${index}.jpg',
          ),
        ),
      ),
    ),
  );
}

```

ä½¿ç”¨ä¸€ä¸ª`AnimatedSwitcher`ã€ä¸€ä¸ª`Stack`å’Œä¸€ä¸ª`AnimatedOpacity`å°éƒ¨ä»¶ä¼šåœ¨æ¯ä¸ªæ–°å¹»ç¯ç‰‡æ·¡å…¥æ—¶å¸¦æ¥éå¸¸å¥½çš„ä½“éªŒã€‚ä½†æ˜¯ï¼Œè™½ç„¶å¼€å§‹çš„å¹»ç¯ç‰‡çœ‹èµ·æ¥è¿˜å¯ä»¥ï¼Œä½†æ„Ÿè§‰è¿˜ä¸æ˜¯å¾ˆå¥½çš„ä½“éªŒï¼›é¢œè‰²æ··åœ¨ä¸€èµ·ï¼Œå­—ä¸å¤ªæ¸…æ¥šã€‚

![Initial Slideshow Layout Showing Tropical Pictures](img/fff32d40be4ae1594503897552b43d18.png)

ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥æé«˜è§†è§‰å¸å¼•åŠ›ï¼Œä¸€ç§ç®€å•çš„æ–¹æ³•æ˜¯å¼•å…¥ä¸€äº›èµå¿ƒæ‚¦ç›®çš„è¿åŠ¨å½¢å¼ã€‚

ç„¶è€Œï¼Œå¾ˆå®¹æ˜“åšè¿‡å¤´ï¼Œè®©ç”¨æˆ·åœ¨å±å¹•é—´åˆ‡æ¢ï¼Œç›´åˆ°ä»–ä»¬æ„Ÿåˆ°æ¶å¿ƒï¼Œè¿™æ°¸è¿œä¸æ˜¯æœ€ä½³é€‰æ‹©ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€äº›ç»†å¾®å·®åˆ«ï¼Œä»¥ç¡®ä¿å®ƒå¢åŠ äº†ä½“éªŒï¼Œä½†åˆä¸å½±å“ä½“éªŒã€‚

ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ª [`ScaleTransition`å’Œ`FadeTransition`ç»„åˆèµ·æ¥ï¼Œäº§ç”Ÿä¸€ä¸ªçœ‹èµ·æ¥ä¸é”™çš„æ•ˆæœ](https://blog.logrocket.com/adding-animations-to-your-flutter-app/)ã€‚åœ¨æˆ‘ä»¬çš„`AnimatedSwitcher`ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`transitionBuilder`æ¥æŒ‡å®šæˆ‘ä»¬å¯¹è¿™äº›å°éƒ¨ä»¶çš„æ›´æ”¹åº”è¯¥å¦‚ä½•å‘ç”Ÿ:

```
transitionBuilder: (widget, animation) {
  final zoomAnimation = Tween(begin: 1.0, end: 1.3).animate(animation);
  final fadeAnimation = Tween(begin: 0.0, end: 1.0).animate(
    CurvedAnimation(
      parent: animation,
      curve: Interval(0.0, 0.2, curve: Curves.ease),
    ),
  );
  return FadeTransition(
    opacity: fadeAnimation,
    child: ScaleTransition(
      scale: zoomAnimation,
      child: widget,
    ),
  );
},
```

æ³¨æ„ï¼Œåœ¨ä½¿ç”¨`zoomAnimation`å’Œ`fadeAnimation`æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è€ƒè™‘ä¸€äº›è¦ç‚¹ã€‚

ä½¿ç”¨`zoomAnimation`æ—¶ï¼Œä»`1.0`å¼€å§‹ï¼Œåˆ°`1.3`ç»“æŸã€‚è¿™æ˜¯å› ä¸ºå›¾åƒå¼€å§‹å¡«å…… 100%çš„å±å¹•ï¼Œå¹¶ä»¥å…¶åŸå§‹å¤§å°çš„ 130%ç»“æŸï¼Œä»¥æä¾›ç¼©æ”¾æ•ˆæœã€‚è¿˜è¦æ³¨æ„ï¼Œå®ƒåœ¨é¡µé¢æ›´æ”¹æ“ä½œçš„æ•´ä¸ªè¿‡ç¨‹ä¸­éƒ½ä¼šè¿è¡Œã€‚

ä½¿ç”¨`fadeAnimation`æ—¶ï¼Œä»`0.0`å¼€å§‹ï¼Œåˆ°`1.0`ç»“æŸï¼Œä½¿æˆ‘ä»¬çš„è¿‡æ¸¡ä»å®Œå…¨é€æ˜åˆ°å®Œå…¨ä¸é€æ˜ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨`Interval`æ¥æŒ‡å®šè¿™ä¸ªåŠ¨ç”»ä¸çˆ¶åŠ¨ç”»åŒæ—¶å¼€å§‹ï¼Œä½†æ˜¯åœ¨çˆ¶åŠ¨ç”»åªå®Œæˆ 20%çš„æ—¶å€™ç»“æŸã€‚å¦‚æœæˆ‘ä»¬ä¸è¿™æ ·åšï¼Œæˆ‘ä»¬çš„å¹»ç¯ç‰‡å°†æ˜¯ä¸€ä¸ªæ°¸ä¹…çš„ç¼©æ”¾å’Œè¤ªè‰²çš„çƒ‚æ‘Šå­ã€‚

æ—¢ç„¶æˆ‘ä»¬å·²ç»æŒ‡å®šäº†å¦‚ä½•æ„å»ºè¿‡æ¸¡ï¼Œæˆ‘ä»¬çš„å¼€åœºå¹»ç¯ç‰‡çœ‹èµ·æ¥æ›´åƒè¿™æ ·:

![Adding The Fade And Zoom Features Between Photo Transitions](img/6983e0b076f88d22a3edf8aa3ccfcee4.png)

æˆ‘ä»¬éœ€è¦åšçš„æœ€åä¸€ä»¶äº‹æ˜¯æ·»åŠ ä¸€ä¸ª`AnimatedOpacity`å°éƒ¨ä»¶ï¼Œä»¥ä¾¿åœ¨å¹»ç¯ç‰‡æ”¾æ˜ ç»“æŸåæ·¡å…¥ç›’å­ã€‚å½“æˆ‘ä»¬çš„å›¾åƒçš„ç´¢å¼•æ˜¯`5`(æœ€åä¸€å¼ å›¾åƒ)æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›å°†å°éƒ¨ä»¶çš„ä¸é€æ˜åº¦ä»å®Œå…¨é€æ˜åˆ‡æ¢åˆ°å®Œå…¨ä¸é€æ˜ï¼Œå°±åƒè¿™æ ·:

```
  if (index == 5) // only on the last page
            AnimatedOpacity(
              duration: Duration(milliseconds: 400),
              opacity: showStartCard ? 1 : 0,
              child: Align(
                child: Padding(
                  padding: const EdgeInsets.all(80.0).copyWith(bottom: 120),
                  child: BottomTextInvite(
                    getStartedPressed: widget.getStartedPressed,
                  ),
                ),
                alignment: Alignment.bottomCenter,
              ),
            )

```

è¿™ç»™äº†æˆ‘ä»¬é¢„æœŸçœ‹åˆ°çš„æ·¡å…¥æ•ˆæœ:

![Adding The Fade-In Button To "GET STARTED"](img/81b9ee6a2d81363e17baef4c7cb1e68f.png)

## é…ç½® Flutter `PageView`å°éƒ¨ä»¶

ä¸ºäº†å®Œæˆæˆ‘ä»¬çš„å¼€åœºï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªé…ç½®å¥½çš„`PageView`å°éƒ¨ä»¶ã€‚ç¬¬ä¸€ä¸ªå¿…é¡»åœ¨å‚ç›´è½´ä¸Šæ“ä½œï¼Œå¹¶åœ¨ç”¨æˆ·ç‚¹å‡»æŒ‰é’®åå‚ç›´ç§»åŠ¨è§†å£ã€‚

ç”¨æˆ·å°†ä¸èƒ½æ»‘åŠ¨è¿™ä¸ª`PageView`å°éƒ¨ä»¶æ¥å››å¤„ç§»åŠ¨ï¼Œå› ä¸ºç”¨æˆ·æ»‘åŠ¨å›åˆ°æˆ‘ä»¬çš„å¼€å§‹å¹»ç¯ç‰‡åœ¨é€»è¾‘ä¸Šæ²¡æœ‰æ„ä¹‰ã€‚

ç¬¬äºŒä¸ªå°éƒ¨ä»¶å¿…é¡»åœ¨æ°´å¹³è½´ä¸Šæ“ä½œï¼Œå¹¶åœ¨ç”¨æˆ·å‘æŸä¸ªæ–¹å‘æ»‘åŠ¨æ—¶ç§»åŠ¨è§†å£ã€‚

å› ä¸ºæˆ‘ä»¬æœ‰ä¸¤ä¸ªç›¸äº’åµŒå¥—çš„`PageView`å°éƒ¨ä»¶ï¼Œä»»ä¸€ä¸ª`PageView`éƒ½å¯ä»¥å°è¯•æ¥æ”¶å’Œå¤„ç†è§¦æ‘¸äº‹ä»¶ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚ç›¸åï¼Œæˆ‘ä»¬å¿…é¡»å°†æˆ‘ä»¬çš„å¤–éƒ¨`ScrollView`è®¾ç½®ä¸ºä½¿ç”¨`NeverScrollableScrollPhysics`ï¼Œå¹¶ä½¿ç”¨`ScrollController`æ‰‹åŠ¨æ»šåŠ¨å®ƒã€‚

æ‰€ä»¥ï¼Œæˆ‘ä»¬çš„æ ¹`PageView`å’Œæˆ‘ä»¬çš„å­`PageView`çœ‹èµ·æ¥åƒè¿™æ ·:

```
Widget build(BuildContext context) {
  return Scaffold(
    body: PageView( // Root PageView
      controller: outerScrollController, // The scroll controller that is used to programatically scroll the PageView
      physics: NeverScrollableScrollPhysics(), // Prevent the user from swiping
      scrollDirection: Axis.vertical,
      children: [
        ClipRect( // Prevent children from overflowing from the container
          child: EnticerOpenerPage(
            getStartedPressed: () => outerScrollController.animateToPage(
              1, // When the user presses the button, scroll down to the onboarding process.
              duration: Duration(seconds: 1),
              curve: Curves.fastOutSlowIn,
            ),
          ),
        ),
        Stack(
          children: [
            PageView( // The child PageView
              onPageChanged: (val) {
                setState(() {
                  // Update the scroll position indicator at the bottom
                  innerScrollPosition = val.toDouble();
                });
              },
              children: [...onboarding widgets...]
              ),
              Align(
                alignment: Alignment.bottomCenter,
                child: DotsIndicator( // Shows the user their progress
                  dotsCount: 4,
                  position: innerScrollPosition,
                  decorator: DotsDecorator(
                    size: const Size.square(9.0),
                    activeSize: const Size(18.0, 9.0),
                    activeShape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(5.0)),
    ),
  ),
)

```

## åœ¨ Flutter ä¸­è®¾ç½®å…¥èŒæ­¥éª¤

å› ä¸ºæˆ‘ä»¬çš„ onboarding æ­¥éª¤é€šå¸¸éƒ½æ˜¾ç¤ºä¸€äº›æ–‡æœ¬å’Œä¸€ä¸ªå›¾åƒï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»å£°æ˜ä¸€ä¸ª`OnboardStep`å°éƒ¨ä»¶ï¼Œè¯¥éƒ¨ä»¶æ¥å—æˆ‘ä»¬å¸Œæœ›åœ¨æ¯ä¸ªæ­¥éª¤ä¸­æ˜¾ç¤ºçš„å­©å­åˆ—è¡¨å¹¶æ˜¾ç¤ºä¸€ä¸ªå›¾åƒã€‚å¦‚æœå›¾åƒä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå­å¯¹è±¡å°†å‘ˆç°å®¹å™¨çš„å®Œæ•´å¤§å°:

```
class OnboardStep extends StatelessWidget {
  final Widget? image;
  final List<Widget> children;

  OnboardStep(
    this.children, {
    this.image,
  });

  @override
  Widget build(BuildContext context) {
    return Container(
      color: Colors.blue.shade200,
      child: Column(
        children: [
          if (image != null)
            Expanded(
              child: SafeArea(
                child: Padding(
                  padding: const EdgeInsets.all(20.0),
                  child: Card(
                    elevation: 10,
                    child: image!,
                    shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(15)),
                  ),
                ),
              ),
              flex: 2, // occupy 2/3 of available space
            ),
          Expanded(
            child: Padding(
              padding: const EdgeInsets.all(20.0),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.stretch,
                mainAxisSize: MainAxisSize.max,
                mainAxisAlignment: MainAxisAlignment.center,
                children: children,
              ),
            ),
            flex: 1 // occupy 1/3 of available space,
          ),
        ],
      ),
    );
  }
}

```

ç”¨è¿™ä¸ªå°éƒ¨ä»¶åˆ›å»ºçš„`OnboardStep`åœ¨è§†è§‰è®¾è®¡ä¸Šæ¯ä¸€æ­¥éƒ½æ˜¯ä¸€è‡´çš„ã€‚ä¸ºäº†åˆ›å»ºæˆ‘ä»¬çš„åˆå§‹æ­¥éª¤ï¼Œæˆ‘ä»¬åªéœ€è¦æä¾›æˆ‘ä»¬æƒ³è¦åœ¨è¿™ä¸ªç‰¹å®šæ­¥éª¤ä¸­æ˜¾ç¤ºçš„æ–‡æœ¬ï¼Œå¹¶ç»™å‡ºä¸€ä¸ªè¦ä½¿ç”¨çš„å›¾åƒã€‚è°ƒç”¨è¿™ä¸ªå°éƒ¨ä»¶å¾ˆå®¹æ˜“:

```
OnboardStep(
  [
    Text(
      'Get ready for the trip of a lifetime.',
      style: Theme.of(context).textTheme.headline5,
      textAlign: TextAlign.center,
    ),
    Text(
      'Synergy Holidays is a way for you to holiday, and really enjoy it.',
      textAlign: TextAlign.center,
    ),
  ],
  image: Padding(
    padding: const EdgeInsets.all(50.0),
    child: Image.asset('assets/explore.png'),
  ),
),

```

è¯¥ä»£ç éšåäº§ç”Ÿä»¥ä¸‹ç»“æœ:

![Intro Slide To Onboarding Process To Request License Agreement And Interests](img/82463fa749339243e23f98658b7a220e.png)

åªè¦æˆ‘ä»¬æœ‰ä¸€äº›æ–‡æœ¬è¦ç”¨å¯é€‰çš„å›¾åƒæ˜¾ç¤ºï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å…¥èŒæµç¨‹çš„è¿™ä¸ªç‰¹å®šé˜¶æ®µè½»æ¾åœ°æ˜¾ç¤ºæˆ‘ä»¬æƒ³è¦çš„ä»»ä½•å†…å®¹ã€‚

## åœ¨ Flutter ä¸­åˆ›å»ºå…´è¶£é€‰æ‹©å±å¹•

é€šå¸¸ï¼Œåœ¨å…¥èŒè¿‡ç¨‹ä¸­ï¼Œå¼€å‘äººå‘˜å¸Œæœ›ä»å®¢æˆ·é‚£é‡Œæ”¶é›†ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚ä»–ä»¬çš„ç”µå­é‚®ä»¶åœ°å€æˆ–å§“åã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“ç”¨æˆ·åœ¨å‡æœŸæƒ³åšä»€ä¹ˆï¼Œè¿™æ ·æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°±å¯ä»¥ç»™å‡ºé€‚å½“çš„å»ºè®®ã€‚åŒæ ·ï¼ŒåŠ¨ä½œå’Œåé¦ˆçš„å¾®å¦™ä½¿ç”¨å¯ä»¥è®©ç”¨æˆ·æ„Ÿè§‰è¿™ä¸ªè¿‡ç¨‹æ˜¯æ„‰å¿«çš„å’Œé«˜è´¨é‡çš„ã€‚

æˆ‘ä»¬æœ€ç»ˆçš„å…´è¶£é€‰æ‹©å±å¹•å¦‚ä¸‹æ‰€ç¤º:

![Final Interest Selection Page Showing "Driving," "Exploring," "Discovery," "Rafting," "Relazation," and "Boating," With Thumbs Up Over "Exploring," "Discovery," And "Relaxation"](img/c53c56e048fd1f2d6fab3cb3a6b4e61e.png)

è¦å¼€å§‹æ„å»ºè¿™ä¸ªé¡µé¢ï¼Œæˆ‘ä»¬å¿…é¡»æ„å»ºä¸€ä¸ªå¯èƒ½çš„æ´»åŠ¨åˆ—è¡¨ï¼Œä¾›ç”¨æˆ·ä»ä¸­è¿›è¡Œé€‰æ‹©ã€‚æˆ‘ä»¬è¿˜å¿…é¡»å£°æ˜ä¸€ä¸ª`Set`æ¥è·Ÿè¸ªé€‰æ‹©çš„å†…å®¹(æˆ‘ä»¬ä½¿ç”¨`Set`æ˜¯å› ä¸ºé¡¹ç›®å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä¸åƒ`List`å…è®¸é‡å¤):

```
final holidayTypes = [
  HolidayType('buggy.jpg', 'Driving'),
  HolidayType('cave_diving.jpg', 'Exploring'),
  HolidayType('exploration.jpg', 'Discovery'),
  HolidayType('rafting.jpg', 'Rafting'),
  HolidayType('relaxation.jpg', 'Relaxation'),
  HolidayType('water.jpg', 'Boating'),
];

final selectedHolidayTypes = <String>{};

```

å½“ç”¨æˆ·ç‚¹å‡»å…´è¶£æ—¶ï¼Œå…´è¶£ä¼šç¼©å°ï¼Œå¹¶è¦†ç›–ä¸€ä¸ªç«–èµ·å¤§æ‹‡æŒ‡çš„å›¾æ ‡ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ä¸€ä¸ª`GridView`åœ¨ä¸€ä¸ªç½‘æ ¼ä¸Šå±•ç¤ºæˆ‘ä»¬çš„å…´è¶£ã€‚

åŒæ ·ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨`AnimatedContainer`å’Œ`AnimatedOpacity`æ¥å¤„ç†é¡¹ç›®æ”¶ç¼©å’Œæ·»åŠ ç«–èµ·å¤§æ‹‡æŒ‡å›¾æ ‡æ˜¾ç¤ºã€‚å½“å…´è¶£è¢«æŒ–æ˜æ—¶ï¼Œå®ƒä»¬è¢«æ·»åŠ åˆ°`selectedHolidayTypes`æˆ–ä»ã€ã€‘ä¸­åˆ é™¤:

```
GridView.count(
  physics: NeverScrollableScrollPhysics(),
  shrinkWrap: true,
  crossAxisCount: 2,
  children: [
    ...holidayTypes.map(
      (e) => AnimatedContainer(
        duration: Duration(milliseconds: 100),
        padding: selectedHolidayTypes.contains(e.name) ? EdgeInsets.all(16) : EdgeInsets.zero, // Implicitly animate between full size, or shrunk size, depending if selected
        child: Card(
          clipBehavior: Clip.antiAlias, // Clip the overflow
          child: InkWell( // Display the inkwell splash when the user taps on an item
            onTap: () {
              setState(() {
                if (selectedHolidayTypes.contains(e.name)) {
                  // If the interest is already on the list, remove it
                  selectedHolidayTypes.remove(e.name);
                } else {
                  // Otherwise, add it
                  selectedHolidayTypes.add(e.name);
                }
              });
            },
            child: Ink.image(
              image: AssetImage(
                'assets/holidaytypes/${e.asset}',
              ),
              fit: BoxFit.cover, // Cover the entire container with the image
              child: Stack(
                alignment: Alignment.center,
                fit: StackFit.expand, // Expand children items to fit parent size
                children: [
                  // Align the label to the bottom center of the card.
                  Align(
                    child: Container(
                      padding: EdgeInsets.zero,
                      child: Padding(
                        padding: const EdgeInsets.all(8.0),
                        child: Text(
                          e.name,
                          textAlign: TextAlign.center,
                        ),
                      ),
                      width: double.maxFinite,
                      color: Colors.white,
                    ),
                    alignment: Alignment.bottomCenter,
                  ),
                  // The 'thumbs-up' icon
                  AnimatedOpacity(
                    // If selected, show the thumbs-up icon
                    opacity: selectedHolidayTypes.contains(e.name) ? 1.0 : 0.0,
                    duration: Duration(milliseconds: 100),
                    child: Container(
                      height: double.maxFinite,
                      width: double.maxFinite,
                      // Overlay the image with a slight grey color
                      color: Colors.grey.withOpacity(0.3),
                      child: Icon(
                        Icons.thumb_up_alt_outlined,
                        color: Colors.white,
                        size: 50,
                      ),
                    ),
                  )
                ],
              ),
            ),
          ),
        ),
      ),
    )
  ],
)

```

è¯¥ä»£ç çš„ç»“æœæ˜¯ä¸€ä¸ªå¯äº¤äº’çš„æŒ‰é’®ï¼Œå¦‚ä¸‹æ‰€ç¤º:

![Interactable Interest Button For "Driving," Shows User Clicking Button Followed By Animation And A Thumbs Up](img/0441ce87dbb1905026381cfb3b377e7d.png)

## åŒ…æ‰

ä»ä¸€å¼€å§‹å°±è®©ä½ çš„ç”¨æˆ·æƒŠå¹æ˜¯å¾ˆé‡è¦çš„ï¼Œæ‹¥æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„å…¥èŒæµç¨‹å¯¹å®ç°è¿™ä¸€ç‚¹å¤§æœ‰å¸®åŠ©ã€‚å¹¸è¿çš„æ˜¯ï¼Œé€šè¿‡ä½¿ç”¨ä¸€äº›åŸºæœ¬çš„è¿åŠ¨å’Œ Flutters å†…ç½®çš„éšå¼åŠ¨ç”»ï¼Œä¸éš¾å®ç°æ‚¨æƒ³è¦çš„ç¡®åˆ‡ç»“æœã€‚

å’Œå¾€å¸¸ä¸€æ ·ï¼Œåœ¨è¿™é‡Œå¯ä»¥æ‰¾åˆ°è¿™ä¸ªä¾‹å­çš„æºä»£ç çš„é“¾æ¥ã€‚æˆ‘å¸Œæœ›æ‚¨ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªçœŸæ­£ä¼Ÿå¤§çš„å…¥èŒæµç¨‹ï¼ğŸš€ğŸ˜Š

## ä½¿ç”¨ [LogRocket](https://lp.logrocket.com/blg/signup) æ¶ˆé™¤ä¼ ç»Ÿé”™è¯¯æŠ¥å‘Šçš„å¹²æ‰°

[![LogRocket Dashboard Free Trial Banner](img/d6f5a5dd739296c1dd7aab3d5e77eeb9.png)](https://lp.logrocket.com/blg/signup)

[LogRocket](https://lp.logrocket.com/blg/signup) æ˜¯ä¸€ä¸ªæ•°å­—ä½“éªŒåˆ†æè§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªå‡é˜³æ€§é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å‡ ä¸ªçœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocket ä¼šå‘Šè¯‰æ‚¨åº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„ bug å’Œ UX é—®é¢˜ã€‚

ç„¶åï¼Œä½¿ç”¨å…·æœ‰æ·±å±‚æŠ€æœ¯é¥æµ‹çš„ä¼šè¯é‡æ”¾æ¥ç¡®åˆ‡åœ°æŸ¥çœ‹ç”¨æˆ·çœ‹åˆ°äº†ä»€ä¹ˆä»¥åŠæ˜¯ä»€ä¹ˆå¯¼è‡´äº†é—®é¢˜ï¼Œå°±åƒä½ åœ¨ä»–ä»¬èº«åçœ‹ä¸€æ ·ã€‚

LogRocket è‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€JS å¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶å LogRocket ä½¿ç”¨æœºå™¨å­¦ä¹ æ¥å‘Šè¯‰ä½ å“ªäº›é—®é¢˜æ­£åœ¨å½±å“å¤§å¤šæ•°ç”¨æˆ·ï¼Œå¹¶æä¾›ä½ éœ€è¦ä¿®å¤å®ƒçš„ä¸Šä¸‹æ–‡ã€‚

å…³æ³¨é‡è¦çš„ bugâ€”[ä»Šå¤©å°±è¯•è¯• LogRocketã€‘ã€‚](https://lp.logrocket.com/blg/signup-issue-free)