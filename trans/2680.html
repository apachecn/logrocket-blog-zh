<html>
<head>
<title>Lighthouse meets GitHub Actions: How to use Lighthouse in CI - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Lighthouse é‡è§ GitHub Actions:å¦‚ä½•åœ¨ CI - LogRocket åšå®¢ä¸­ä½¿ç”¨ Lighthouse</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/#0001-01-01">https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/#0001-01-01</a></blockquote><div><article class="article-post">
<p>Lighthouse æ˜¯ä¸€ä¸ªå®¡è®¡ç½‘ç«™æ€§èƒ½å’Œå¯ç”¨æ€§çš„å¼ºå¤§å·¥å…·ã€‚ä¸å…¶æ‰‹åŠ¨æ‰§è¡Œè¿™äº›å®¡è®¡ï¼Œä¸å¦‚å°†å®ƒæ’å…¥åˆ°æ‚¨çš„ CI ç®¡é“ä¸­ã€‚è¿™ç¯‡æ–‡ç« å±•ç¤ºäº†å¦‚ä½•å°† Lighthouse é›†æˆåˆ° GitHub Actions å·¥ä½œæµä¸­ï¼Œå¹¶ç›´æ¥åœ¨ pull è¯·æ±‚ä¸­æŠ¥å‘Šç»“æœã€‚</p>
<p>è¿™ç¯‡æ–‡ç« ä¸æ˜¯å¦‚ä½•æœ‰æ•ˆä½¿ç”¨ Lighthouse çš„æ¼”ç»ƒã€‚å…³äºè¿™ä¸ªè¯é¢˜å·²ç»æœ‰äº†å¾ˆå¥½çš„æŒ‡å¯¼ã€‚</p>
<p>ç›¸åï¼Œæˆ‘ä»¬å°†åœ¨ GitHub repo çš„ä¸Šä¸‹æ–‡ä¸­æ„å»ºä¸€ä¸ªç®€å•çš„ web åº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬å°†æŠŠå®ƒè¿æ¥èµ·æ¥ï¼Œé€šè¿‡<a href="https://github.com/actions" target="_blank" rel="noopener"> GitHub Actions </a>éƒ¨ç½²åˆ°<a href="https://azure.microsoft.com/en-us/services/app-service/static/" target="_blank" rel="noopener"> Azure Static Web Apps </a>ã€‚</p>
<p>é™æ€ Web åº”ç”¨ç¨‹åºæ˜¯é™æ€ç½‘ç«™çš„å…è´¹æ‰˜ç®¡é€‰é¡¹ã€‚å®ƒå¸¦æœ‰å†…ç½®çš„<a href="https://docs.microsoft.com/en-us/azure/static-web-apps/review-publish-pull-requests" target="_blank" rel="noopener">å‡†å¤‡ç¯å¢ƒ</a>æˆ–éƒ¨ç½²é¢„è§ˆã€‚è¯¥ç‰¹æ€§åœ¨æ¯æ¬¡æå‡ºæ‹‰è¯·æ±‚æ—¶éƒ¨ç½²ä¸€ä¸ªç«™ç‚¹çš„å…¨åŠŸèƒ½ç‰ˆæœ¬ï¼Œæ„å»ºåœ¨è¯¥æ‹‰è¯·æ±‚ä¸­å®ç°çš„æ›´æ”¹çš„åŸºç¡€ä¸Šã€‚</p>
<p>ç™»å°ç¯å¢ƒæ˜¯å®ç°æˆ‘ä»¬çš„ç¯å¡”æ£€æŸ¥çš„å®Œç¾åœºæ‰€ã€‚å¦‚æœæ‹‰è¯·æ±‚å½±å“å¯ç”¨æ€§æˆ–æ€§èƒ½ï¼Œé‚£ä¹ˆåœ¨æ‹‰è¯·æ±‚çš„ä¸Šä¸‹æ–‡ä¸­çœ‹åˆ°è¿™äº›ç»†èŠ‚æ­£æ˜¯æˆ‘ä»¬æƒ³è¦äº†è§£çš„ã€‚è¿™ç§æ£€æŸ¥è®©æˆ‘ä»¬æœ‰æœºä¼šç¡®ä¿åªæœ‰å½“æˆ‘ä»¬æ»¡æ„è¿™äº›å˜åŒ–ä¸ä¼šå¯¹æˆ‘ä»¬çš„ Lighthouse åˆ†æ•°äº§ç”Ÿè´Ÿé¢å½±å“æ—¶æ‰è¿›è¡Œåˆå¹¶ã€‚</p>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä»ä¸€ä¸ªç©ºçš„ GitHub repo å¼€å§‹ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œæ„å»ºã€‚</p>
<h2 id="createourapplication">åˆ›å»º Docusaurus ç«™ç‚¹</h2>
<p>åœ¨æˆ‘ä»¬çš„åº“çš„æ ¹ç›®å½•ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª<a href="https://docusaurus.io/" target="_blank" rel="noopener"> Docusaurus ç«™ç‚¹</a>ã€‚Docusaurus æ˜¯é™æ€ç«™ç‚¹çš„ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œè¿™ç§é™æ€ç«™ç‚¹éå¸¸é€‚åˆ Jamstackã€‚å¦‚æœä½ æ„¿æ„ï¼Œä½ å¯ä»¥ç”¨å…¶ä»–çš„ï¼Œæ¯”å¦‚<a href="https://gohugo.io/" target="_blank" rel="noopener">é›¨æœ</a>ã€‚</p>
<p>åœ¨å‘½ä»¤è¡Œä¸­ï¼Œæˆ‘ä»¬å°†è¾“å…¥:</p>
<pre class="shell language-shell">npx <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3c5f4e595d48591158535f494f5d494e494f7c505d48594f48">[emailÂ protected]</a> website classic
</pre>
<p>Docusaurus å°†åœ¨<code>website</code>ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°ç«™ç‚¹ã€‚è®©æˆ‘ä»¬æ‰¿è¯ºå¹¶æ¨åŠ¨æ­¤äº‹ï¼Œå¹¶å°†æˆ‘ä»¬çš„æ³¨æ„åŠ›è½¬å‘ Azureã€‚</p>
<h2 id="creatingastaticwebappinazure">åœ¨ Azure ä¸­åˆ›å»ºé™æ€ Web åº”ç”¨ç¨‹åº</h2>
<p>æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥åœ¨ Azure ä¸­<a href="https://blog.logrocket.com/azure-static-web-apps-netlify-alternative/" target="_blank" rel="noopener">åˆ›å»ºä¸€ä¸ªé™æ€ web åº”ç”¨ã€‚æœ‰å¯èƒ½ç”¨åƒ</a><a href="https://blog.johnnyreilly.com/2021/08/15/bicep-azure-static-web-apps-azure-devops#bicep-template" target="_blank" rel="noopener"> Bicep </a>è¿™æ ·çš„è¯­è¨€å°†åŸºç¡€è®¾æ–½ä½œä¸ºä»£ç ä½¿ç”¨ã€‚ä½†æ˜¯å¯¹äºæœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a href="https://portal.azure.com"> Azure é—¨æˆ·</a>æ¥ä»£æ›¿ã€‚å¦‚æœæ‚¨è¿˜æ²¡æœ‰å¸æˆ·ï¼Œæ‚¨å¯ä»¥å¾ˆå¿«å…è´¹æ³¨å†Œä¸€ä¸ªã€‚</p>
<p>ç™»å½•åï¼Œç‚¹å‡»<strong>åˆ›å»ºèµ„æº</strong>å¹¶æŸ¥æ‰¾<strong>é™æ€ Web åº”ç”¨</strong>:</p>
<p><img data-attachment-id="93077" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-azure-portal-create-a-resource/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource.png" data-orig-size="720,429" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure portal create a resource" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-300x179.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource.png" decoding="async" class="aligncenter size-full wp-image-93077 jetpack-lazy-image" src="../Images/41c79f829a1b6d68df158995cb390c9a.png" alt="Azure Portal Create A Resource" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-300x179.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="93077" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-azure-portal-create-a-resource/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource.png" data-orig-size="720,429" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure portal create a resource" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-300x179.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-93077" src="../Images/41c79f829a1b6d68df158995cb390c9a.png" alt="Azure Portal Create A Resource" srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-300x179.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource.png"/></noscript>
<p>ç‚¹å‡»<strong>åˆ›å»º</strong>ï¼Œä½ å°†è¿›å…¥åˆ›å»ºå¯¹è¯æ¡†:</p>
<p><img data-attachment-id="93075" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-azure-portal-create-a-resource-dialog/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog.png" data-orig-size="720,845" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure portal create a resource dialog" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-256x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog.png" decoding="async" class="aligncenter size-full wp-image-93075 jetpack-lazy-image" src="../Images/4c377adac111343afb52476e25c409f2.png" alt="Azure Portal Create A Resource Dialog" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-256x300.png 256w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="93075" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-azure-portal-create-a-resource-dialog/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog.png" data-orig-size="720,845" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure portal create a resource dialog" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-256x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-93075" src="../Images/4c377adac111343afb52476e25c409f2.png" alt="Azure Portal Create A Resource Dialog" srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-256x300.png 256w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog.png"/></noscript>
<p>æ‚¨éœ€è¦ä¸ºæ‚¨çš„ SWA åˆ›å»ºä¸€ä¸ªèµ„æºç»„ã€‚ç»™ app èµ·ä¸ªåå­—ï¼Œé€‰æ‹©å…è´¹è®¡åˆ’ï¼ŒæŒ‡å®š GitHub ä½œä¸ºéƒ¨ç½²æºã€‚</p>
<p>ç‚¹å‡»<strong>ä½¿ç”¨ GitHub </strong>æŒ‰é’®ç™»å½•ï¼Œå¹¶æˆæƒ Azure è®¿é—®æ‚¨çš„ GitHub é™æ€ Web åº”ç”¨å¸æˆ·ã€‚</p>
<p><img data-attachment-id="93073" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-azure-portal-create-a-resource-dialog-repo/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo.png" data-orig-size="720,868" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure portal create a resource dialog repo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo-249x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo.png" decoding="async" class="aligncenter size-full wp-image-93073 jetpack-lazy-image" src="../Images/0b33f02a1fa97ee9d211f6f16af787ff.png" alt="Azure Portal Create A Resource Dialog Repo" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo-249x300.png 249w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="93073" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-azure-portal-create-a-resource-dialog-repo/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo.png" data-orig-size="720,868" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure portal create a resource dialog repo" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo-249x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-93073" src="../Images/0b33f02a1fa97ee9d211f6f16af787ff.png" alt="Azure Portal Create A Resource Dialog Repo" srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo-249x300.png 249w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-create-a-resource-dialog-repo.png"/></noscript>
<p>æ­¤æ—¶ï¼ŒAzure å°†ä»£è¡¨æ‚¨æŸ¥è¯¢ GitHubï¼Œå¹¶æŸ¥æ‰¾æ‚¨æœ‰æƒè®¿é—®çš„ç»„ç»‡å’Œå­˜å‚¨åº“ã€‚é€‰æ‹©è¦éƒ¨ç½²åˆ°é™æ€ web åº”ç”¨ç¨‹åºçš„å­˜å‚¨åº“ï¼Œå¹¶é€‰æ‹©è¦éƒ¨ç½²çš„åˆ†æ”¯ã€‚</p>
<p>ä½ è¿˜éœ€è¦å‘ Azure æä¾›ä¸€äº›æ„å»ºç»†èŠ‚ï¼Œå¸®åŠ©å®ƒç†è§£ä½ çš„åº”ç”¨æ˜¯å¦‚ä½•æ„å»ºçš„ã€‚æˆ‘ä»¬å°†æä¾›ä¸€ä¸ªé¢„ç½®çš„<strong>è‡ªå®šä¹‰</strong>ã€‚æˆ‘ä»¬å°†æŠŠ<strong>åº”ç”¨ç¨‹åºä½ç½®</strong>(æˆ‘ä»¬å‰ç«¯åº”ç”¨ç¨‹åºçš„æ ¹)è®¾ç½®ä¸º<code>"/website"</code>ï¼Œä»¥ç¬¦åˆæˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„åº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬å°†æŠŠ<strong> Api ä½ç½®</strong>ç•™ç©ºï¼Œå¹¶å°†è¾“å‡ºä½ç½®è®¾ç½®ä¸º<code>"build"</code>ã€‚è¿™æ˜¯<code>website</code>ä¸‹çš„ç›®å½•ï¼ŒDocusaurus å°†åœ¨è¿™é‡Œåˆ›å»ºæˆ‘ä»¬çš„ç«™ç‚¹ã€‚</p>
<p>æœ€åï¼Œç‚¹å‡»<strong>å®¡æ ¸+åˆ›å»º</strong>ï¼Œç„¶åç‚¹å‡»<strong>åˆ›å»º</strong>ã€‚</p>
<p>Azure ç°åœ¨å°†:</p>
<ul>
<li>åœ¨ Azure ä¸­åˆ›å»º Azure é™æ€ Web åº”ç”¨ç¨‹åºèµ„æº</li>
<li>æ›´æ–°æ‚¨çš„å­˜å‚¨åº“ä»¥æ·»åŠ  GitHub æ“ä½œå·¥ä½œæµæ¥éƒ¨ç½²æ‚¨çš„é™æ€ web åº”ç”¨ç¨‹åº</li>
<li>å¼€å§‹ GitHub Actions å·¥ä½œæµçš„ç¬¬ä¸€æ¬¡è¿è¡Œï¼Œä»¥éƒ¨ç½²æ‚¨çš„ SWA</li>
</ul>
<p>å¾ˆç¥å¥‡ï¼Œå¯¹å§ï¼Ÿ</p>
<p>å½“æ‚¨æŸ¥çœ‹ Azure ä¸­çš„èµ„æºæ—¶ï¼Œå®ƒçœ‹èµ·æ¥åƒè¿™æ ·:</p>
<p><img data-attachment-id="93083" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-azure-portal-static-web-app-resource/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource.png" data-orig-size="720,361" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure portal static web app resource" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource-300x150.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource.png" decoding="async" class="aligncenter size-full wp-image-93083 jetpack-lazy-image" src="../Images/36c276d465733076f503fea8d1303bad.png" alt="Azure Portal Static Web App Resource" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource-300x150.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="93083" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-azure-portal-static-web-app-resource/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource.png" data-orig-size="720,361" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure portal static web app resource" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource-300x150.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-93083" src="../Images/36c276d465733076f503fea8d1303bad.png" alt="Azure Portal Static Web App Resource" srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource-300x150.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-resource.png"/></noscript>
<p>å¦‚æœæ‚¨ç‚¹å‡» GitHub æ“ä½œè¿è¡Œï¼Œæ‚¨å°†çœ‹åˆ°æ‚¨çš„ GitHub æ“ä½œ:</p>
<p><img data-attachment-id="93087" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-github-action/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action.png" data-orig-size="720,551" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GitHub Action runs" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action-300x230.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action.png" decoding="async" class="aligncenter size-full wp-image-93087 jetpack-lazy-image" src="../Images/ee0fccb86a4d117bdce9544a0c7e5016.png" alt="GitHub Action Runs" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action-300x230.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="93087" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-github-action/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action.png" data-orig-size="720,551" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GitHub Action runs" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action-300x230.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-93087" src="../Images/ee0fccb86a4d117bdce9544a0c7e5016.png" alt="GitHub Action Runs" srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action-300x230.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-github-action.png"/></noscript>
<p>è¿è¡Œå®Œæˆåï¼Œæ‚¨å¯ä»¥é€šè¿‡ç‚¹å‡» Azure é—¨æˆ·ä¸­çš„ URL æ¥æŸ¥çœ‹æ‚¨éƒ¨ç½²çš„é™æ€ web åº”ç”¨ç¨‹åº:</p>
<p><img data-attachment-id="93093" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-static-web-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app.png" data-orig-size="720,522" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Deployed static web app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app-300x218.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app.png" decoding="async" class="aligncenter size-full wp-image-93093 jetpack-lazy-image" src="../Images/a25b9e1b5266e79d5392e070ba13139c.png" alt="Deployed Static Web App" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app-300x218.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="93093" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-static-web-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app.png" data-orig-size="720,522" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Deployed static web app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app-300x218.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-93093" src="../Images/a25b9e1b5266e79d5392e070ba13139c.png" alt="Deployed Static Web App" srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app-300x218.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-static-web-app.png"/></noscript>
<p>æˆ‘ä»¬ç°åœ¨æœ‰:</p>
<ul>
<li>åŒ…å«ç®€å• web åº”ç”¨ç¨‹åºçš„ GitHub repo</li>
<li>ä¸€ä¸ª GitHub Actions å·¥ä½œæµï¼Œéƒ¨ç½²åˆ° Azure é™æ€ Web åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸ºæ‹‰è¯·æ±‚æä¾›ä¸€ä¸ªä¸´æ—¶ç¯å¢ƒ</li>
</ul>
<h2 id="preparingtopluginlighthouse">å‡†å¤‡æ’å…¥ Lighthouse</h2>
<p>æœ‰äº†è¿™äº›åŸºç¡€ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°† Lighthouse æ·»åŠ åˆ°è¿™ä¸ªç»„åˆä¸­äº†ã€‚</p>
<p>å¦‚æœæ‚¨åœ¨ repo çš„<code>/.github/workflows</code>æ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾ï¼Œæ‚¨ä¼šå‘ç°ä¸€ä¸ªå·¥ä½œæµæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«å¦‚ä¸‹å†…å®¹:</p>
<pre class="yml language-yml">name: Azure Static Web Apps CI/CD

on:
  push:
    branches:
      - main
  pull_request:
    types: [opened, synchronize, reopened, closed]
    branches:
      - main

jobs:
  build_and_deploy_job:
    if: github.event_name == 'push' || (github.event_name == 'pull_request' &amp;&amp; github.event.action != 'closed')
    runs-on: ubuntu-latest
    name: Build and Deploy Job
    steps:
      - uses: actions/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="88ebe0edebe3e7fdfcc8feba">[emailÂ protected]</a>
        with:
          submodules: true
      - name: Build And Deploy
        id: builddeploy
        uses: Azure/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="413235203528226c3624236c203131326c2524312d2e38013770">[emailÂ protected]</a>
        with:
          azure_static_web_apps_api_token: ${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN_AGREEABLE_ROCK_039A51810 }}
          repo_token: ${{ secrets.GITHUB_TOKEN }} # Used for Github integrations (i.e. PR comments)
          action: 'upload'
          ###### Repository/Build Configurations - These values can be configured to match your app requirements. ######
          # For more information regarding Static Web App workflow configurations, please visit: https://aka.ms/swaworkflowconfig
          app_location: '/website' # App source code path
          api_location: '' # Api source code path - optional
          output_location: 'build' # Built app content directory - optional
          ###### End of Repository/Build Configurations ######

  close_pull_request_job:
    if: github.event_name == 'pull_request' &amp;&amp; github.event.action == 'closed'
    runs-on: ubuntu-latest
    name: Close Pull Request Job
    steps:
      - name: Close Pull Request
        id: closepullrequest
        uses: Azure/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e6959287928f85cb918384cb87969695cb8283968a899fa690d7">[emailÂ protected]</a>
        with:
          azure_static_web_apps_api_token: ${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN_AGREEABLE_ROCK_039A51810 }}
          action: 'close'
</pre>
<p>è¿™æ˜¯æˆ‘ä»¬åœ¨ Azure ä¸­å»ºç«‹ SWA æ—¶ä¸ºæˆ‘ä»¬åˆ›å»ºçš„ã€‚ç°åœ¨æˆ‘ä»¬å°†æ›´æ–°å†…å®¹ä»¥æ·»åŠ ä¸€äº› Lighthouse ä½œä¸šã€‚</p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è·å¾—ä¸¤æ ·ä¸œè¥¿:</p>
<ol>
<li>æˆ‘ä»¬é™æ€ web åº”ç”¨ç¨‹åºçš„è‡ªå®šä¹‰åŸŸ</li>
<li>SWA æ‰€åœ¨çš„èµ„æºç»„çš„ä½ç½®</li>
</ol>
<p>è¿™ä¸¤æ¡ä¿¡æ¯æ˜¯å¿…éœ€çš„ï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½ç¡®å®šæˆ‘ä»¬çš„ç™»å°ç¯å¢ƒçš„ URLã€‚</p>
<h3 id="customdomain">è‡ªå®šä¹‰åŸŸ</h3>
<p>æˆ‘ä»¬åœ¨ Azure é—¨æˆ·çš„<strong>è‡ªå®šä¹‰åŸŸ</strong>å±å¹•ä¸­è·å–é™æ€ web åº”ç”¨çš„è‡ªå®šä¹‰åŸŸ:</p>
<p><img data-attachment-id="93079" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-azure-portal-static-web-app-custom-domain/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain.png" data-orig-size="720,208" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure portal static web app custom domain" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain-300x87.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain.png" decoding="async" class="aligncenter size-full wp-image-93079 jetpack-lazy-image" src="../Images/20745c8e62a796204d48261a4a055825.png" alt="Azure Portal Static Web App Custom Domain" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain-300x87.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="93079" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-azure-portal-static-web-app-custom-domain/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain.png" data-orig-size="720,208" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure portal static web app custom domain" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain-300x87.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-93079" src="../Images/20745c8e62a796204d48261a4a055825.png" alt="Azure Portal Static Web App Custom Domain" srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain-300x87.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-custom-domain.png"/></noscript>
<p>è‡ªå®šä¹‰åŸŸæ˜¯è‡ªåŠ¨ç”Ÿæˆçš„è‡ªå®šä¹‰åŸŸ(åœ¨ä¸Šé¢çš„å±å¹•æˆªå›¾ä¸­çªå‡ºæ˜¾ç¤º)ã€‚å¯¹äºæˆ‘ä»¬åœ¨è¿™é‡Œæ„å»ºçš„ SWAï¼Œå®šåˆ¶åŸŸæ˜¯<code>agreeable-rock-039a51810.1.azurestaticapps.net</code>ã€‚</p>
<h3 id="location">ä½ç½®</h3>
<p>æˆ‘ä»¬é€šè¿‡æŸ¥çœ‹ Azure é—¨æˆ·ä¸­çš„èµ„æºç»„æ¥è·å–ä½ç½®ã€‚å¯¹äºæˆ‘ä»¬ä¸€ç›´åœ¨å»ºè®¾çš„è¥¿å—å¨å°”å£«å·ï¼Œä½ç½®æ˜¯â€œç¾å›½ä¸­éƒ¨â€ç„¶è€Œï¼Œæˆ‘ä»¬æƒ³è¦çš„ä¸æ˜¯ä½ç½®çš„â€œæ˜¾ç¤ºåç§°â€å˜é‡ï¼Œè€Œæ˜¯å°†åœ¨ URL ä¸­ä½¿ç”¨çš„â€œä»£ç â€ã€‚ä½ å¯ä»¥é€šè¿‡ç‚¹å‡» Azure é—¨æˆ·ä¸­çš„<strong> JSON è§†å›¾</strong>æ¥æŸ¥çœ‹è¿™æ˜¯ä»€ä¹ˆ:</p>
<p><img data-attachment-id="93085" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-azure-portal-static-web-app-rg-location/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location.png" data-orig-size="720,172" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure portal static web app location" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location-300x72.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location.png" decoding="async" class="aligncenter size-full wp-image-93085 jetpack-lazy-image" src="../Images/7a5f548aa06902d0c64fc4550f09dc45.png" alt="Azure Portal Static Web App Location" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location-300x72.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="93085" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-azure-portal-static-web-app-rg-location/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location.png" data-orig-size="720,172" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Azure portal static web app location" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location-300x72.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-93085" src="../Images/7a5f548aa06902d0c64fc4550f09dc45.png" alt="Azure Portal Static Web App Location" srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location-300x72.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-azure-portal-static-web-app-rg-location.png"/></noscript>
<p>æ­£å¦‚ä¸Šé¢çš„æˆªå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬éœ€è¦çš„ä»£ç æ˜¯<code>centralus</code>ã€‚</p>
<h2 id="plugginginlighthouse">æ’å…¥ç¯å¡”</h2>
<p>æˆ‘ä»¬ç°åœ¨æœ‰äº†æ’å…¥ Lighthouse æ‰€éœ€çš„ä¸€åˆ‡ã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåˆ†æ”¯:</p>
<pre class="shell language-shell">git checkout -b lighthouse
</pre>
<p>æˆ‘ä»¬å°†å‘ GitHub Actions å·¥ä½œæµæ–‡ä»¶æ·»åŠ ä¸€ä¸ªæ–°çš„<code>Lighthouse report</code>ä½œä¸š:</p>
<pre class="yml language-yml">lighthouse_report_job:
  name: Lighthouse report
  if: github.event_name == 'pull_request' &amp;&amp; github.event.action != 'closed'
  runs-on: ubuntu-latest
  steps:
    - uses: actions/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="34575c51575f5b4140744206">[emailÂ protected]</a>

    - name: Static Web App - get preview URL
      id: static_web_app_preview_url
      uses: azure/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5b1817121b2d6a">[emailÂ protected]</a>
      with:
        inlineScript: |
          CUSTOM_DOMAIN='agreeable-rock-039a51810.1.azurestaticapps.net'
          LOCATION='centralus'

          PREVIEW_URL="https://${CUSTOM_DOMAIN/.[1-9]./-${{github.event.pull_request.number }}.$LOCATION.1.}"

          echo "::set-output name=PREVIEW_URL::$PREVIEW_URL"

    - name: Static Web App - wait for preview
      id: static_web_app_wait_for_preview
      uses: nev7n/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e097818994bf868f92bf928593908f8e9385a096d1">[emailÂ protected]</a>
      with:
        url: '${{ steps.static_web_app_preview_url.outputs.PREVIEW_URL }}'
        responseCode: 200
        timeout: 600000
        interval: 1000

    - name: Audit URLs using Lighthouse
      id: lighthouse_audit
      uses: treosh/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5c30353b34283433292f39713f35713d3f283533321c2a64">[emailÂ protected]</a>
      with:
        urls: |
          ${{ steps.static_web_app_preview_url.outputs.PREVIEW_URL }}
        configPath: ./.github/workflows/lighthousesrc.json
        uploadArtifacts: true
        temporaryPublicStorage: true
        runs: 5

    - name: Format lighthouse score
      id: format_lighthouse_score
      uses: actions/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="187f716c706d7a356b7b6a71686c586e2d">[emailÂ protected]</a>
      with:
        script: |
          const lighthouseCommentMaker = require('./.github/workflows/lighthouseCommentMaker.js');

          const lighthouseOutputs = {
            manifest: ${{ steps.lighthouse_audit.outputs.manifest }},
            links: ${{ steps.lighthouse_audit.outputs.links }}
          };

          const comment = lighthouseCommentMaker({ lighthouseOutputs });
          core.setOutput("comment", comment);

    - name: Add Lighthouse stats as comment
      id: comment_to_pr
      uses: marocchino/<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dba8afb2b8b0a2f6abaeb7b7f6a9beaaaebea8aff6b8b4b6b6beb5af9bade9f5ebf5eb">[emailÂ protected]</a>
      with:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        number: ${{ github.event.pull_request.number }}
        header: lighthouse
        message: ${{ steps.format_lighthouse_score.outputs.comment }}
</pre>
<p>åœ¨è¿™ä¸ªå·¥ä½œæµç¨‹ä¸­å‘ç”Ÿäº†å¾ˆå¤šäº‹æƒ…ã€‚è®©æˆ‘ä»¬ç©¿è¿‡å®ƒä»¬ã€‚</p>
<h3 id="staticwebappgetpreviewurl">é™æ€ Web åº”ç”¨ç¨‹åº:è·å–é¢„è§ˆ URL</h3>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹ä»£ç æ„é€ é™æ€ web åº”ç”¨ç¨‹åºçš„é¢„è§ˆ URL:</p>
<ul>
<li>è‡ªå®šä¹‰åŸŸ</li>
<li>ä½ç½®</li>
<li>æ‹‰å–è¯·æ±‚ç¼–å·(ä¾‹å¦‚ï¼Œ123)</li>
</ul>
<p>ç»™å®šä¸€ä¸ªå®šåˆ¶åŸŸ<code>agreeable-rock-039a51810.1.azurestaticapps.net</code>ï¼Œä¸€ä¸ªä½ç½®<code>centralus</code>ï¼Œä»¥åŠä¸€ä¸ªæ‹‰è¯·æ±‚å·<code>123</code>ï¼Œé¢„è§ˆ URL å°†æ˜¯<code>agreeable-rock-039a51810-123.centralus.1.azurestaticapps.net</code>ã€‚ä½¿ç”¨ä¸€ç‚¹ Bash é­”æ³•ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåŒ…å«è¯¥å€¼çš„åä¸º<code>PREVIEW_URL</code>çš„è¾“å‡ºå˜é‡ã€‚æˆ‘ä»¬ç¨åå°†åœ¨å·¥ä½œæµä¸­é‡ç”¨å®ƒã€‚</p><div class="code-block code-block-54">
<hr/>
<h3>æ›´å¤šæ¥è‡ª LogRocket çš„ç²¾å½©æ–‡ç« :</h3>

<hr/></div>
<h3 id="staticwebappwaitforpreview">é™æ€ Web åº”ç”¨ç¨‹åº:ç­‰å¾…é¢„è§ˆ</h3>
<p>æˆ‘ä»¬ä¸æƒ³åœ¨é™æ€ web åº”ç”¨ç¨‹åºå¯åŠ¨å¹¶è¿è¡Œä¹‹å‰è¿è¡Œæˆ‘ä»¬çš„æµ‹è¯•ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å¼•å…¥<a href="https://github.com/nev7n/wait_for_response"> <code>wait_for_response</code> </a> GitHub åŠ¨ä½œã€‚è¿™ç§è½®è¯¢ä¸€ç›´æŒç»­åˆ°ç½‘ç«™è¿”å›ä¸€ä¸ª<code>200</code>ã€‚æˆ‘ä»¬è¦æŠŠå®ƒæŒ‡å‘æˆ‘ä»¬çš„ SWAã€‚</p>
<h3 id="auditurlsusinglighthouse">ä½¿ç”¨ Lighthouse å®¡è®¡ URL</h3>
<p>é‡è¦çš„æ—¶åˆ»å·²ç»åˆ°æ¥ï¼æˆ‘ä»¬å°†ä½¿ç”¨ GitHub åŠ¨ä½œ<a href="https://github.com/treosh/lighthouse-ci-action"> <code>lighthouse-ci-action</code> </a>å°† Lighthouse æ’å…¥åˆ°æˆ‘ä»¬çš„å·¥ä½œæµä¸­ã€‚</p>
<p>æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>configPath: ./.github/workflows/lighthousesrc.json</code>ï¼Œå®ƒæŒ‡å‘é…ç½® Lighthouse é…ç½®çš„æ–‡ä»¶ã€‚æˆ‘ä»¬ä¹Ÿå°†åˆ›å»ºè¯¥æ–‡ä»¶ï¼Œå¹¶ç”¨ä»¥ä¸‹å†…å®¹å¡«å……å®ƒ:</p>
<pre class="json language-json">{
  "ci": {
    "collect": {
      "settings": {
        "configPath": "./.github/workflows/lighthouse-config.js"
      }
    }
  }
}
</pre>
<p>è¿™åè¿‡æ¥å°†å…·ä½“çš„é…ç½®äº¤ç»™äº†ä¸€ä¸ª<code>lighthouse-config.js</code>æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦åˆ›å»ºè¿™ä¸ªæ–‡ä»¶:</p>
<pre class="js language-js">// see https://github.com/GoogleChrome/lighthouse/blob/master/docs/configuration.md
module.exports = {
  extends: 'lighthouse:default',
  settings: {
    // audits can be found here:
    // https://github.com/GoogleChrome/lighthouse/blob/eba2a4d19c5786dc37e993858ff4b663181f81e5/lighthouse-core/config/default-config.js#L174
    skipAudits: [
      'canonical', // for staging sites this will always be incorrect
      'maskable-icon',
      'valid-source-maps',
      'unsized-images',
      'offline-start-url',
    ],
  },
};
</pre>
<p>ä¸Šé¢çš„é…ç½®å¯ä»¥æ ¹æ®è¯„è®ºä¸­çš„ä¸åŒé“¾æ¥è¿›è¡Œä¿®æ”¹ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨é»˜è®¤å€¼æ˜¯ä¸ªå¥½ä¸»æ„ã€‚ç„¶è€Œï¼Œè·³è¿‡<code>canonical</code>å®¡è®¡æ˜¯æ˜æ™ºçš„ï¼Œå› ä¸ºå®ƒå¯¹äºæš‚å­˜ç«™ç‚¹è‚¯å®šæ˜¯ä¸æ­£ç¡®çš„ã€‚</p>
<p>é™¤äº† Lighthouse é…ç½®ï¼Œè¿˜æœ‰ GitHub åŠ¨ä½œæœ¬èº«çš„é…ç½®:</p>
<ul>
<li><code>uploadArtifacts: true</code>â€“å°†ç»“æœä¿å­˜ä¸ºä¸€ä¸ªåŠ¨ä½œå·¥ä»¶</li>
<li><code>temporaryPublicStorage: true</code>â€“å°†ç¯å¡”æŠ¥å‘Šä¸Šä¼ åˆ°ä¸´æ—¶å­˜å‚¨å™¨</li>
<li><code>runs: 5</code>â€“å°†è¿è¡Œ Lighthouse 5 æ¬¡ï¼Œä»¥è·å¾—æ›´å¯é çš„æ€§èƒ½ç»“æœ</li>
</ul>
<h3 id="formatlighthousescore">æ ¼å¼åŒ–ç¯å¡”ä¹è°±</h3>
<p>æˆ‘ä»¬å·²ç»è¿è¡Œäº†ç¯å¡”ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¸Œæœ›è·å¾—è¿è¡Œçš„ç»“æœå¹¶æ„å»ºä¸€äº›æ–‡æœ¬ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›æ–‡æœ¬ä½œä¸ºæ³¨é‡Šæ·»åŠ åˆ°æˆ‘ä»¬çš„ pull è¯·æ±‚ä¸­ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a href="https://github.com/actions/github-script" target="_blank" rel="noopener"> <code>github-script</code> </a> GitHub åŠ¨ä½œï¼Œè·å–ä¸Šä¸€æ­¥çš„è¾“å‡ºï¼Œå¹¶è°ƒç”¨æˆ‘ä»¬è¦ç¼–å†™çš„<code>lighthouseCommentMaker.js</code>æ–‡ä»¶ï¼Œä»¥ç”Ÿæˆæˆ‘ä»¬è¦å‘å¸ƒåˆ° PR çš„è¯„è®º:</p>
<pre class="js language-js">// @ts-check

/**
 * @typedef {Object} Summary
 * @prop {number} performance
 * @prop {number} accessibility
 * @prop {number} best-practices
 * @prop {number} seo
 * @prop {number} pwa
 */

/**
 * @typedef {Object} Manifest
 * @prop {string} url
 * @prop {boolean} isRepresentativeRun
 * @prop {string} htmlPath
 * @prop {string} jsonPath
 * @prop {Summary} summary
 */

/**
 * @typedef {Object} LighthouseOutputs
 * @prop {Record&lt;string, string&gt;} links
 * @prop {Manifest[]} manifest
 */

const formatScore = (/** @type { number } */ score) =&gt; Math.round(score * 100);
const emojiScore = (/** @type { number } */ score) =&gt;
  score &gt;= 0.9 ? 'ğŸŸ¢' : score &gt;= 0.5 ? 'ğŸŸ ' : 'ğŸ”´';

const scoreRow = (
  /** @type { string } */ label,
  /** @type { number } */ score
) =&gt; `| ${emojiScore(score)} ${label} | ${formatScore(score)} |`;

/**
 * @param {LighthouseOutputs} lighthouseOutputs
 */
function makeComment(lighthouseOutputs) {
  const { summary } = lighthouseOutputs.manifest[0];
  const [[testedUrl, reportUrl]] = Object.entries(lighthouseOutputs.links);

  const comment = `## âš¡ï¸ğŸ  Lighthouse report

We ran Lighthouse against the changes and produced this [report](${reportUrl}). Here's the summary:

| Category | Score |
| -------- | ----- |
${scoreRow('Performance', summary.performance)}
${scoreRow('Accessibility', summary.accessibility)}
${scoreRow('Best practices', summary['best-practices'])}
${scoreRow('SEO', summary.seo)}
${scoreRow('PWA', summary.pwa)}

*Lighthouse ran against [${testedUrl}](${testedUrl})*
`;

  return comment;
}

module.exports = ({ lighthouseOutputs }) =&gt; {
  return makeComment(lighthouseOutputs);
};
</pre>
<p>ä¸Šé¢çš„ä»£ç è·å– Lighthouse çš„è¾“å‡ºï¼Œå¹¶åˆ›å»ºä¸€äº› Markdown æ¥è¡¨ç¤ºç»“æœã€‚å®ƒè¿˜ä½¿ç”¨äº†ä¸€äº›ä¸é”™çš„è¡¨æƒ…ç¬¦å·ã€‚</p>
<p>ä»¤äººæƒŠå¥‡çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å®Œå…¨è‡ªç”±åœ°å¯¹å…¶è¿›è¡Œå®šåˆ¶ï¼›åªæ˜¯ä»£ç è€Œå·²ï¼é‡è¦çš„æ˜¯æœ€åæŠ½å‡ºä¸€æ ¹å¼¦ã€‚</p>

<p>æœ€åï¼Œæˆ‘ä»¬å‡†å¤‡å°†è¯„è®ºæ·»åŠ åˆ° PR ä¸­ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ GitHub çš„<a href="https://github.com/marocchino/sticky-pull-request-comment"> <code>sticky-pull-request-comment</code> </a>åŠ¨ä½œæ¥å®ç°ã€‚æˆ‘ä»¬ä¼ å…¥åœ¨ä¸Šä¸€æ­¥ä¸­åˆšåˆšåšçš„æ³¨é‡Šï¼Œä»¥åŠä¸€äº›å…¶ä»–å‚æ•°ï¼Œè¿™å°†æŠŠæ³¨é‡Šå†™å…¥ PRã€‚</p>
<h2 id="puttingitalltogether">æŠŠæ‰€æœ‰çš„æ”¾åœ¨ä¸€èµ·</h2>
<p>å½“æˆ‘ä»¬æäº¤æˆ‘ä»¬çš„æ›´æ”¹å¹¶æå‡ºä¸€ä¸ª pull è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬çœ‹åˆ°æˆ‘ä»¬çš„ GitHub åŠ¨ä½œè¿è¡Œã€‚ä¸€æ—¦å®Œæˆï¼Œæˆ‘ä»¬å°±ä¼šçœ‹åˆ°ä¸€ä¸ªç¯å¡”æŠ¥å‘Šè¢«é™„åŠ åˆ°æˆ‘ä»¬çš„æ‹‰å–è¯·æ±‚ä¸­:</p>
<p><img data-attachment-id="93089" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-lighthouse-github-comment/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment.png" data-orig-size="720,420" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GitHub comments in Lighthouse" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment.png" decoding="async" class="aligncenter size-full wp-image-93089 jetpack-lazy-image" src="../Images/6e39e9de23f90fe173a924858348b984.png" alt="GitHub Comments In Lighthouse" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment-300x175.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="93089" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-lighthouse-github-comment/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment.png" data-orig-size="720,420" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="GitHub comments in Lighthouse" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment-300x175.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-93089" src="../Images/6e39e9de23f90fe173a924858348b984.png" alt="GitHub Comments In Lighthouse" srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment-300x175.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-github-comment.png"/></noscript>
<p>ä½ ä¹Ÿå¯ä»¥ç‚¹å‡»è¯„è®ºä¸­çš„é“¾æ¥ç›´æ¥è¿›å…¥å®Œæ•´çš„æŠ¥å‘Šã€‚</p>
<p><img data-attachment-id="93091" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-lighthouse-report/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report.png" data-orig-size="720,345" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Full Lighthouse report" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report-300x144.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report.png" decoding="async" class="aligncenter size-full wp-image-93091 jetpack-lazy-image" src="../Images/4397fa71eb989e78647a225f23d23c13.png" alt="Full Lighthouse Report" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report-300x144.png 300w" data-lazy-sizes="(max-width: 720px) 100vw, 720px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="93091" data-permalink="https://blog.logrocket.com/lighthouse-meets-github-actions-use-lighthouse-ci/screenshot-lighthouse-report/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report.png" data-orig-size="720,345" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Full Lighthouse report" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report-300x144.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report.png" decoding="async" loading="lazy" class="aligncenter size-full wp-image-93091" src="../Images/4397fa71eb989e78647a225f23d23c13.png" alt="Full Lighthouse Report" srcset="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report.png 720w, https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report-300x144.png 300w" sizes="(max-width: 720px) 100vw, 720px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/02/screenshot-lighthouse-report.png"/></noscript>
<p>ç°åœ¨ï¼Œéšç€æ¯ä¸€ä¸ª PR çš„æå‡ºï¼Œä»»ä½•æ€§èƒ½ä¸Šçš„å€’é€€éƒ½å¯ä»¥åœ¨å®¢æˆ·ä½“éªŒåˆ°ä¹‹å‰è§‚å¯Ÿåˆ°å¹¶è§£å†³ã€‚</p><div class="code-block code-block-1">
<div class="blog-plug base-cta"><h2>ä½¿ç”¨<a class="signup" href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ¶ˆé™¤ä¼ ç»Ÿé”™è¯¯æŠ¥å‘Šçš„å¹²æ‰°</h2>
<a href="https://lp.logrocket.com/blg/signup" class="signup" target="_blank" rel="noopener noreferrer"><img class="alignnone size-full wp-image-46 jetpack-lazy-image" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/><noscript><img data-lazy-fallback="1" class="alignnone size-full wp-image-46" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/></noscript></a>
<p><a href="https://lp.logrocket.com/blg/signup" target="_blank" rel="noopener noreferrer"> LogRocket </a>æ˜¯ä¸€ä¸ªæ•°å­—ä½“éªŒåˆ†æè§£å†³æ–¹æ¡ˆï¼Œå®ƒå¯ä»¥ä¿æŠ¤æ‚¨å…å—æ•°ç™¾ä¸ªå‡é˜³æ€§é”™è¯¯è­¦æŠ¥çš„å½±å“ï¼Œåªé’ˆå¯¹å‡ ä¸ªçœŸæ­£é‡è¦çš„é¡¹ç›®ã€‚LogRocket ä¼šå‘Šè¯‰æ‚¨åº”ç”¨ç¨‹åºä¸­å®é™…å½±å“ç”¨æˆ·çš„æœ€å…·å½±å“åŠ›çš„ bug å’Œ UX é—®é¢˜ã€‚</p>
<p>ç„¶åï¼Œä½¿ç”¨å…·æœ‰æ·±å±‚æŠ€æœ¯é¥æµ‹çš„ä¼šè¯é‡æ”¾æ¥ç¡®åˆ‡åœ°æŸ¥çœ‹ç”¨æˆ·çœ‹åˆ°äº†ä»€ä¹ˆä»¥åŠæ˜¯ä»€ä¹ˆå¯¼è‡´äº†é—®é¢˜ï¼Œå°±åƒä½ åœ¨ä»–ä»¬èº«åçœ‹ä¸€æ ·ã€‚</p>
<p>LogRocket è‡ªåŠ¨èšåˆå®¢æˆ·ç«¯é”™è¯¯ã€JS å¼‚å¸¸ã€å‰ç«¯æ€§èƒ½æŒ‡æ ‡å’Œç”¨æˆ·äº¤äº’ã€‚ç„¶å LogRocket ä½¿ç”¨æœºå™¨å­¦ä¹ æ¥å‘Šè¯‰ä½ å“ªäº›é—®é¢˜æ­£åœ¨å½±å“å¤§å¤šæ•°ç”¨æˆ·ï¼Œå¹¶æä¾›ä½ éœ€è¦ä¿®å¤å®ƒçš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>å…³æ³¨é‡è¦çš„ bugâ€”<a class="signup" href="https://lp.logrocket.com/blg/signup-issue-free" target="_blank" rel="noopener noreferrer">ä»Šå¤©å°±è¯•è¯• LogRocketã€‘ã€‚</a></p></div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>