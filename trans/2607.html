<html>
<head>
<title>Getting started with Refine, the React-based framework - LogRocket Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Refine å…¥é—¨ï¼ŒåŸºäº React çš„æ¡†æ¶- LogRocket åšå®¢</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://blog.logrocket.com/getting-started-refine-react-based-framework/#0001-01-01">https://blog.logrocket.com/getting-started-refine-react-based-framework/#0001-01-01</a></blockquote><div><article class="article-post">
<p/>
<p>åœ¨å‰ç«¯æŠ€æœ¯ä¸–ç•Œä¸­å­¦ä¹ å¤šç§æ¡†æ¶ä¸ä»…ä»…æ˜¯æœ‰è¶£çš„ï¼Œå®ƒä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªèªæ˜çš„èŒä¸šå‘å±•å’Œæœªæ¥é¡¹ç›®çš„è‰¯å¥½å®è·µã€‚ä¸‡ä¸€ä½ å†æ¬¡é‡åˆ°æ–°çš„æ¡†æ¶ï¼Œä½ å°±å‡†å¤‡å¥½äº†ã€‚</p>
<p>Refine æ˜¯å¦ä¸€ä¸ªå¾ˆæ£’çš„æ¡†æ¶ï¼Œå®ƒçš„å‘å¸ƒæ˜¯ä¸ºäº†å‡è½»å¼€å‘è€…åœ¨è·¯ç”±ã€è®¤è¯å’ŒçŠ¶æ€ç®¡ç†æ–¹é¢çš„å‹åŠ›ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£åŸºäº React çš„æ¡†æ¶ Refine å¦‚ä½•é€šè¿‡åˆ›å»ºä¸€ä¸ªæ¼”ç¤ºç”¨æˆ·è®¤è¯å’Œè·¯ç”±çš„ç®€å• web åº”ç”¨ç¨‹åºæ¥å¸®åŠ©å¼€å‘äººå‘˜ä½¿ç”¨å…¶å†…ç½®ç‰¹æ€§ã€‚</p>
<h2>ä»€ä¹ˆæ˜¯ç²¾ç‚¼ï¼Ÿ</h2>
<p>Refine æ˜¯ä¸€ä¸ªåŸºäº React çš„æ¡†æ¶ï¼Œç”¨äºå¿«é€Ÿå¼€å‘æ•°æ®å¯†é›†å‹åº”ç”¨ã€‚å®ƒä½¿ç”¨äº†<a href="https://blog.logrocket.com/introduction-to-ant-design/" target="_blank" rel="noopener"> Ant Design </a>ç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªé¢å‘ä¸šåŠ¡çš„ç”¨æˆ·ç•Œé¢å·¥å…·åŒ…ã€‚</p>
<p>Refine é™„å¸¦äº†è®¸å¤šé¢„æ„å»ºçš„åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©æ‚¨å¿«é€Ÿå…¥é—¨ï¼Œè€Œä¸ä¼šå¤±å»å¯å®šåˆ¶æ€§ã€‚è·¯ç”±ã€è”ç½‘ã€è®¤è¯ã€çŠ¶æ€ç®¡ç†å’Œå›½é™…åŒ–éƒ½æ˜¯è¿™ç§åŠŸèƒ½çš„ä¾‹å­ã€‚</p>
<p>Refine çš„è¶…èƒ½åŠ›æ˜¯å®Œå…¨æ§åˆ¶ç”¨æˆ·ç•Œé¢ã€‚å®ƒéå¸¸é€‚åˆéœ€è¦å¤„ç†å¤§é‡æ•°æ®çš„åº”ç”¨ç¨‹åºï¼Œå¦‚ç®¡ç†é¢æ¿å’Œä»ªè¡¨æ¿ï¼Œå¹¶ä¸”å®ƒä¸º REST å’Œ GraphQL æä¾›äº†æ•°æ®åº“æ”¯æŒï¼ŒåŒ…æ‹¬ Strapi å’Œ NestJS CRUDã€‚</p>
<h2>å…ˆå†³æ¡ä»¶</h2>
<p>è¦ç†è§£æœ¬æ•™ç¨‹ï¼Œæ‚¨éœ€è¦:</p>
<ul>
<li>React v16 æˆ–æ›´æ–°ç‰ˆæœ¬</li>
<li>React çš„å·¥ä½œçŸ¥è¯†</li>
<li>Node.js çš„å·¥ä½œçŸ¥è¯†</li>
<li>æ–‡æœ¬ç¼–è¾‘å™¨</li>
</ul>
<h2>ä½¿ç”¨ç²¾ç‚¼é’©</h2>
<p>åœ¨æˆ‘ä»¬å¼€å§‹æ„å»ºæˆ‘ä»¬çš„ç¤ºä¾‹åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ Refine æœ€å¥½çš„ç‰¹æ€§ä¹‹ä¸€:é’©å­ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒRefine çš„é’©å­ä½¿å¾—ä¸ web åº”ç”¨ç¨‹åºçš„é›†æˆå˜å¾—æ›´åŠ å®¹æ˜“ã€‚æœ€æ£’çš„æ˜¯ï¼Œé™¤äº†å®ƒä»¬æ‰€åŸºäºçš„åŸç”Ÿ React é’©å­ä¹‹å¤–ï¼ŒRefine çš„é’©å­è¿˜åŒ…æ‹¬ä¸€äº›é¢å¤–çš„ç‰¹æ€§ã€‚</p>
<p>æ•°æ®æŒ‚é’©åŒ…æ‹¬<code>useCreate</code>ã€<code>useUpdate</code>ã€<code>useDelete</code>ã€<code>useCustom</code>å’Œ<code>useApiUrl</code>ï¼Œæ˜¯ Refine æä¾›çš„ä¸€äº›é™„åŠ åŠŸèƒ½ã€‚å®ƒä»¬ç±»ä¼¼äºæ‚¨å¯ä»¥åœ¨<a href="https://blog.logrocket.com/whats-new-in-react-query-3/" target="_blank" rel="noopener"> React æŸ¥è¯¢</a>ä¸­æ‰¾åˆ°çš„é’©å­â€”â€”æŸ¥çœ‹<a href="https://refine.dev/docs/api-references/hooks/data/useCreate/" target="_blank" rel="noopener">æ–‡æ¡£</a>ä»¥äº†è§£æ›´å¤šå…³äº Refine çš„æ•°æ®é’©å­çš„ä¿¡æ¯ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä¸»è¦å…³æ³¨æˆæƒæŒ‚é’©ï¼Œå› ä¸ºæˆ‘ä»¬å°†åœ¨ç¨åæ„å»ºç¤ºä¾‹åº”ç”¨ç¨‹åºæ—¶å®ç°å®ƒä»¬ã€‚</p>
<h3>Refine çš„æˆæƒæŒ‚é’©</h3>
<p>è¿™äº›é’©å­æœ‰åŠ©äº web åº”ç”¨ç¨‹åºçš„èº«ä»½éªŒè¯ã€‚å®ƒä»¬æˆäºˆæˆ‘ä»¬è¶…èƒ½åŠ›ï¼Œä¾‹å¦‚åœ¨è®¿é—®å—ä¿æŠ¤çš„è·¯ç”±ä¹‹å‰éªŒè¯ç”¨æˆ·ç™»å½•ã€æ³¨é”€æˆ–éªŒè¯ç°æœ‰ç”¨æˆ·æ˜¯å¦æ»¡è¶³ç‰¹å®šæ ‡å‡†çš„èƒ½åŠ›ã€‚å®ƒé‡‡ç”¨ä»¥ä¸‹åŠŸèƒ½:</p>
<p>é¦–å…ˆï¼Œ<code>useLogin</code>è°ƒç”¨ä¸€ä¸ª<code>authProvider</code>ç™»å½•æ–¹æ³•ï¼Œå¦‚æœç™»å½•æ–¹æ³•æˆåŠŸï¼Œå®ƒå°†éªŒè¯åº”ç”¨ç¨‹åºï¼Œå¦‚æœå¤±è´¥ï¼Œå®ƒå°†æ˜¾ç¤ºä¸€ä¸ªé”™è¯¯é€šçŸ¥ã€‚æˆåŠŸè®¤è¯åï¼Œå®ƒä¼šå°†ç”¨æˆ·è¿”å›åˆ°åŸºæœ¬åº”ç”¨ç¨‹åº:</p>
<pre class="language-javascript hljs">import { useLogin, Form } from "@pankod/refine";

export const LoginPage = () =&gt; {
    const { mutate: login } = useLogin()

    const onSubmit = (values) =&gt; {
        login(values);
    };

    return (
        &lt;Form onFinish={onSubmit}&gt;
            // rest of the login form
        &lt;/Form&gt;
    )
}
</pre>
<p>æ¥ä¸‹æ¥ï¼Œ<code>useLogout</code>è°ƒç”¨<code>authProvider</code>çš„ logout æ–¹æ³•ã€‚å¦‚æœ<code>authProvider</code>çš„æ³¨é”€æ–¹æ³•æˆåŠŸï¼Œå®ƒå°†éªŒè¯åº”ç”¨ç¨‹åºï¼›å¦‚æœå¤±è´¥ï¼Œèº«ä»½éªŒè¯çŠ¶æ€ä¿æŒä¸å˜ã€‚</p>
<p>è¯·çœ‹ä¸‹é¢çš„ä¸€å°æ®µï¼Œçœ‹çœ‹è¿™ä¸ªé’©å­æ˜¯å¦‚ä½•å·¥ä½œçš„:</p>
<pre class="language-javascript hljs">import { useLogout, Button } from "@pankod/refine";

export const LogoutButton = () =&gt; {
    const { mutate: logout } = useLogout();

    return (
        &lt;Button onClick={() =&gt; logout()}&gt;
            Logout
        &lt;/Button&gt;
    )
}
</pre>
<p><code>useCheckError</code>è°ƒç”¨<code>authProvider</code>çš„<code>checkError</code>åŠŸèƒ½ã€‚å¦‚æœ<code>checkError</code>è¿”å›ä¸€ä¸ªè¢«æ‹’ç»çš„æ‰¿è¯ºï¼Œåˆ™<code>useCheckError</code>è¿è¡Œ<code>authProvider</code>çš„æ³¨é”€æ–¹æ³•ï¼Œå¹¶ä¸”è¯¥åº”ç”¨æœªç»è®¤è¯:</p>
<pre class="language-javascript hljs">import { useCheckError } from "@pankod/refine";

const { mutate: checkError } = useCheckError();

fetch("https://api.fake-rest.refine.dev/users)
    .then(() =&gt; console.log("Success"))
    .catch((error) =&gt; checkError(error));
</pre>
<p>æœ€åï¼Œ<code>useAuthenticated</code>è°ƒç”¨<code>authProvider</code>çš„<code>checkAuth</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ£€æŸ¥ä»»ä½•ç‰¹å®šçš„å’Œå—ä¿æŠ¤çš„åŠ¨ä½œã€‚</p>
<h3>æ¡Œå­æŒ‚é’©</h3>
<p>é€šè¿‡ä½¿ç”¨<code>useTable()</code>é’©å­ï¼Œæ‚¨å¯ä»¥è®¿é—®ä¸ Ant Design çš„<code>Table</code>ç»„ä»¶å…¼å®¹çš„å±æ€§ã€‚è¿™ä¸ªé’©å­æä¾›äº†å‡ ä¸ªåŠŸèƒ½ï¼Œæ¯”å¦‚æ’åºã€è¿‡æ»¤å’Œåˆ†é¡µ:</p>
<pre class="language-javascript hljs">import React from "react";
import { List, Table, useTable } from "@pankod/refine";

export const Sample = () =&gt; {
  const { tableProps } = useTable();

  return (
    &lt;div&gt;
      &lt;List&gt;
        &lt;Table {...tableProps} rowKey="id"&gt;
          &lt;Table.Column dataIndex="id" title="ID"    /&gt;
           &lt;/Table&gt;
      &lt;/List&gt;
    &lt;/div&gt;
  );
};

export default Sample;
</pre>
<h2>å¼€å§‹ä½¿ç”¨ Refine</h2>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªåˆ—å‡ºç”¨æˆ·çš„ç®€å•åº”ç”¨ç¨‹åºã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†ä¸º Refine ç”Ÿæˆä¸€ä¸ªé»˜è®¤æ¨¡æ¿ã€‚</p>
<p>æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼›ç¬¬ä¸€ç§æŠ€æœ¯æ˜¯ä½¿ç”¨<a href="https://pankod.github.io/superplate/" target="_blank" rel="noopener"> superplate </a>ï¼Œç¬¬äºŒç§æ˜¯ä½¿ç”¨ Create React Appã€‚æˆ‘ä»¬å°†åŸºäºæœ¬æ•™ç¨‹ä½¿ç”¨åˆ›å»º React åº”ç”¨ç¨‹åºçš„æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬éƒ½æ˜¯ React çš„ç²‰ä¸ğŸ˜Šã€‚</p>
<p>åœ¨æ‚¨çš„ç»ˆç«¯ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ React åº”ç”¨ç¨‹åºå¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<pre class="language-shell hljs">yarn create react-app refine-react-framework
</pre>
<p>è¿™å°†ç”Ÿæˆä¸€ä¸ªå¯åŠ¨æ¨¡æ¿å¹¶åˆ›å»ºä¸€ä¸ª<code>refine-react-framework</code>æ–‡ä»¶å¤¹ã€‚æ‚¨çš„<code>package.json</code>æ–‡ä»¶åº”è¯¥æ˜¯è¿™æ ·çš„:</p>
<p><img data-attachment-id="88645" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/refine-packagejson-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file.png" data-orig-size="419,629" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Refine-packagejson-file" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file-200x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file.png" decoding="async" class="size-full wp-image-88645 aligncenter jetpack-lazy-image" src="../Images/ebbdc15bf8b77f2fa914bdd2d89ac1fe.png" alt="Screenshot of package.json file" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file.png 419w, https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file-200x300.png 200w" data-lazy-sizes="(max-width: 419px) 100vw, 419px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="88645" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/refine-packagejson-file/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file.png" data-orig-size="419,629" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Refine-packagejson-file" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file-200x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file.png" decoding="async" loading="lazy" class="size-full wp-image-88645 aligncenter" src="../Images/ebbdc15bf8b77f2fa914bdd2d89ac1fe.png" alt="Screenshot of package.json file" srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file.png 419w, https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file-200x300.png 200w" sizes="(max-width: 419px) 100vw, 419px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/Refine-packagejson-file.png"/></noscript>
<p>ä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡æœ‰å®Œæˆã€‚åœ¨æ„å»ºäº†é»˜è®¤çš„ React æ¨¡æ¿ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£… Refine åŒ…:</p>
<pre class="language-shell hljs">yarn add @pankod/refine @pankod/refine-react-router
</pre>
<p>è¿™å°†æŠŠ Refine æ¨¡å—å®‰è£…åˆ°æˆ‘ä»¬ä¸Šé¢åˆ›å»ºçš„ React åº”ç”¨ç¨‹åºä¸­ã€‚è¿™æ˜¯æ‚¨çš„<code>package.json</code>æ–‡ä»¶ç°åœ¨åº”è¯¥çœ‹èµ·æ¥çš„æ ·å­:</p>
<p><img data-attachment-id="88648" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/packagejson-refine/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine.png" data-orig-size="415,657" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="packagejson-refine" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine-189x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine.png" decoding="async" class="size-full wp-image-88648 aligncenter jetpack-lazy-image" src="../Images/a4cbf999bf68132d7897cd2db9f4c219.png" alt="Package.json file after installing Refine" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine.png 415w, https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine-189x300.png 189w" data-lazy-sizes="(max-width: 415px) 100vw, 415px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="88648" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/packagejson-refine/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine.png" data-orig-size="415,657" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="packagejson-refine" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine-189x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine.png" decoding="async" loading="lazy" class="size-full wp-image-88648 aligncenter" src="../Images/a4cbf999bf68132d7897cd2db9f4c219.png" alt="Package.json file after installing Refine" srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine.png 415w, https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine-189x300.png 189w" sizes="(max-width: 415px) 100vw, 415px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-refine.png"/></noscript>
<p>Refine æ¨¡å—å·²ç»æˆåŠŸå®‰è£…ï¼Œå¦‚ç¬¬å…­è¡Œå’Œç¬¬ä¸ƒè¡Œæ‰€ç¤ºã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿è¡Œåº”ç”¨ç¨‹åº:</p>
<pre class="language-shell hljs">yarn start
</pre>
<p>æ‚¨çš„è¾“å‡ºåº”è¯¥æ˜¯è¿™æ ·çš„:</p>
<p><img data-attachment-id="88651" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/blank-refine-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app.png" data-orig-size="730,341" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blank-refine-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app-300x140.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app.png" decoding="async" class="size-full wp-image-88651 aligncenter jetpack-lazy-image" src="../Images/190dd0dc3df8fb108563d9e3aac2faf2.png" alt="Blank refine app" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app-300x140.png 300w" data-lazy-sizes="(max-width: 730px) 100vw, 730px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="88651" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/blank-refine-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app.png" data-orig-size="730,341" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blank-refine-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app-300x140.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app.png" decoding="async" loading="lazy" class="size-full wp-image-88651 aligncenter" src="../Images/190dd0dc3df8fb108563d9e3aac2faf2.png" alt="Blank refine app" srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app.png 730w, https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app-300x140.png 300w" sizes="(max-width: 730px) 100vw, 730px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/Blank-refine-app.png"/></noscript>
<p>è®©æˆ‘ä»¬åœ¨ä¸Šé¢åˆ›å»ºçš„é¡¹ç›®å†…éƒ¨åšä¸€äº›æ¸…ç†å·¥ä½œï¼Œå› ä¸ºæœ‰ä¸€äº›æˆ‘ä»¬ä¸ä¼šä½¿ç”¨çš„ä¸å¿…è¦çš„æ–‡ä»¶ã€‚</p>
<p>æ‰“å¼€<code>src</code>æ–‡ä»¶å¤¹ï¼Œä»é¡¹ç›®ä¸­åˆ é™¤<code>setupTests.js</code>ã€<code>reportWebVitals.js</code>ã€<code>logo.svg</code>ã€<code>App.css</code>å’Œ<code>toApp.test.js</code>ã€‚è¿™åªæ˜¯ä¸ºäº†å‡å°‘é¡¹ç›®æ–‡ä»¶çš„å¤§å°ï¼Œå› ä¸ºæˆ‘ä»¬ä¸ä¼šä½¿ç”¨å®ƒä»¬ã€‚</p>
<p>æ‰“å¼€<code>App.js</code>ï¼Œå°†ä»£ç æ›¿æ¢ä¸º:</p>
<pre class="language-javascript hljs">const App = () =&gt; {
  return (
    &lt;div&gt;
      Hello World
    &lt;/div&gt;
  );
}
 
export default App;
</pre>
<p>ä¸Šé¢çš„ä»£ç åªæ˜¯ä»æ¨¡æ¿ä¸­åˆ é™¤äº†ä»¥å‰çš„å†…å®¹ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸€ä¸ªå¹²å‡€çš„ç¯å¢ƒä¸­å·¥ä½œã€‚</p>
<p>å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºè¢«ç ´åäº†ï¼Œå› ä¸ºæˆ‘ä»¬åˆ é™¤äº†ä¸€äº›é“¾æ¥åˆ°<code>index.js</code>å†…éƒ¨çš„æ–‡ä»¶ã€‚è®©æˆ‘ä»¬é€šè¿‡ç”¨ä¸‹é¢çš„ä»£ç æ›´æ–°æ–‡ä»¶æ¥è§£å†³è¿™ä¸ªé—®é¢˜:</p>
<pre class="language-javascript hljs">import React from "react";
import ReactDOM from "react-dom";
import "./index.css";
import App from "./App";

ReactDOM.render(
 &lt;React.StrictMode&gt;
   &lt;App /&gt;
 &lt;/React.StrictMode&gt;,

 document.getElementById("root")
);
</pre>
<p>æœ€åï¼Œè¿›å…¥ä½ çš„<code>index.css</code>æ–‡ä»¶å¹¶æ¸…é™¤å®ƒï¼Œè¿™æ ·å®ƒå°±ä¸åŒ…å«ä»»ä½•ä»£ç äº†ã€‚</p>
<p>ä½ ä¼šæ³¨æ„åˆ°æˆ‘ä»¬çš„åº”ç”¨ä¸­æ²¡æœ‰åŒ…å«ä»»ä½•ç¬¬ä¸‰æ–¹ UI åº“ã€‚ä¸ºä»€ä¹ˆï¼Ÿè¿™æ˜¯å› ä¸º Refine è‡ªå¸¦äº†ä¸€ä¸ªåä¸º Ant Design çš„å†…ç½® UI åº“ç³»ç»Ÿã€‚</p>
<p>å…¶ä»– UI åº“ç³»ç»Ÿ(å¦‚<a href="https://blog.logrocket.com/advanced-techniques-chakra-ui/" target="_blank" rel="noopener">æŸ¥å…‹æ‹‰ UI </a>ã€å¼•å¯¼ã€ææ–™ UI)ä¹Ÿå— Refine æ”¯æŒã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨é»˜è®¤çš„ Ant è®¾è®¡ç³»ç»Ÿã€‚</p>
<h2>ç”¨ Refine æ„å»ºç®€å•çš„ web åº”ç”¨ç¨‹åº</h2>
<p>ç°åœ¨è®©æˆ‘ä»¬åŠ¨æ‰‹çœ‹çœ‹ Refine åœ¨ä¸€ä¸ªç®€å•çš„ç”¨æˆ·åˆ—è¡¨åº”ç”¨ç¨‹åºä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚è¯¥åº”ç”¨ç¨‹åºå°†ä»ç«¯ç‚¹æ£€ç´¢ä¸€äº›éšæœºæ•°æ®ï¼Œå¹¶ä»¥å¸¦æœ‰åˆ†é¡µåŠŸèƒ½çš„è¡¨æ ¼å½¢å¼æä¾›ç»™ç”¨æˆ·ã€‚</p>
<p>æˆ‘ä»¬å°†ä½¿ç”¨ JSON Server æä¾›çš„ä¸€äº›è™šæ„çš„ REST API æ•°æ®ï¼Œè¿™æ˜¯ä¸€ä¸ªç”Ÿæˆå‡ REST API çš„å·¥å…·ã€‚åœ¨ä½¿ç”¨ API ä¹‹å‰ï¼Œæ‚¨åº”è¯¥é˜…è¯»ä½äº<a href="https://api.fake-rest.refine.dev/" target="_blank" rel="noopener">https://api.fake-rest.refine.dev/</a>çš„æ–‡æ¡£ã€‚</p>
<p>è®©æˆ‘ä»¬å¯¹ä¸Šä¸€èŠ‚å¼€å§‹çš„é¡¹ç›®åšä¸€äº›æ›´æ”¹ã€‚åœ¨<code>src</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª<code>pages</code>æ–‡ä»¶å¤¹ã€<code>component</code>æ–‡ä»¶å¤¹å’Œ<code>queries</code>æ–‡ä»¶å¤¹ã€‚è¿™äº›æ–‡ä»¶å¤¹å°†æœ‰åŠ©äºå…³æ³¨ç‚¹çš„åˆ†ç¦»ï¼Œä»è€Œäº§ç”Ÿè‰¯å¥½çš„ä»£ç ç»„ç»‡ã€‚</p>
<p>åœ¨ components æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code>users</code>çš„å­æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code>User.jsx</code>çš„æ–‡ä»¶ã€‚ç„¶åï¼Œå¤åˆ¶å¹¶ç²˜è´´ä»¥ä¸‹ä»£ç :</p>
<pre class="language-javascript hljs">import React from "react";
import { List, Table, useTable } from "@pankod/refine";

export const Users = () =&gt; {
  const { tableProps } = useTable({
    initialSorter: [
      {
        field: "title",
        order: "asc",
      },
    ],
  });

  return (
    &lt;div&gt;
      &lt;List&gt;
        &lt;Table {...tableProps} rowKey="id"&gt;
          &lt;Table.Column dataIndex="id" title="ID" sorter /&gt;
          &lt;Table.Column dataIndex="firstName" title="First Name" sorter /&gt;
          &lt;Table.Column dataIndex="lastName" title="Last name" sorter /&gt;
          &lt;Table.Column dataIndex="email" title="Email" sorter /&gt;
          &lt;Table.Column dataIndex="birthday" title="Birthday" sorter /&gt;
        &lt;/Table&gt;
      &lt;/List&gt;
    &lt;/div&gt;
  );
};

export default Users;
</pre>
<p>è¿™æ˜¯çœŸæ­£çš„éª—å±€å‘ç”Ÿçš„åœ°æ–¹ï¼åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œä¸€äº›ç»„ä»¶æ˜¯ç”¨ä¸€ä¸ª<code>useTable</code>é’©å­å¯¼å…¥çš„ã€‚</p>
<p>è¯·è®°ä½ï¼Œè¿™é‡Œä½¿ç”¨äº†æ‰€æœ‰çš„ Ant è®¾è®¡ç»„ä»¶ï¼Œå®ƒä»¬åˆ›å»ºäº†ä¸€ä¸ªæƒŸä¸€çš„è¡¨é›†åˆï¼Œå°†ç”¨äºåœ¨é¡¹ç›®æœŸé—´å¡«å……ç‰¹å®šçš„æ•°æ®ã€‚è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹ä¸Šé¢çš„ä»£ç ã€‚</p><div class="code-block code-block-54">
<hr/>
<h3>æ›´å¤šæ¥è‡ª LogRocket çš„ç²¾å½©æ–‡ç« :</h3>

<hr/></div>
<p>é’©å­æ˜¯ Refine çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼Œæ­£å¦‚æˆ‘ä»¬å‰é¢æ‰€å­¦çš„,<code>useTable()</code>æ˜¯ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†ã€‚åœ¨è¿™é‡Œï¼Œ<code>useTable()</code>é’©å­ä»ä¸€ä¸ª API ä¸­æ£€ç´¢æ•°æ®ï¼Œå¹¶å°†å®ƒåŒ…è£…åœ¨ç»„ä»¶çš„å„ç§åŠ©æ‰‹é’©å­ä¸­ã€‚é€šè¿‡è¿™ä¸€è¡Œä»£ç ï¼Œæ’åºã€è¿‡æ»¤å’Œåˆ†é¡µç­‰æ•°æ®äº¤äº’ä»»åŠ¡å°†å¯ä»¥åŠ¨æ€å®Œæˆã€‚</p>
<p><code>initialSorter</code>å‚æ•°å…è®¸æ‚¨é€‰æ‹©å“ªä¸ªå­—æ®µå°†ä»å“ªä¸ªæ’åºçŠ¶æ€å¼€å§‹(<code>"asc"</code>æˆ–<code>"desc"</code>)ã€‚å®ƒå†³å®šäº†æ•°æ®æ˜¯æŒ‰å‡åºè¿˜æ˜¯é™åºæ˜¾ç¤ºã€‚å®ƒé€šè¿‡è¡¨çš„<code>sorter</code>å±æ€§å·¥ä½œã€‚</p>
<p><code>List</code>æ˜¯ç»†åŒ–æˆåˆ†ã€‚å®ƒå……å½“å…¶ä»–å…ƒç´ çš„åŒ…è£…ã€‚</p>
<p><code>Table.Column</code>ç”¨äºæ˜¾ç¤ºæ•°æ®è¡Œå’Œæ”¶é›†ç»“æ„åŒ–æ•°æ®ã€‚å®ƒè¿˜èƒ½å¤Ÿæ’åºã€æœç´¢ã€åˆ†é¡µå’Œè¿‡æ»¤ã€‚</p>
<p><code>rowKey</code>æ˜¯ç”¨äºé«˜æ•ˆè¿­ä»£çš„ç‹¬ä¸€æ— äºŒçš„æ ‡è¯†ç¬¦é”®ã€‚</p>
<p><code>dataIndex</code>å±æ€§å……å½“æ¯ä¸ªè¡¨æ ¼è¡Œå’Œåˆ—çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚å®ƒå°†è¯¥å­—æ®µæ˜ å°„åˆ°æ¥è‡ª API å“åº”çš„åŒ¹é…é”®ã€‚</p>
<p>è®©æˆ‘ä»¬å¯åŠ¨ç»ˆç«¯ï¼Œåœ¨æ‚¨å–œæ¬¢çš„æµè§ˆå™¨ä¸­æŸ¥çœ‹è¾“å‡ºï¼›å®ƒçœ‹èµ·æ¥åº”è¯¥æ˜¯è¿™æ ·çš„:</p>
<p><img data-attachment-id="88656" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/empty-user-table/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table.png" data-orig-size="914,91" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Empty-user-table" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table-300x30.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table.png" decoding="async" class="size-full wp-image-88656 aligncenter jetpack-lazy-image" src="../Images/7571284f2fc99ccdb7a9e8b966f133ac.png" alt="empty user table" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table.png 914w, https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table-300x30.png 300w, https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table-768x76.png 768w" data-lazy-sizes="(max-width: 914px) 100vw, 914px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="88656" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/empty-user-table/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table.png" data-orig-size="914,91" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Empty-user-table" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table-300x30.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table.png" decoding="async" loading="lazy" class="size-full wp-image-88656 aligncenter" src="../Images/7571284f2fc99ccdb7a9e8b966f133ac.png" alt="empty user table" srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table.png 914w, https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table-300x30.png 300w, https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table-768x76.png 768w" sizes="(max-width: 914px) 100vw, 914px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/Empty-user-table.png"/></noscript>
<h2>æ­£åœ¨ä¸ºåº”ç”¨ç¨‹åºæ£€ç´¢æ•°æ®</h2>
<p>ç°åœ¨è®©æˆ‘ä»¬ä½¿ç”¨å‡çš„ REST API æ¥è·å–ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ã€‚å¯¼èˆªåˆ°<code>queries</code>æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code>GetData.jsx</code>çš„æ–‡ä»¶ã€‚å°†ä»¥ä¸‹ä»£ç å¤åˆ¶å¹¶ç²˜è´´åˆ°æ‚¨çš„ç¼–è¾‘å™¨ä¸­:</p>
<pre class="language-javascript hljs">import { Refine } from "@pankod/refine";
import routerProvider from "@pankod/refine-react-router";
import dataProvider from "@pankod/refine-simple-rest";
 
import { Users } from "components/users/Users";
 
export const GetData = () =&gt; {
  const API_URL = "https://api.fake-rest.refine.dev";
 
  return (
    &lt;Refine
      routerProvider={routerProvider}
      dataProvider={dataProvider(API_URL)}
      resources={[{ name: "users", list: Users }]}
      Layout={({ children }) =&gt; (
        &lt;div style={{ display: "flex", flexDirection: "column" }}&gt;
          {children}
        &lt;/div&gt;
      )}
    /&gt;
  );
};
export default GetData;
</pre>
<p><code>routerProvider</code>ã€<code>dataProvider</code>ã€<code>resources</code>å’Œ<code>Layout</code>æ˜¯è¿™é‡Œè¦å¯»æ‰¾çš„æœ€é‡è¦çš„ä¸œè¥¿ã€‚è¿™äº›éƒ½æ˜¯å·²ä¼ é€’ç»™â€œç»†åŒ–â€ç»„ä»¶çš„å±æ€§ã€‚è™šæ‹Ÿæ•°æ®å°†åœ¨<code>API_URL</code>ç”Ÿæˆã€‚</p>
<p>ä¸€äº›è·¯ç”±å™¨ç‰¹æ€§ï¼Œå¦‚èµ„æºé¡µé¢ã€å¯¼èˆªç­‰ï¼Œæ˜¯ä½œä¸º<code>routerProvider</code>çš„ç»“æœè€Œåˆ›å»ºçš„ã€‚å®ƒç»™ä½ é€‰æ‹©ä½¿ç”¨ä»»ä½•ä½ æƒ³è¦çš„è·¯ç”±å™¨åº“ã€‚</p>
<p>å®šåˆ¶åº”ç”¨ç¨‹åºå’Œ API ä¹‹é—´çš„æ¥å£ç§°ä¸ºæ•°æ®æä¾›è€…ï¼Œå¦‚ä¸Šé¢çš„<code>dataProvider</code>æ‰€ç¤ºã€‚å®ƒå……å½“äº†ä¸€ä¸ªç²¾ç‚¼é›†æˆå™¨ï¼Œä½¿å¾—å¼€å‘äººå‘˜åˆ©ç”¨å„ç§ API å’Œæ•°æ®æœåŠ¡å˜å¾—ç®€å•ã€‚å®ƒä½¿ç”¨å·²å»ºç«‹çš„æ–¹æ³•å‘é€ HTTP è¯·æ±‚å¹¶æ¥æ”¶æ•°æ®ä½œä¸ºå›æŠ¥ã€‚</p>
<p><code>resources</code> Refine å±æ€§è¡¨ç¤º API ç«¯ç‚¹ã€‚å®ƒå°†<code>name</code> prop è¿æ¥åˆ°ä¸€ä¸ªç‰¹å®šçš„ç«¯ç‚¹ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå°†é™„åŠ åˆ°è¯¥ç«¯ç‚¹çš„ URL åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé™„åŠ çš„ URL æ˜¯â€œ/usersâ€</p>
<p><code>Layout</code>æ˜¯ä¸€ä¸ªå®šåˆ¶ç»„ä»¶ï¼Œå…è®¸ä½ è®¾è®¡ä¸€ä¸ªæ–°çš„æ¨¡æ¿å’Œæ ·å¼ï¼Œè€Œä¸å¿…ä½¿ç”¨é»˜è®¤æ¨¡æ¿ã€‚å®ƒéœ€è¦ä¸€ä¸ªå­å‚æ•°æ¥ä½¿å°†æ¥åœ¨å®ƒå†…éƒ¨æä¾›çš„ç»„ä»¶æ›´å®¹æ˜“å¤„ç†ã€‚</p>
<p>ä¸€ä¸ªå‘½åå¯¼å…¥è¢«ç”¨æ¥ä»ä¹‹å‰ç”¨<code>Table.Column</code>æŠ€æœ¯åˆ›å»ºçš„<code>User</code>ç»„ä»¶ä¸­å¼•å…¥ä¸€ä¸ª<code>User</code>ç»„ä»¶ã€‚ç„¶åå°†å®ƒæ·»åŠ åˆ° resource å±æ€§ä¸­ï¼Œè¿™å°†è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªç”¨äºè·¯ç”±çš„ URL è·¯å¾„ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬é€šè¿‡æ·»åŠ ä¸€äº›é¢å¤–çš„æ ‡ç­¾æ¥æ”¹è¿›åº”ç”¨ç¨‹åºçš„ç‰©ç†å¸ƒå±€ï¼Œä»è€Œå¯¹æˆ‘ä»¬çš„<code>User.jsx</code>æ–‡ä»¶è¿›è¡Œä¸€äº›ä¿®æ”¹ã€‚</p>
<p>å¤åˆ¶å¹¶ç²˜è´´ä»¥ä¸‹ä»£ç :</p>
<pre class="language-javascript hljs">import React from "react";
import {
  Button,
  Icons,
  List,
  Table,
  useTable,
  Typography,
} from "@pankod/refine";
 
export const Users = () =&gt; {
  const { Title } = Typography;
  const { tableProps } = useTable({
    initialSorter: [
      {
        field: "title",
        order: "asc",
      },
    ],
  });
  
  return (
    &lt;div&gt;
      &lt;Title
        style={{
          textAlign: "center",
          fontSize: "2rem",
          fontWeight: 600,
          padding: "1rem",
          color: "#67be23",
        }}
      &gt;
        Simple User Listing Application
      &lt;/Title&gt;
      &lt;List&gt;
        &lt;Table {...tableProps} rowKey="id"&gt;
          &lt;Table.Column dataIndex="id" title="ID" sorter /&gt;
          &lt;Table.Column dataIndex="firstName" title="First Name" sorter /&gt;
          &lt;Table.Column dataIndex="lastName" title="Last name" sorter /&gt;
          &lt;Table.Column dataIndex="email" title="Email" sorter /&gt;
          &lt;Table.Column dataIndex="birthday" title="Birthday" sorter /&gt;
        &lt;/Table&gt;
      &lt;/List&gt;
    &lt;/div&gt;
  );
};
 
export default Users;
</pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ¥è‡ª<code>"@pankod/refine"</code>çš„ç»„ä»¶è¢«å¯¼å…¥ï¼Œå®ƒä»¬å°†è¢«ç”¨æ¥ä¸ºè¡¨ç”Ÿæˆç”¨æˆ·ã€‚</p>
<p>ä¸ºäº†æ”¹å–„ç”¨æˆ·ä½“éªŒï¼Œå¼•å…¥äº†ä¸€äº›æ ‡è®°ï¼Œå¹¶ä¸”è¿™äº›æ ‡è®°é€šè¿‡å†…è”æ ·å¼å¾—åˆ°äº†å¢å¼ºã€‚</p>
<p>è®©æˆ‘ä»¬é‡æ–°å¯åŠ¨ç»ˆç«¯ï¼Œæ£€æŸ¥æµè§ˆå™¨çš„æ–°è¾“å‡º:</p>
<p><img data-attachment-id="88659" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/user-list-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/user-list.png" data-orig-size="875,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="user-list" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/user-list-300x167.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/user-list.png" decoding="async" class="size-full wp-image-88659 aligncenter jetpack-lazy-image" src="../Images/33c08c35da0432f94829b6a82b100f5a.png" alt="User list with data" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/user-list.png 875w, https://blog.logrocket.com/wp-content/uploads/2022/01/user-list-300x167.png 300w, https://blog.logrocket.com/wp-content/uploads/2022/01/user-list-768x427.png 768w" data-lazy-sizes="(max-width: 875px) 100vw, 875px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/01/user-list.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/user-list.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="88659" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/user-list-2/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/user-list.png" data-orig-size="875,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="user-list" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/user-list-300x167.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/user-list.png" decoding="async" loading="lazy" class="size-full wp-image-88659 aligncenter" src="../Images/33c08c35da0432f94829b6a82b100f5a.png" alt="User list with data" srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/user-list.png 875w, https://blog.logrocket.com/wp-content/uploads/2022/01/user-list-300x167.png 300w, https://blog.logrocket.com/wp-content/uploads/2022/01/user-list-768x427.png 768w" sizes="(max-width: 875px) 100vw, 875px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/user-list.png"/></noscript>
<p>è€¶ï¼ç”šè‡³åˆ†é¡µä¹Ÿèƒ½å¾ˆå¥½åœ°ä¸æˆ‘ä»¬ç”¨æ¥ç”Ÿæˆæ•°æ®çš„è¡¨ä¸€èµ·å·¥ä½œï¼Œè¯¥è¡¨åŒ…å«ä¸€ä¸ªç”¨æˆ·åˆ—è¡¨ã€‚</p>
<p>æ³¨æ„ï¼Œå½“ä½¿ç”¨<code>useTable</code>é’©å­æ—¶ï¼Œç¼ºçœæƒ…å†µä¸‹åŒ…å«åˆ†é¡µã€‚</p>
<h2>åˆ›å»ºåŠ¨æ€ç™»å½•é¡µé¢</h2>
<p>æˆ‘ä»¬èƒ½å¤Ÿåˆ›å»ºä¸€ä¸ªç®€å•çš„åº”ç”¨ç¨‹åºæ¥æ˜¾ç¤ºéšæœºäººå‘˜çš„åˆ—è¡¨ä»¥åŠæ›´å¤šçš„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªåŠ¨æ€ç™»å½•é¡µé¢æ¥å¢åŠ åº”ç”¨ç¨‹åºçš„è¶£å‘³æ€§ï¼Œè¯¥é¡µé¢å¯ä»¥é˜²æ­¢ç”¨æˆ·åœ¨é€šè¿‡èº«ä»½éªŒè¯ä¹‹å‰è®¿é—®æ‰€åˆ›å»ºçš„ç”¨æˆ·åˆ—è¡¨ã€‚</p>
<p>åœ¨è¿™ä¸ªåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œæ¯”å¦‚<a href="https://github.com/google/google-authenticator" target="_blank" rel="noopener"> Google Authenticator </a>ã€<a href="https://blog.logrocket.com/understanding-axios-post-requests/" target="_blank" rel="noopener"> Axios </a>å’Œ<a href="https://www.npmjs.com/package/dotenv" target="_blank" rel="noopener"> dotenv </a>ã€‚ç”¨æˆ·å°†èƒ½å¤Ÿä½¿ç”¨ Google è®¤è¯è‡ªå·±ï¼Œä½¿ç”¨ Axios å‘ REST ç«¯ç‚¹å‘é€è¯·æ±‚ï¼Œä½¿ç”¨ dotenv ä¿å­˜ç§˜å¯†çš„ API å¯†é’¥ã€‚</p>
<p>å°†ä»¥ä¸‹å‘½ä»¤å¤åˆ¶å¹¶ç²˜è´´åˆ°æ‚¨çš„ç»ˆç«¯ä¸­:</p>
<pre class="language-shell hljs">yarn add react-google-login axios dotenv
</pre>
<p>è¿™å°†å®‰è£… Google Authenticator ä¾èµ–é¡¹ï¼Œä»¥åŠç”¨äºå‘èµ·è¯·æ±‚çš„ Axios å’Œç”¨äºä¿æŠ¤å¯†é’¥å®‰å…¨çš„ dotenvã€‚æ‚¨çš„<code>package.json</code>æ–‡ä»¶åº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·:</p>
<p><img data-attachment-id="88662" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/packagejson-google-axios-dotenv/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv.png" data-orig-size="347,656" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="packagejson-google-axios-dotenv" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv-159x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv.png" decoding="async" class="size-full wp-image-88662 aligncenter jetpack-lazy-image" src="../Images/9a262840cad0a38a2839c9a9d70a00be.png" alt="Package.json file including Google authenticator, axios, and dotenv" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv.png 347w, https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv-159x300.png 159w" data-lazy-sizes="(max-width: 347px) 100vw, 347px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="88662" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/packagejson-google-axios-dotenv/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv.png" data-orig-size="347,656" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="packagejson-google-axios-dotenv" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv-159x300.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv.png" decoding="async" loading="lazy" class="size-full wp-image-88662 aligncenter" src="../Images/9a262840cad0a38a2839c9a9d70a00be.png" alt="Package.json file including Google authenticator, axios, and dotenv" srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv.png 347w, https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv-159x300.png 159w" sizes="(max-width: 347px) 100vw, 347px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/packagejson-google-axios-dotenv.png"/></noscript>
<p>è®©æˆ‘ä»¬ä» Google Authenticator çš„ç‰¹æ€§å¼€å§‹å§ï¼</p>
<p>è½¬åˆ°<code>pages </code>æ–‡ä»¶å¤¹ï¼Œåœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸º<code>Login.jsx</code>çš„æ–°æ–‡ä»¶ã€‚è¿™æ˜¯ç™»å½•è¿‡ç¨‹å‘ç”Ÿçš„åœ°æ–¹ã€‚å°†ä»¥ä¸‹ä»£ç å¤åˆ¶å¹¶ç²˜è´´åˆ°æ‚¨çš„æµè§ˆå™¨ä¸­:</p>
<pre class="language-javascript hljs">import { Button, Icons, useLogin, Typography } from "@pankod/refine";
import { useGoogleLogin } from "react-google-login";
const { GoogleOutlined } = Icons;
const clientId = `${process.env.REACT_APP_CLIENT_ID}`;

export const Login = () =&gt; {
  const { Title } = Typography;
  const { mutate: login, isLoading } = useLogin();

  const { signIn } = useGoogleLogin({
    onSuccess: (response) =&gt; login(response),
    clientId,
    isSignedIn: true,
    cookiePolicy: "single_host_origin",
  });

  return (
    &lt;div&gt;
      &lt;div
        style={{
          background: "#fafafa",
          height: "100vh",
          display: "flex",
          flexDirection: "column",
        }}
      &gt;
        &lt;div&gt;
          &lt;Title
            style={{
              textAlign: "center",
              fontSize: "2rem",
              fontWeight: 600,
              padding: "2rem",
              color: "#67be23",
            }}
          &gt;
            Simple User Listing Application
          &lt;/Title&gt;
        &lt;/div&gt;
        &lt;div style={{  margin: "auto" }}&gt;
          &lt;Title
            style={{
              textAlign: "center",
              fontSize: "1rem",
              fontWeight: 300,
              padding: "3rem 0 0 0",
              color: "#67be23",
            }}
          &gt;
            Sign in with Google
          &lt;/Title&gt;
          &lt;Button
            type="primary"
            size="large"
            block
            icon={&lt;GoogleOutlined /&gt;}
            loading={isLoading}
            onClick={() =&gt; signIn()}
          &gt;
            Sign in
          &lt;/Button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
};
</pre>
<p>è®©æˆ‘ä»¬æ›´è¯¦ç»†åœ°çœ‹çœ‹ä¸Šé¢çš„ä»£ç ï¼Œçœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<p>æˆ‘ä»¬éœ€è¦ä¸ºæˆ‘ä»¬çš„ç™»å½•é¡µé¢å¯¼å…¥å‡ ä¸ªç»„ä»¶å’Œé’©å­ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™æ ·åšäº†ã€‚</p>
<p><code>Button</code>ã€<code>Icon</code>ã€<code>Typography</code>ä¸ºç»„ä»¶ï¼Œ<code>useLogin</code>ã€<code>useGoogleLogin</code>ä¸ºæŒ‚é’©ã€‚</p>
<p><code>Button</code>æ‰§è¡Œä¸æ ‡å‡† HTML æŒ‰é’®æ ‡ç­¾ç›¸åŒçš„åŠŸèƒ½ï¼Œå…è®¸åœ¨ç‚¹å‡»æŒ‰é’®æ—¶æ‰§è¡ŒåŠ¨ä½œã€‚å®ƒåŒ…æ‹¬<code>Icon</code>ç»„ä»¶ã€åŠ è½½çŠ¶æ€å’Œä¸€ä¸ª<code>onClick</code>æ–¹æ³•ï¼Œè¿™äº›éƒ½ä½œä¸ºé“å…·æä¾›ã€‚</p>
<p><code>Typography</code>æ”¯æŒæ–‡æœ¬ç‰¹æ€§ï¼Œå…è®¸å‘<code>Title</code>ç»„ä»¶æ·»åŠ é¢å¤–çš„æ ‡é¢˜æ–‡æœ¬ã€‚</p>
<p><code>useGoogleLogin</code>å…è®¸æ‚¨è®¿é—®<code>signIn</code>å‚æ•°ã€‚è¿™ä¸ªå‚æ•°ç„¶åè¢«æä¾›ç»™<code>Button</code>ç»„ä»¶ï¼Œå½“ç”¨æˆ·ç‚¹å‡»å®ƒæ—¶ï¼Œå®ƒè§¦å‘ä¸€ä¸ªåŠ¨ä½œã€‚</p>
<p><code>useGoogleLogin</code>è°ƒç”¨<code>onSuccess</code>å‡½æ•°ï¼Œæ¯å½“å‘å‡ºç™»å½•è¯·æ±‚æ—¶éƒ½ä¼šè°ƒç”¨è¯¥å‡½æ•°ã€‚æ— è®ºä½•æ—¶è¿è¡Œï¼Œå®ƒéƒ½ä¼šæ£€æŸ¥ä¸<code>onSuccess</code>ç›¸å…³çš„å±æ€§æ˜¯å¦æ­£ç¡®ï¼Œç„¶åå¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯ã€‚å±æ€§åŒ…æ‹¬<code>ClientId</code>ã€<code>isSignedIn</code>å’Œ<code>cookiePolicy</code>ã€‚</p>
<p>å¤åˆ¶å®¢æˆ·ç«¯ ID å¯†é’¥ï¼Œå¹¶å°†å…¶æ”¾å…¥å°†åœ¨åº”ç”¨ç¨‹åºçš„æ ¹æ–‡ä»¶å¤¹ä¸­åˆ›å»ºçš„<code>.env</code>æ–‡ä»¶ä¸­ã€‚<code>Process.env</code>ç”¨äºå°†å®¢æˆ·ç«¯ ID å¯†é’¥ä¸ä½¿ç”¨å®ƒçš„åº”ç”¨ç¨‹åºåŒæ­¥ã€‚</p>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª<code>services</code>æ–‡ä»¶å¤¹ï¼Œå®ƒå°†åœ¨æˆ‘ä»¬å¼€å§‹åº”ç”¨ç¨‹åºä¹‹å‰å¤„ç†æ‰€æœ‰çš„ç”¨æˆ·æ“ä½œã€‚åœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª<code>authProvider.js</code>æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç :</p>
<pre class="language-javascript hljs">import axios from "axios";

export const authProvider = {
    login({ tokenId, profileObj, tokenObj }) {
      axios.defaults.headers.common = {
        Authorization: `Bearer ${tokenId}`,
      };

      localStorage.setItem(
        "user",
        JSON.stringify({ ...profileObj, avatar: profileObj.imageUrl }),
      );
      localStorage.setItem("expiresAt", tokenObj.expires_at.toString());

      return Promise.resolve();
    },
    logout() {
      localStorage.removeItem("user");
      localStorage.removeItem("expiresAt");
      return Promise.resolve();
    },
    checkError() {
      return Promise.resolve();
    },
    checkAuth() {
      const expiresAt = localStorage.getItem("expiresAt");

      if (expiresAt) {
        return new Date().getTime() / 1000 &lt; +expiresAt
          ? Promise.resolve()
          : Promise.reject();
      }
      return Promise.reject();
    },
    getUserIdentity() {
      const user = localStorage.getItem("user");
      if (user) {
        return Promise.resolve(JSON.parse(user));
      }
    },
  };
</pre>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¼€å‘äº†<code>authProvider</code>æ¥å¤„ç†è®¤è¯æ“ä½œã€‚å®ƒæ¥å—åœ¨æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œæ—¶æ‰§è¡Œçš„ä¸€äº›æ–¹æ³•ã€‚</p>
<p><code>login</code>æ–¹æ³•æ¥å—ä¸€äº›è¾“å…¥(<code>tokenId</code>ã€<code>profileObj</code>ã€<code>tokenObj</code>)ï¼Œè¿™äº›è¾“å…¥æ˜¯ä» Google è·å¾—çš„ï¼Œå°†åœ¨åº”ç”¨ç¨‹åºçš„æœªæ¥ä½¿ç”¨ã€‚è¿™äº›å“åº”è¢«æš‚æ—¶ä¿å­˜åˆ°<code>localStorage</code>ä¸­ï¼Œç„¶ååœ¨éœ€è¦çš„æ—¶å€™è¢«è°ƒç”¨ã€‚</p>
<p><code>logout </code>æ–¹æ³•å®è´¨ä¸Šåˆ é™¤äº†å·²ç»è®¾ç½®æˆ–ä¿å­˜åˆ°<code>localStorage</code>çš„ä»»ä½•å†…å®¹ã€‚</p>
<p>éªŒè¯æ˜¯é€šè¿‡<code>checkAuth</code>æ–¹æ³•å¤„ç†çš„ã€‚å®ƒä¼šæ£€æŸ¥ç”¨æˆ·ä¼šè¯æ˜¯å¦ä»å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œæ˜¯å¦å°šæœªç”¨å®Œï¼›å¦‚æœæ²¡æœ‰ï¼Œå®ƒä¼šå°†ç”¨æˆ·å¼¹å›ä¸»é¡µã€‚</p>
<p>æˆåŠŸç™»å½•åï¼Œ<code>getUserIdentity</code>åŠŸèƒ½æœ‰åŠ©äºè·å–ä¿å­˜çš„æ•°æ®ã€‚ä»¥å‰ä¸ºå°†æ¥ä¿å­˜çš„æ•°æ®å°†åœ¨è¿™é‡Œè¢«è®¿é—®å’Œä½¿ç”¨ã€‚</p>
<p>ç°åœ¨è®©æˆ‘ä»¬æ›´æ–°ä¹‹å‰åˆ›å»ºçš„<code>GetData.jsx</code>æ–‡ä»¶ã€‚å¤åˆ¶å¹¶ç²˜è´´ä»¥ä¸‹ä»£ç :</p>
<pre class="language-javascript hljs">import { Refine } from "@pankod/refine";
import routerProvider from "@pankod/refine-react-router";
import dataProvider from "@pankod/refine-simple-rest";
import {authProvider} from "services/authProvider"
import axios from "axios";

import { Users } from "components/users/Users";
import { Login } from "pages/Login";

export const GetData = () =&gt; {
  const API_URL = "https://api.fake-rest.refine.dev";

  return (
    &lt;Refine
      authProvider={authProvider}
      routerProvider={routerProvider}
      dataProvider={dataProvider(API_URL, axios)}
      resources={[{ name: "users", list: Users }]}
      LoginPage={Login}
      reactQueryDevtoolConfig={{
        initialIsOpen: false,
        position: "none",
      }}
      Layout={({ children }) =&gt; (
        &lt;div style={{ display: "flex", flexDirection: "column" }}&gt;
          {children}
        &lt;/div&gt;
      )}
    /&gt;
  );
};

export default GetData;
</pre>
<p>å…ˆå‰åˆ›å»ºçš„<code>authProvider </code>è¢«å¯¼å…¥å¹¶ä½œä¸ºå±æ€§ä¼ é€’ç»™ Refine ç»„ä»¶ã€‚</p>
<p>å› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå®šåˆ¶çš„<code>Login.jsx</code>ç»„ä»¶ï¼Œæ‰€ä»¥åœ¨ Refine ç»„ä»¶ä¸­ä¹Ÿæä¾›äº†<code>LoginPage</code>å±æ€§ã€‚</p>
<p><code>Axios</code>ä½œä¸ºå‚æ•°ä¸<code>API_URL</code>ä¸€èµ·ä¼ é€’ï¼Œå› ä¸ºå®ƒå¯¹äºå‘é€è¯·æ±‚æ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹æµè§ˆå™¨ä¸­çš„ç»“æœã€‚è¾“å‡ºåº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p>
<p><img data-attachment-id="88665" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/user-listing-app-sign-in-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button.png" data-orig-size="768,483" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="user-listing-app-sign-in-button" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button-300x189.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button.png" decoding="async" class="size-full wp-image-88665 aligncenter jetpack-lazy-image" src="../Images/e9008cefe793833442af0b9ab0ff196b.png" alt="Sign in button on user listing app" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button.png 768w, https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button-300x189.png 300w" data-lazy-sizes="(max-width: 768px) 100vw, 768px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="88665" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/user-listing-app-sign-in-button/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button.png" data-orig-size="768,483" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="user-listing-app-sign-in-button" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button-300x189.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button.png" decoding="async" loading="lazy" class="size-full wp-image-88665 aligncenter" src="../Images/e9008cefe793833442af0b9ab0ff196b.png" alt="Sign in button on user listing app" srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button.png 768w, https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button-300x189.png 300w" sizes="(max-width: 768px) 100vw, 768px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/user-listing-app-sign-in-button.png"/></noscript>
<p>å½“ç”¨æˆ·é€‰æ‹©<strong> Sign in </strong>æŒ‰é’®æ—¶ï¼Œç³»ç»Ÿå¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯ï¼Œå¹¶å°†ä»–ä»¬é‡å®šå‘åˆ°æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„ç”¨æˆ·é¡µé¢ã€‚</p>
<h2>åˆ›å»ºæ³¨é”€æŒ‰é’®</h2>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ç”¨æˆ·åˆ—è¡¨é¡µé¢å’Œç™»å½•é¡µé¢ã€‚è®©æˆ‘ä»¬é€šè¿‡æ·»åŠ ä¸€ä¸ªé€€å‡ºæŒ‰é’®å¹¶ä»<code>localStorage</code>ç”Ÿæˆä¸€äº›åŠ¨æ€æ•°æ®æ¥ç»“æŸæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚</p>
<p>å¤åˆ¶ä¸‹é¢çš„ä»£ç å¹¶ç²˜è´´åˆ°<code>Users.jsx</code>æ–‡ä»¶ä¸­:</p>
<pre class="language-javascript hljs">import React from "react";
import {
  Button,
  Icons,
  List,
  Table,
  useTable,
  useLogout,
  Typography,
} from "@pankod/refine";
import { useGoogleLogout } from "react-google-login";
import { useGetIdentity } from "@pankod/refine";

export const Users = () =&gt; {
  const { data: identity } = useGetIdentity()
  const { Title } = Typography;
  const { tableProps } = useTable({
    initialSorter: [
      {
        field: "title",
        order: "asc",
      },
    ],
  });

  const { mutate: logout, isLoading } = useLogout();
  const { GoogleOutlined } = Icons;
  const clientId = `${process.env.REACT_APP_CLIENT_ID}`;

  const { signOut } = useGoogleLogout({
    onLogoutSuccess: (response) =&gt; logout(response),
    clientId,
    isSignedIn: false,
    cookiePolicy: "single_host_origin",
  });

  return (
    &lt;div&gt;
      &lt;Title
        style={{
          textAlign: "center",
          fontSize: "2rem",
          fontWeight: 600,
          padding: "1rem",
          color: "#67be23",
        }}
      &gt;
        Simple User Listing Application
      &lt;/Title&gt;
      &lt;div
        style={{
          display: "flex",
          justifyContent: "space-between",
          padding: "0 1.5rem",
        }}
      &gt;
        &lt;Title
          style={{
            fontSize: "1.2rem",
          }}
        &gt;
          &lt;img
            style={{ borderRadius: "50%", marginRight: "1rem", height: "60px" }}
            src={identity?.imageUrl}
            alt=""
          /&gt;
          Welcome &lt;span style={{ color: "#67be23" }}&gt; {identity?.name}!&lt;/span&gt;
        &lt;/Title&gt;
        &lt;Button
          type="primary"
          size="large"
          htmlType="submit"
          icon={&lt;GoogleOutlined /&gt;}
          loading={isLoading}
          onClick={() =&gt; signOut()}
        &gt;
          Sign out
        &lt;/Button&gt;
      &lt;/div&gt;
      &lt;List&gt;
        &lt;Table {...tableProps} rowKey="id"&gt;
          &lt;Table.Column dataIndex="id" title="ID" sorter /&gt;
          &lt;Table.Column dataIndex="firstName" title="First Name" sorter /&gt;
          &lt;Table.Column dataIndex="lastName" title="Last name" sorter /&gt;
          &lt;Table.Column dataIndex="email" title="Email" sorter /&gt;
          &lt;Table.Column dataIndex="birthday" title="Birthday" sorter /&gt;
        &lt;/Table&gt;
      &lt;/List&gt;
    &lt;/div&gt;
  );
};

export default Users;
</pre>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>useGoogleLogout()</code>å’Œ<code>useGetIdentity()</code>é’©å­ã€‚</p>
<p>åœ¨<code>authProvider</code>æ–‡ä»¶ä¸­ï¼Œå£°æ˜äº†<code>useGetIdentity()</code>é’©å­ã€‚å®ƒæä¾›äº†å¯¹<code>identity </code>å‚æ•°çš„è®¿é—®ï¼Œè¯¥å‚æ•°å°†è¢«ç”¨æ¥è·å¾—ä¸€äº›<code>localStorage</code>æ•°æ®ã€‚</p>
<p><code>useGoogleLogout()</code>é’©å­ç±»ä¼¼äº<code>useGoogleLogin()</code>é’©å­ï¼Œå› ä¸ºå®ƒé€šè¿‡å…è®¸ä½ ä½¿ç”¨<code>signOut</code>å‚æ•°æ¥å®ç°ç›¸åçš„åŠŸèƒ½ã€‚å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œè¿™ä¸ªå‚æ•°è¢«ä¼ é€’ç»™<code>Button</code>ç»„ä»¶ï¼Œå®ƒæ‰§è¡Œä¸€ä¸ªåŠ¨ä½œã€‚</p>
<p>æ¯å½“<code>useGoogleLogin()</code>å‘å‡ºæ³¨é”€è¯·æ±‚æ—¶ï¼Œå°±ä¼šæ‰§è¡Œ<code>onLogoutSuccess</code>æ–¹æ³•ã€‚</p>
<p><code>identity.name</code>ä»<code>localStorage</code>è¯»å–ç”¨æˆ·åã€‚</p>
<p>å›¾åƒ URL é€šè¿‡<code>identity.imageUrl</code>ä»<code>localStorage</code>è·å¾—ã€‚</p>
<p><img data-attachment-id="88668" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/logged-in-user-listing-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app.png" data-orig-size="766,486" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="logged-in-user-listing-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app-300x190.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app.png" decoding="async" class="size-full wp-image-88668 aligncenter jetpack-lazy-image" src="../Images/2159a53aa8d4ab363d697d02579f9798.png" alt="User listing app with logged-in profile" data-lazy-srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app.png 766w, https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app-300x190.png 300w" data-lazy-sizes="(max-width: 766px) 100vw, 766px" data-lazy-src="https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app.png?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app.png"/></p><noscript><img data-lazy-fallback="1" data-attachment-id="88668" data-permalink="https://blog.logrocket.com/getting-started-refine-react-based-framework/logged-in-user-listing-app/" data-orig-file="https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app.png" data-orig-size="766,486" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="logged-in-user-listing-app" data-image-description="" data-image-caption="" data-medium-file="https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app-300x190.png" data-large-file="https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app.png" decoding="async" loading="lazy" class="size-full wp-image-88668 aligncenter" src="../Images/2159a53aa8d4ab363d697d02579f9798.png" alt="User listing app with logged-in profile" srcset="https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app.png 766w, https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app-300x190.png 300w" sizes="(max-width: 766px) 100vw, 766px" data-original-src="https://blog.logrocket.com/wp-content/uploads/2022/01/logged-in-user-listing-app.png"/></noscript>
<p>è€¶ï¼æˆ‘ä»¬çš„ç”³è¯·ç°åœ¨æ­£å¼å®Œæˆã€‚æˆ‘ç›¸ä¿¡æˆ‘ä»¬å·²ç»å­¦ä¹ äº†å¾ˆå¤šå…³äº Refine çš„ä¸œè¥¿ï¼Œå¹¶ä¸”æŒæ¡äº†ä¸€äº› Refine çš„å˜é€šæ–¹æ³•ï¼Œæ¯”å¦‚æˆæƒé’©å­çš„ä½¿ç”¨ã€‚</p>
<h2>ç»“è®º</h2>
<p>åˆ°æœ¬æ–‡ç»“æŸæ—¶ï¼Œæ‚¨åº”è¯¥å·²ç»å¾ˆå¥½åœ°ç†è§£äº† Refine æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä¸ºä»€ä¹ˆå®ƒåœ¨ web åº”ç”¨ç¨‹åºä¸­å¦‚æ­¤é‡è¦ï¼Œä»¥åŠå¦‚ä½•æ„å»ºä¸€ä¸ªåŸºæœ¬çš„ Refine web åº”ç”¨ç¨‹åºã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªå…·æœ‰å„ç§åŠŸèƒ½çš„ç®€å•é¡¹ç›®ã€‚ä½ å¯ä»¥åœ¨ GitHub ä¸ŠæŸ¥çœ‹<a href="https://github.com/Sproff/refine-react-framework" target="_blank" rel="noopener">ä»£ç ï¼Œæˆ–è€…æŸ¥çœ‹</a><a href="https://refine-react-framework.vercel.app" target="_blank" rel="noopener">å®æ—¶è§†å›¾</a>è¿›è¡Œæ›´å¤šç»ƒä¹ ã€‚</p>
<p>æˆ‘å¸Œæœ›ä½ å’Œæˆ‘ä¸€æ ·è§‰å¾—è¿™ç¯‡æ•™ç¨‹å¾ˆæœ‰ç”¨ã€‚</p>
<p>ç¼–ç å¿«ä¹ï¼</p><div class="code-block code-block-17">
<div class="blog-plug inline-plug react-plug" vwo-el-id="26283398190">
<h2 vwo-el-id="41600691720"><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener"> LogRocket </a>:å…¨é¢äº†è§£æ‚¨çš„ç”Ÿäº§ React åº”ç”¨</h2><p>è°ƒè¯• React åº”ç”¨ç¨‹åºå¯èƒ½å¾ˆå›°éš¾ï¼Œå°¤å…¶æ˜¯å½“ç”¨æˆ·é‡åˆ°éš¾ä»¥é‡ç°çš„é—®é¢˜æ—¶ã€‚å¦‚æœæ‚¨å¯¹ç›‘è§†å’Œè·Ÿè¸ª Redux çŠ¶æ€ã€è‡ªåŠ¨æ˜¾ç¤º JavaScript é”™è¯¯ä»¥åŠè·Ÿè¸ªç¼“æ…¢çš„ç½‘ç»œè¯·æ±‚å’Œç»„ä»¶åŠ è½½æ—¶é—´æ„Ÿå…´è¶£ï¼Œ</p><a href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" vwo-el-id="19356441070">try LogRocket</a><p>. </p><a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441380">
<img class="first-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/f300c244a1a1cf916df8b4cb02bec6c6.png" vwo-el-id="18272717540" data-lazy-loaded="1" data-original-src="https://files.readme.io/27c94e7-Image_2017-06-05_at_9.46.04_PM.png"/>
</a>
<a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="19356441690">
<img class="second-react-image alignnone size-full wp-image-46 jetpack-lazy-image jetpack-lazy-image--handled" src="../Images/d6f5a5dd739296c1dd7aab3d5e77eeb9.png" alt="LogRocket Dashboard Free Trial Banner" vwo-el-id="30720362350" data-lazy-loaded="1" data-original-src="https://blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png"/>
</a>
<p vwo-el-id="28675660440" class="">LogRocket ç»“åˆäº†ä¼šè¯å›æ”¾ã€äº§å“åˆ†æå’Œé”™è¯¯è·Ÿè¸ªï¼Œä½¿è½¯ä»¶å›¢é˜Ÿèƒ½å¤Ÿåˆ›å»ºç†æƒ³çš„ web å’Œç§»åŠ¨äº§å“ä½“éªŒã€‚è¿™å¯¹ä½ æ¥è¯´æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
<p>LogRocket ä¸æ˜¯çŒœæµ‹é”™è¯¯å‘ç”Ÿçš„åŸå› ï¼Œä¹Ÿä¸æ˜¯è¦æ±‚ç”¨æˆ·æä¾›æˆªå›¾å’Œæ—¥å¿—è½¬å‚¨ï¼Œè€Œæ˜¯è®©æ‚¨å›æ”¾é—®é¢˜ï¼Œå°±åƒå®ƒä»¬å‘ç”Ÿåœ¨æ‚¨è‡ªå·±çš„æµè§ˆå™¨ä¸­ä¸€æ ·ï¼Œä»¥å¿«é€Ÿäº†è§£å“ªé‡Œå‡ºé”™äº†ã€‚</p>
<p>ä¸å†æœ‰å˜ˆæ‚çš„è­¦æŠ¥ã€‚æ™ºèƒ½é”™è¯¯è·Ÿè¸ªå…è®¸æ‚¨å¯¹é—®é¢˜è¿›è¡Œåˆ†ç±»ï¼Œç„¶åä»ä¸­å­¦ä¹ ã€‚è·å¾—æœ‰å½±å“çš„ç”¨æˆ·é—®é¢˜çš„é€šçŸ¥ï¼Œè€Œä¸æ˜¯è¯¯æŠ¥ã€‚è­¦æŠ¥è¶Šå°‘ï¼Œæœ‰ç”¨çš„ä¿¡å·è¶Šå¤šã€‚</p>
<p vwo-el-id="28675660750">LogRocket Redux ä¸­é—´ä»¶åŒ…ä¸ºæ‚¨çš„ç”¨æˆ·ä¼šè¯å¢åŠ äº†ä¸€å±‚é¢å¤–çš„å¯è§æ€§ã€‚LogRocket è®°å½• Redux å­˜å‚¨ä¸­çš„æ‰€æœ‰æ“ä½œå’ŒçŠ¶æ€ã€‚</p>
<p vwo-el-id="28675661060">ç°ä»£åŒ–æ‚¨è°ƒè¯• React åº”ç”¨çš„æ–¹å¼â€” <a class="signup" href="https://lp.logrocket.com/blg/react-signup-general" target="_blank" rel="noopener noreferrer" vwo-el-id="40093418840">å¼€å§‹å…è´¹ç›‘æ§</a>ã€‚</p>
</div></div>

<p class="clearfix"/>
<p class="clearfix"/>
</article>

</div>    
</body>
</html>